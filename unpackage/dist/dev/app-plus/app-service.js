if (typeof Promise !== "undefined" && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor;
    return this.then(
      (value) => promise.resolve(callback()).then(() => value),
      (reason) => promise.resolve(callback()).then(() => {
        throw reason;
      })
    );
  };
}
;
if (typeof uni !== "undefined" && uni && uni.requireGlobal) {
  const global2 = uni.requireGlobal();
  ArrayBuffer = global2.ArrayBuffer;
  Int8Array = global2.Int8Array;
  Uint8Array = global2.Uint8Array;
  Uint8ClampedArray = global2.Uint8ClampedArray;
  Int16Array = global2.Int16Array;
  Uint16Array = global2.Uint16Array;
  Int32Array = global2.Int32Array;
  Uint32Array = global2.Uint32Array;
  Float32Array = global2.Float32Array;
  Float64Array = global2.Float64Array;
  BigInt64Array = global2.BigInt64Array;
  BigUint64Array = global2.BigUint64Array;
}
;
if (uni.restoreGlobal) {
  uni.restoreGlobal(Vue, weex, plus, setTimeout, clearTimeout, setInterval, clearInterval);
}
(function(vue, shared) {
  "use strict";
  const ON_SHOW = "onShow";
  const ON_HIDE = "onHide";
  const ON_LAUNCH = "onLaunch";
  const ON_THEME_CHANGE = "onThemeChange";
  const ON_SHARE_TIMELINE = "onShareTimeline";
  const ON_SHARE_APP_MESSAGE = "onShareAppMessage";
  function requireNativePlugin(name2) {
    return weex.requireModule(name2);
  }
  function formatAppLog(type, filename, ...args) {
    if (uni.__log__) {
      uni.__log__(type, filename, ...args);
    } else {
      console[type].apply(console, [...args, filename]);
    }
  }
  function resolveEasycom(component, easycom) {
    return shared.isString(component) ? easycom : component;
  }
  const createHook = (lifecycle) => (hook, target = vue.getCurrentInstance()) => {
    !vue.isInSSRComponentSetup && vue.injectHook(lifecycle, hook, target);
  };
  const onShow = /* @__PURE__ */ createHook(ON_SHOW);
  const onHide = /* @__PURE__ */ createHook(ON_HIDE);
  const onLaunch = /* @__PURE__ */ createHook(ON_LAUNCH);
  const onThemeChange = /* @__PURE__ */ createHook(ON_THEME_CHANGE);
  const onShareTimeline = /* @__PURE__ */ createHook(ON_SHARE_TIMELINE);
  const onShareAppMessage = /* @__PURE__ */ createHook(ON_SHARE_APP_MESSAGE);
  const _export_sfc = (sfc, props2) => {
    const target = sfc.__vccOpts || sfc;
    for (const [key, val] of props2) {
      target[key] = val;
    }
    return target;
  };
  const _sfc_main$d = {
    name: "u-mask",
    emits: ["click"],
    props: {
      // 是否显示遮罩
      show: {
        type: Boolean,
        default: false
      },
      // 层级z-index
      zIndex: {
        type: [Number, String],
        default: ""
      },
      // 用户自定义样式
      customStyle: {
        type: Object,
        default() {
          return {};
        }
      },
      // 遮罩的动画样式， 是否使用使用zoom进行scale进行缩放
      zoom: {
        type: Boolean,
        default: true
      },
      // 遮罩的过渡时间，单位为ms
      duration: {
        type: [Number, String],
        default: 300
      },
      // 是否可以通过点击遮罩进行关闭
      maskClickAble: {
        type: Boolean,
        default: true
      },
      // 遮罩的模糊度
      blur: {
        type: [Number, String],
        default: 0
      }
    },
    data() {
      return {
        zoomStyle: {
          transform: ""
        },
        scale: "scale(1.2, 1.2)"
      };
    },
    watch: {
      show(n) {
        if (n && this.zoom) {
          this.zoomStyle.transform = "scale(1, 1)";
        } else if (!n && this.zoom) {
          this.zoomStyle.transform = this.scale;
        }
      }
    },
    computed: {
      maskStyle() {
        let style = {};
        style.backgroundColor = "rgba(0, 0, 0, 0.6)";
        if (this.show)
          style.zIndex = this.zIndex ? this.zIndex : this.$u.zIndex.mask;
        else
          style.zIndex = -1;
        style.transition = `all ${this.duration / 1e3}s ease-in-out`;
        if (Object.keys(this.customStyle).length)
          style = {
            ...style,
            ...this.customStyle
          };
        return style;
      },
      filterStyle() {
        let { blur } = this;
        let style = {};
        if (blur) {
          style.backdropFilter = `blur(${blur}rpx)`;
        }
        return style;
      }
    },
    methods: {
      click() {
        if (!this.maskClickAble)
          return;
        this.$emit("click");
      }
    }
  };
  function _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: vue.normalizeClass(["u-mask", {
          "u-mask-zoom": $props.zoom,
          "u-mask-show": $props.show
        }]),
        "hover-stop-propagation": "",
        style: vue.normalizeStyle([$options.maskStyle, $data.zoomStyle, $options.filterStyle]),
        onClick: _cache[0] || (_cache[0] = (...args) => $options.click && $options.click(...args)),
        onTouchmove: _cache[1] || (_cache[1] = vue.withModifiers(() => {
        }, ["stop", "prevent"]))
      },
      [
        vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
      ],
      38
      /* CLASS, STYLE, HYDRATE_EVENTS */
    );
  }
  const __easycom_0$2 = /* @__PURE__ */ _export_sfc(_sfc_main$d, [["render", _sfc_render$3], ["__scopeId", "data-v-55a0dd4d"], ["__file", "E:/lotaway/project/uni-social/node_modules/vk-uview-ui/components/u-mask/u-mask.vue"]]);
  const _sfc_main$c = {
    name: "u-icon",
    emits: ["click", "touchstart"],
    props: {
      // 图标类名
      name: {
        type: String,
        default: ""
      },
      // 图标颜色，可接受主题色
      color: {
        type: String,
        default: ""
      },
      // 字体大小，单位rpx
      size: {
        type: [Number, String],
        default: "inherit"
      },
      // 是否显示粗体
      bold: {
        type: Boolean,
        default: false
      },
      // 点击图标的时候传递事件出去的index（用于区分点击了哪一个）
      index: {
        type: [Number, String],
        default: ""
      },
      // 触摸图标时的类名
      hoverClass: {
        type: String,
        default: ""
      },
      // 自定义扩展前缀，方便用户扩展自己的图标库
      customPrefix: {
        type: String,
        default: "uicon"
      },
      // 图标右边或者下面的文字
      label: {
        type: [String, Number],
        default: ""
      },
      // label的位置，只能右边或者下边
      labelPos: {
        type: String,
        default: "right"
      },
      // label的大小
      labelSize: {
        type: [String, Number],
        default: "28"
      },
      // label的颜色
      labelColor: {
        type: String,
        default: "#606266"
      },
      // label与图标的距离(横向排列)
      marginLeft: {
        type: [String, Number],
        default: "6"
      },
      // label与图标的距离(竖向排列)
      marginTop: {
        type: [String, Number],
        default: "6"
      },
      // label与图标的距离(竖向排列)
      marginRight: {
        type: [String, Number],
        default: "6"
      },
      // label与图标的距离(竖向排列)
      marginBottom: {
        type: [String, Number],
        default: "6"
      },
      // 图片的mode
      imgMode: {
        type: String,
        default: "widthFix"
      },
      // 自定义样式
      customStyle: {
        type: Object,
        default() {
          return {};
        }
      },
      // 用于显示图片小图标时，图片的宽度
      width: {
        type: [String, Number],
        default: ""
      },
      // 用于显示图片小图标时，图片的高度
      height: {
        type: [String, Number],
        default: ""
      },
      // 用于解决某些情况下，让图标垂直居中的用途
      top: {
        type: [String, Number],
        default: 0
      },
      // 是否为DecimalIcon
      showDecimalIcon: {
        type: Boolean,
        default: false
      },
      // 背景颜色，可接受主题色，仅Decimal时有效
      inactiveColor: {
        type: String,
        default: "#ececec"
      },
      // 显示的百分比，仅Decimal时有效
      percent: {
        type: [Number, String],
        default: "50"
      }
    },
    computed: {
      customClass() {
        let classes = [];
        let { customPrefix, name: name2 } = this;
        let index = name2.indexOf("-icon-");
        if (index > -1) {
          customPrefix = name2.substring(0, index + 5);
          classes.push(name2);
        } else {
          classes.push(`${customPrefix}-${name2}`);
        }
        if (customPrefix === "uicon") {
          classes.push("u-iconfont");
        } else {
          classes.push(customPrefix);
        }
        if (this.showDecimalIcon && this.inactiveColor && this.$u.config.type.includes(this.inactiveColor)) {
          classes.push("u-icon__icon--" + this.inactiveColor);
        } else if (this.color && this.$u.config.type.includes(this.color))
          classes.push("u-icon__icon--" + this.color);
        return classes;
      },
      iconStyle() {
        let style = {};
        style = {
          fontSize: this.size == "inherit" ? "inherit" : this.$u.addUnit(this.size),
          fontWeight: this.bold ? "bold" : "normal",
          // 某些特殊情况需要设置一个到顶部的距离，才能更好的垂直居中
          top: this.$u.addUnit(this.top)
        };
        if (this.showDecimalIcon && this.inactiveColor && !this.$u.config.type.includes(this.inactiveColor)) {
          style.color = this.inactiveColor;
        } else if (this.color && !this.$u.config.type.includes(this.color))
          style.color = this.color;
        return style;
      },
      // 判断传入的name属性，是否图片路径，只要带有"/"均认为是图片形式
      isImg() {
        return this.name.indexOf("/") !== -1;
      },
      imgStyle() {
        let style = {};
        style.width = this.width ? this.$u.addUnit(this.width) : this.$u.addUnit(this.size);
        style.height = this.height ? this.$u.addUnit(this.height) : this.$u.addUnit(this.size);
        return style;
      },
      decimalIconStyle() {
        let style = {};
        style = {
          fontSize: this.size == "inherit" ? "inherit" : this.$u.addUnit(this.size),
          fontWeight: this.bold ? "bold" : "normal",
          // 某些特殊情况需要设置一个到顶部的距离，才能更好的垂直居中
          top: this.$u.addUnit(this.top),
          width: this.percent + "%"
        };
        if (this.color && !this.$u.config.type.includes(this.color))
          style.color = this.color;
        return style;
      },
      decimalIconClass() {
        let classes = [];
        classes.push(this.customPrefix + "-" + this.name);
        if (this.customPrefix == "uicon") {
          classes.push("u-iconfont");
        } else {
          classes.push(this.customPrefix);
        }
        if (this.color && this.$u.config.type.includes(this.color))
          classes.push("u-icon__icon--" + this.color);
        else
          classes.push("u-icon__icon--primary");
        return classes;
      }
    },
    methods: {
      click() {
        this.$emit("click", this.index);
      },
      touchstart() {
        this.$emit("touchstart", this.index);
      }
    }
  };
  function _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        style: vue.normalizeStyle([$props.customStyle]),
        class: vue.normalizeClass(["u-icon", ["u-icon--" + $props.labelPos]]),
        onClick: _cache[1] || (_cache[1] = (...args) => $options.click && $options.click(...args))
      },
      [
        $options.isImg ? (vue.openBlock(), vue.createElementBlock("image", {
          key: 0,
          class: "u-icon__img",
          src: $props.name,
          mode: $props.imgMode,
          style: vue.normalizeStyle([$options.imgStyle])
        }, null, 12, ["src", "mode"])) : (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: vue.normalizeClass(["u-icon__icon", $options.customClass]),
          style: vue.normalizeStyle([$options.iconStyle]),
          "hover-class": $props.hoverClass,
          onTouchstart: _cache[0] || (_cache[0] = (...args) => $options.touchstart && $options.touchstart(...args))
        }, [
          $props.showDecimalIcon ? (vue.openBlock(), vue.createElementBlock("text", {
            key: 0,
            style: vue.normalizeStyle([$options.decimalIconStyle]),
            class: vue.normalizeClass([$options.decimalIconClass, "u-icon__decimal"]),
            "hover-class": $props.hoverClass
          }, null, 14, ["hover-class"])) : vue.createCommentVNode("v-if", true)
        ], 46, ["hover-class"])),
        vue.createCommentVNode(' 这里进行空字符串判断，如果仅仅是v-if="label"，可能会出现传递0的时候，结果也无法显示，微信小程序不传值默认为null，故需要增加null的判断 '),
        $props.label !== "" && $props.label !== null ? (vue.openBlock(), vue.createElementBlock(
          "text",
          {
            key: 2,
            class: "u-icon__label",
            style: vue.normalizeStyle({
              color: $props.labelColor,
              fontSize: _ctx.$u.addUnit($props.labelSize),
              marginLeft: $props.labelPos == "right" ? _ctx.$u.addUnit($props.marginLeft) : 0,
              marginTop: $props.labelPos == "bottom" ? _ctx.$u.addUnit($props.marginTop) : 0,
              marginRight: $props.labelPos == "left" ? _ctx.$u.addUnit($props.marginRight) : 0,
              marginBottom: $props.labelPos == "top" ? _ctx.$u.addUnit($props.marginBottom) : 0
            })
          },
          vue.toDisplayString($props.label),
          5
          /* TEXT, STYLE */
        )) : vue.createCommentVNode("v-if", true)
      ],
      6
      /* CLASS, STYLE */
    );
  }
  const __easycom_1 = /* @__PURE__ */ _export_sfc(_sfc_main$c, [["render", _sfc_render$2], ["__scopeId", "data-v-8e76392f"], ["__file", "E:/lotaway/project/uni-social/node_modules/vk-uview-ui/components/u-icon/u-icon.vue"]]);
  const _sfc_main$b = {
    name: "u-popup",
    emits: ["update:modelValue", "input", "open", "close"],
    props: {
      value: {
        type: Boolean,
        default: false
      },
      modelValue: {
        type: Boolean,
        default: false
      },
      /**
       * 显示状态
       */
      show: {
        type: Boolean,
        default: false
      },
      /**
       * 弹出方向，left|right|top|bottom|center
       */
      mode: {
        type: String,
        default: "left"
      },
      /**
       * 是否显示遮罩
       */
      mask: {
        type: Boolean,
        default: true
      },
      // 抽屉的宽度(mode=left|right)，或者高度(mode=top|bottom)，单位rpx，或者"auto"
      // 或者百分比"50%"，表示由内容撑开高度或者宽度
      length: {
        type: [Number, String],
        default: "auto"
      },
      // 是否开启缩放动画，只在mode=center时有效
      zoom: {
        type: Boolean,
        default: true
      },
      // 是否开启底部安全区适配，开启的话，会在iPhoneX机型底部添加一定的内边距
      safeAreaInsetBottom: {
        type: Boolean,
        default: false
      },
      // 是否可以通过点击遮罩进行关闭
      maskCloseAble: {
        type: Boolean,
        default: true
      },
      // 用户自定义样式
      customStyle: {
        type: Object,
        default() {
          return {};
        }
      },
      // 此为内部参数，不在文档对外使用，为了解决Picker和keyboard等融合了弹窗的组件
      // 对v-model双向绑定多层调用造成报错不能修改props值的问题
      popup: {
        type: Boolean,
        default: true
      },
      // 显示显示弹窗的圆角，单位rpx
      borderRadius: {
        type: [Number, String],
        default: 0
      },
      zIndex: {
        type: [Number, String],
        default: ""
      },
      // 是否显示关闭图标
      closeable: {
        type: Boolean,
        default: false
      },
      // 关闭图标的名称，只能uView的内置图标
      closeIcon: {
        type: String,
        default: "close"
      },
      // 自定义关闭图标位置，top-left为左上角，top-right为右上角，bottom-left为左下角，bottom-right为右下角
      closeIconPos: {
        type: String,
        default: "top-right"
      },
      // 关闭图标的颜色
      closeIconColor: {
        type: String,
        default: "#909399"
      },
      // 关闭图标的大小，单位rpx
      closeIconSize: {
        type: [String, Number],
        default: "30"
      },
      // 宽度，只对左，右，中部弹出时起作用，单位rpx，或者"auto"
      // 或者百分比"50%"，表示由内容撑开高度或者宽度，优先级高于length参数
      width: {
        type: String,
        default: ""
      },
      // 高度，只对上，下，中部弹出时起作用，单位rpx，或者"auto"
      // 或者百分比"50%"，表示由内容撑开高度或者宽度，优先级高于length参数
      height: {
        type: String,
        default: ""
      },
      // 给一个负的margin-top，往上偏移，避免和键盘重合的情况，仅在mode=center时有效
      negativeTop: {
        type: [String, Number],
        default: 0
      },
      // 遮罩的样式，一般用于修改遮罩的透明度
      maskCustomStyle: {
        type: Object,
        default() {
          return {};
        }
      },
      // 遮罩打开或收起的动画过渡时间，单位ms
      duration: {
        type: [String, Number],
        default: 250
      },
      // 遮罩的模糊度
      blur: {
        type: [String, Number],
        default: 0
      }
    },
    data() {
      return {
        visibleSync: false,
        showDrawer: false,
        timer: null,
        closeFromInner: false
        // value的值改变，是发生在内部还是外部
      };
    },
    computed: {
      valueCom() {
        return this.modelValue;
      },
      // 根据mode的位置，设定其弹窗的宽度(mode = left|right)，或者高度(mode = top|bottom)
      style() {
        let style = {};
        if (this.mode == "left" || this.mode == "right") {
          style = {
            width: this.width ? this.getUnitValue(this.width) : this.getUnitValue(this.length),
            height: "100%",
            transform: `translate3D(${this.mode == "left" ? "-100%" : "100%"},0px,0px)`
          };
        } else if (this.mode == "top" || this.mode == "bottom") {
          style = {
            width: "100%",
            height: this.height ? this.getUnitValue(this.height) : this.getUnitValue(this.length),
            transform: `translate3D(0px,${this.mode == "top" ? "-100%" : "100%"},0px)`
          };
        }
        style.zIndex = this.uZindex;
        if (this.borderRadius) {
          switch (this.mode) {
            case "left":
              style.borderRadius = `0 ${this.borderRadius}rpx ${this.borderRadius}rpx 0`;
              break;
            case "top":
              style.borderRadius = `0 0 ${this.borderRadius}rpx ${this.borderRadius}rpx`;
              break;
            case "right":
              style.borderRadius = `${this.borderRadius}rpx 0 0 ${this.borderRadius}rpx`;
              break;
            case "bottom":
              style.borderRadius = `${this.borderRadius}rpx ${this.borderRadius}rpx 0 0`;
              break;
          }
          style.overflow = "hidden";
        }
        if (this.duration)
          style.transition = `all ${this.duration / 1e3}s linear`;
        return style;
      },
      // 中部弹窗的特有样式
      centerStyle() {
        let style = {};
        style.width = this.width ? this.getUnitValue(this.width) : this.getUnitValue(this.length);
        style.height = this.height ? this.getUnitValue(this.height) : "auto";
        style.zIndex = this.uZindex;
        style.marginTop = `-${this.$u.addUnit(this.negativeTop)}`;
        if (this.borderRadius) {
          style.borderRadius = `${this.borderRadius}rpx`;
          style.overflow = "hidden";
        }
        return style;
      },
      // 计算整理后的z-index值
      uZindex() {
        return this.zIndex ? this.zIndex : this.$u.zIndex.popup;
      }
    },
    watch: {
      valueCom: {
        immediate: true,
        handler(val) {
          if (val) {
            this.open();
          } else if (!this.closeFromInner) {
            this.close();
          }
          this.closeFromInner = false;
        }
      }
    },
    mounted() {
      this.valueCom && this.open();
    },
    methods: {
      // 判断传入的值，是否带有单位，如果没有，就默认用rpx单位
      getUnitValue(val) {
        if (/(%|px|rpx|auto)$/.test(val))
          return val;
        else
          return val + "rpx";
      },
      // 遮罩被点击
      maskClick() {
        this.close();
      },
      close() {
        this.closeFromInner = true;
        this.change("showDrawer", "visibleSync", false);
      },
      // 中部弹出时，需要.u-drawer-content将居中内容，此元素会铺满屏幕，点击需要关闭弹窗
      // 让其只在mode=center时起作用
      modeCenterClose(mode) {
        if (mode != "center" || !this.maskCloseAble)
          return;
        this.close();
      },
      open() {
        this.change("visibleSync", "showDrawer", true);
      },
      // 此处的原理是，关闭时先通过动画隐藏弹窗和遮罩，再移除整个组件
      // 打开时，先渲染组件，延时一定时间再让遮罩和弹窗的动画起作用
      change(param1, param2, status) {
        if (this.popup == true) {
          this.$emit("input", status);
          this.$emit("update:modelValue", status);
        }
        this[param1] = status;
        if (status) {
          this.$nextTick(() => {
            this[param2] = status;
            this.$emit(status ? "open" : "close");
          });
        } else {
          this.timer = setTimeout(() => {
            this[param2] = status;
            this.$emit(status ? "open" : "close");
          }, this.duration);
        }
      }
    }
  };
  function _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_mask = resolveEasycom(vue.resolveDynamicComponent("u-mask"), __easycom_0$2);
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_1);
    return $data.visibleSync ? (vue.openBlock(), vue.createElementBlock(
      "view",
      {
        key: 0,
        style: vue.normalizeStyle([$props.customStyle, {
          zIndex: $options.uZindex - 1
        }]),
        class: "u-drawer",
        "hover-stop-propagation": ""
      },
      [
        vue.createVNode(_component_u_mask, {
          blur: $props.blur,
          duration: $props.duration,
          "custom-style": $props.maskCustomStyle,
          maskClickAble: $props.maskCloseAble,
          "z-index": $options.uZindex - 2,
          show: $data.showDrawer && $props.mask,
          onClick: $options.maskClick
        }, null, 8, ["blur", "duration", "custom-style", "maskClickAble", "z-index", "show", "onClick"]),
        vue.createCommentVNode(" 移除	@tap.stop.prevent "),
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass(["u-drawer-content", [
              $props.safeAreaInsetBottom ? "safe-area-inset-bottom" : "",
              "u-drawer-" + $props.mode,
              $data.showDrawer ? "u-drawer-content-visible" : "",
              $props.zoom && $props.mode == "center" ? "u-animation-zoom" : ""
            ]]),
            onClick: _cache[3] || (_cache[3] = ($event) => $options.modeCenterClose($props.mode)),
            onTouchmove: _cache[4] || (_cache[4] = vue.withModifiers(() => {
            }, ["stop", "prevent"])),
            style: vue.normalizeStyle([$options.style])
          },
          [
            $props.mode == "center" ? (vue.openBlock(), vue.createElementBlock(
              "view",
              {
                key: 0,
                class: "u-mode-center-box",
                onClick: _cache[0] || (_cache[0] = vue.withModifiers(() => {
                }, ["stop", "prevent"])),
                onTouchmove: _cache[1] || (_cache[1] = vue.withModifiers(() => {
                }, ["stop", "prevent"])),
                style: vue.normalizeStyle([$options.centerStyle])
              },
              [
                $props.closeable ? (vue.openBlock(), vue.createBlock(_component_u_icon, {
                  key: 0,
                  onClick: $options.close,
                  class: vue.normalizeClass(["u-close", ["u-close--" + $props.closeIconPos]]),
                  name: $props.closeIcon,
                  color: $props.closeIconColor,
                  size: $props.closeIconSize
                }, null, 8, ["onClick", "class", "name", "color", "size"])) : vue.createCommentVNode("v-if", true),
                vue.createElementVNode("scroll-view", {
                  class: "u-drawer__scroll-view",
                  "scroll-y": "true"
                }, [
                  vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
                ])
              ],
              36
              /* STYLE, HYDRATE_EVENTS */
            )) : (vue.openBlock(), vue.createElementBlock("scroll-view", {
              key: 1,
              class: "u-drawer__scroll-view",
              "scroll-y": "true"
            }, [
              vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
            ])),
            vue.createElementVNode(
              "view",
              {
                onClick: _cache[2] || (_cache[2] = (...args) => $options.close && $options.close(...args)),
                class: vue.normalizeClass(["u-close", ["u-close--" + $props.closeIconPos]])
              },
              [
                $props.mode != "center" && $props.closeable ? (vue.openBlock(), vue.createBlock(_component_u_icon, {
                  key: 0,
                  name: $props.closeIcon,
                  color: $props.closeIconColor,
                  size: $props.closeIconSize
                }, null, 8, ["name", "color", "size"])) : vue.createCommentVNode("v-if", true)
              ],
              2
              /* CLASS */
            )
          ],
          38
          /* CLASS, STYLE, HYDRATE_EVENTS */
        )
      ],
      4
      /* STYLE */
    )) : vue.createCommentVNode("v-if", true);
  }
  const __easycom_0$1 = /* @__PURE__ */ _export_sfc(_sfc_main$b, [["render", _sfc_render$1], ["__scopeId", "data-v-bd05d787"], ["__file", "E:/lotaway/project/uni-social/node_modules/vk-uview-ui/components/u-popup/u-popup.vue"]]);
  const _sfc_main$a = {
    name: "u-action-sheet",
    emits: ["update:modelValue", "input", "click", "close"],
    props: {
      // 通过双向绑定控制组件的弹出与收起
      value: {
        type: Boolean,
        default: false
      },
      modelValue: {
        type: Boolean,
        default: false
      },
      // 点击遮罩是否可以关闭actionsheet
      maskCloseAble: {
        type: Boolean,
        default: true
      },
      // 按钮的文字数组，可以自定义颜色和字体大小，字体单位为rpx
      list: {
        type: Array,
        default() {
          return [];
        }
      },
      // 顶部的提示文字
      tips: {
        type: Object,
        default() {
          return {
            text: "",
            color: "",
            fontSize: "26"
          };
        }
      },
      // 底部的取消按钮
      cancelBtn: {
        type: Boolean,
        default: true
      },
      // 是否开启底部安全区适配，开启的话，会在iPhoneX机型底部添加一定的内边距
      safeAreaInsetBottom: {
        type: Boolean,
        default: false
      },
      // 弹出的顶部圆角值
      borderRadius: {
        type: [String, Number],
        default: 0
      },
      // 弹出的z-index值
      zIndex: {
        type: [String, Number],
        default: 0
      },
      // 取消按钮的文字提示
      cancelText: {
        type: String,
        default: "取消"
      },
      // 自定义label属性名
      labelName: {
        type: String,
        default: "text"
      },
      // 遮罩的模糊度
      blur: {
        type: [Number, String],
        default: 0
      }
    },
    computed: {
      valueCom() {
        return this.modelValue;
      },
      // 顶部提示的样式
      tipsStyle() {
        let style = {};
        if (this.tips.color)
          style.color = this.tips.color;
        if (this.tips.fontSize)
          style.fontSize = this.tips.fontSize + "rpx";
        return style;
      },
      // 操作项目的样式
      itemStyle() {
        return (index) => {
          let style = {};
          if (this.list[index].color)
            style.color = this.list[index].color;
          if (this.list[index].fontSize)
            style.fontSize = this.list[index].fontSize + "rpx";
          if (this.list[index].disabled)
            style.color = "#c0c4cc";
          return style;
        };
      },
      uZIndex() {
        return this.zIndex ? this.zIndex : this.$u.zIndex.popup;
      }
    },
    data() {
      return {
        popupValue: false
      };
    },
    watch: {
      valueCom(v1, v2) {
        this.popupValue = v1;
      }
    },
    methods: {
      // 点击取消按钮
      close() {
        this.popupClose();
        this.$emit("close");
      },
      // 弹窗关闭
      popupClose() {
        this.$emit("input", false);
        this.$emit("update:modelValue", false);
      },
      // 点击某一个item
      itemClick(index) {
        if (this.list[index].disabled)
          return;
        this.$emit("click", index);
        this.$emit("input", false);
        this.$emit("update:modelValue", false);
      }
    }
  };
  function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_popup = resolveEasycom(vue.resolveDynamicComponent("u-popup"), __easycom_0$1);
    return vue.openBlock(), vue.createBlock(_component_u_popup, {
      blur: $props.blur,
      mode: "bottom",
      "border-radius": $props.borderRadius,
      popup: false,
      modelValue: $data.popupValue,
      "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $data.popupValue = $event),
      maskCloseAble: $props.maskCloseAble,
      length: "auto",
      safeAreaInsetBottom: $props.safeAreaInsetBottom,
      onClose: $options.popupClose,
      "z-index": $options.uZIndex
    }, {
      default: vue.withCtx(() => [
        $props.tips.text ? (vue.openBlock(), vue.createElementBlock(
          "view",
          {
            key: 0,
            class: "u-tips u-border-bottom",
            style: vue.normalizeStyle([$options.tipsStyle])
          },
          [
            vue.createElementVNode(
              "text",
              null,
              vue.toDisplayString($props.tips.text),
              1
              /* TEXT */
            )
          ],
          4
          /* STYLE */
        )) : vue.createCommentVNode("v-if", true),
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($props.list, (item, index) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              key: index,
              onTouchmove: _cache[0] || (_cache[0] = vue.withModifiers(() => {
              }, ["stop", "prevent"])),
              onClick: ($event) => $options.itemClick(index),
              style: vue.normalizeStyle([$options.itemStyle(index)]),
              class: vue.normalizeClass(["u-action-sheet-item u-line-1", [index < $props.list.length - 1 ? "u-border-bottom" : ""]]),
              "hover-stay-time": 150
            }, [
              vue.createElementVNode(
                "text",
                null,
                vue.toDisplayString(item[$props.labelName]),
                1
                /* TEXT */
              ),
              item.subText ? (vue.openBlock(), vue.createElementBlock(
                "text",
                {
                  key: 0,
                  class: "u-action-sheet-item__subtext u-line-1"
                },
                vue.toDisplayString(item.subText),
                1
                /* TEXT */
              )) : vue.createCommentVNode("v-if", true)
            ], 46, ["onClick"]);
          }),
          128
          /* KEYED_FRAGMENT */
        )),
        $props.cancelBtn ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "u-gab"
        })) : vue.createCommentVNode("v-if", true),
        $props.cancelBtn ? (vue.openBlock(), vue.createElementBlock(
          "view",
          {
            key: 2,
            onTouchmove: _cache[1] || (_cache[1] = vue.withModifiers(() => {
            }, ["stop", "prevent"])),
            class: "u-actionsheet-cancel u-action-sheet-item",
            "hover-class": "u-hover-class",
            "hover-stay-time": 150,
            onClick: _cache[2] || (_cache[2] = (...args) => $options.close && $options.close(...args))
          },
          vue.toDisplayString($props.cancelText),
          33
          /* TEXT, HYDRATE_EVENTS */
        )) : vue.createCommentVNode("v-if", true)
      ]),
      _: 1
      /* STABLE */
    }, 8, ["blur", "border-radius", "modelValue", "maskCloseAble", "safeAreaInsetBottom", "onClose", "z-index"]);
  }
  const __easycom_0 = /* @__PURE__ */ _export_sfc(_sfc_main$a, [["render", _sfc_render], ["__scopeId", "data-v-f370618d"], ["__file", "E:/lotaway/project/uni-social/node_modules/vk-uview-ui/components/u-action-sheet/u-action-sheet.vue"]]);
  function getDevtoolsGlobalHook() {
    return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;
  }
  function getTarget() {
    return typeof navigator !== "undefined" && typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : {};
  }
  const isProxyAvailable = typeof Proxy === "function";
  const HOOK_SETUP = "devtools-plugin:setup";
  const HOOK_PLUGIN_SETTINGS_SET = "plugin:settings:set";
  class ApiProxy {
    constructor(plugin, hook) {
      this.target = null;
      this.targetQueue = [];
      this.onQueue = [];
      this.plugin = plugin;
      this.hook = hook;
      const defaultSettings = {};
      if (plugin.settings) {
        for (const id in plugin.settings) {
          const item = plugin.settings[id];
          defaultSettings[id] = item.defaultValue;
        }
      }
      const localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;
      let currentSettings = { ...defaultSettings };
      try {
        const raw = localStorage.getItem(localSettingsSaveId);
        const data = JSON.parse(raw);
        Object.assign(currentSettings, data);
      } catch (e) {
      }
      this.fallbacks = {
        getSettings() {
          return currentSettings;
        },
        setSettings(value) {
          try {
            localStorage.setItem(localSettingsSaveId, JSON.stringify(value));
          } catch (e) {
          }
          currentSettings = value;
        }
      };
      hook.on(HOOK_PLUGIN_SETTINGS_SET, (pluginId, value) => {
        if (pluginId === this.plugin.id) {
          this.fallbacks.setSettings(value);
        }
      });
      this.proxiedOn = new Proxy({}, {
        get: (_target, prop) => {
          if (this.target) {
            return this.target.on[prop];
          } else {
            return (...args) => {
              this.onQueue.push({
                method: prop,
                args
              });
            };
          }
        }
      });
      this.proxiedTarget = new Proxy({}, {
        get: (_target, prop) => {
          if (this.target) {
            return this.target[prop];
          } else if (prop === "on") {
            return this.proxiedOn;
          } else if (Object.keys(this.fallbacks).includes(prop)) {
            return (...args) => {
              this.targetQueue.push({
                method: prop,
                args,
                resolve: () => {
                }
              });
              return this.fallbacks[prop](...args);
            };
          } else {
            return (...args) => {
              return new Promise((resolve) => {
                this.targetQueue.push({
                  method: prop,
                  args,
                  resolve
                });
              });
            };
          }
        }
      });
    }
    async setRealTarget(target) {
      this.target = target;
      for (const item of this.onQueue) {
        this.target.on[item.method](...item.args);
      }
      for (const item of this.targetQueue) {
        item.resolve(await this.target[item.method](...item.args));
      }
    }
  }
  function setupDevtoolsPlugin(pluginDescriptor, setupFn) {
    const target = getTarget();
    const hook = getDevtoolsGlobalHook();
    const enableProxy = isProxyAvailable && pluginDescriptor.enableEarlyProxy;
    if (hook && (target.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__ || !enableProxy)) {
      hook.emit(HOOK_SETUP, pluginDescriptor, setupFn);
    } else {
      const proxy = enableProxy ? new ApiProxy(pluginDescriptor, hook) : null;
      const list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];
      list.push({
        pluginDescriptor,
        setupFn,
        proxy
      });
      if (proxy)
        setupFn(proxy.proxiedTarget);
    }
  }
  /*!
   * vuex v4.1.0
   * (c) 2022 Evan You
   * @license MIT
   */
  var storeKey = "store";
  function useStore(key) {
    if (key === void 0)
      key = null;
    return vue.inject(key !== null ? key : storeKey);
  }
  function forEachValue(obj, fn) {
    Object.keys(obj).forEach(function(key) {
      return fn(obj[key], key);
    });
  }
  function isObject$2(obj) {
    return obj !== null && typeof obj === "object";
  }
  function isPromise(val) {
    return val && typeof val.then === "function";
  }
  function assert(condition, msg) {
    if (!condition) {
      throw new Error("[vuex] " + msg);
    }
  }
  function partial(fn, arg) {
    return function() {
      return fn(arg);
    };
  }
  function genericSubscribe(fn, subs, options) {
    if (subs.indexOf(fn) < 0) {
      options && options.prepend ? subs.unshift(fn) : subs.push(fn);
    }
    return function() {
      var i = subs.indexOf(fn);
      if (i > -1) {
        subs.splice(i, 1);
      }
    };
  }
  function resetStore(store2, hot) {
    store2._actions = /* @__PURE__ */ Object.create(null);
    store2._mutations = /* @__PURE__ */ Object.create(null);
    store2._wrappedGetters = /* @__PURE__ */ Object.create(null);
    store2._modulesNamespaceMap = /* @__PURE__ */ Object.create(null);
    var state = store2.state;
    installModule(store2, state, [], store2._modules.root, true);
    resetStoreState(store2, state, hot);
  }
  function resetStoreState(store2, state, hot) {
    var oldState = store2._state;
    var oldScope = store2._scope;
    store2.getters = {};
    store2._makeLocalGettersCache = /* @__PURE__ */ Object.create(null);
    var wrappedGetters = store2._wrappedGetters;
    var computedObj = {};
    var computedCache = {};
    var scope = vue.effectScope(true);
    scope.run(function() {
      forEachValue(wrappedGetters, function(fn, key) {
        computedObj[key] = partial(fn, store2);
        computedCache[key] = vue.computed(function() {
          return computedObj[key]();
        });
        Object.defineProperty(store2.getters, key, {
          get: function() {
            return computedCache[key].value;
          },
          enumerable: true
          // for local getters
        });
      });
    });
    store2._state = vue.reactive({
      data: state
    });
    store2._scope = scope;
    if (store2.strict) {
      enableStrictMode(store2);
    }
    if (oldState) {
      if (hot) {
        store2._withCommit(function() {
          oldState.data = null;
        });
      }
    }
    if (oldScope) {
      oldScope.stop();
    }
  }
  function installModule(store2, rootState, path, module, hot) {
    var isRoot = !path.length;
    var namespace = store2._modules.getNamespace(path);
    if (module.namespaced) {
      if (store2._modulesNamespaceMap[namespace] && true) {
        console.error("[vuex] duplicate namespace " + namespace + " for the namespaced module " + path.join("/"));
      }
      store2._modulesNamespaceMap[namespace] = module;
    }
    if (!isRoot && !hot) {
      var parentState = getNestedState(rootState, path.slice(0, -1));
      var moduleName2 = path[path.length - 1];
      store2._withCommit(function() {
        {
          if (moduleName2 in parentState) {
            console.warn(
              '[vuex] state field "' + moduleName2 + '" was overridden by a module with the same name at "' + path.join(".") + '"'
            );
          }
        }
        parentState[moduleName2] = module.state;
      });
    }
    var local = module.context = makeLocalContext(store2, namespace, path);
    module.forEachMutation(function(mutation, key) {
      var namespacedType = namespace + key;
      registerMutation(store2, namespacedType, mutation, local);
    });
    module.forEachAction(function(action, key) {
      var type = action.root ? key : namespace + key;
      var handler = action.handler || action;
      registerAction(store2, type, handler, local);
    });
    module.forEachGetter(function(getter, key) {
      var namespacedType = namespace + key;
      registerGetter(store2, namespacedType, getter, local);
    });
    module.forEachChild(function(child, key) {
      installModule(store2, rootState, path.concat(key), child, hot);
    });
  }
  function makeLocalContext(store2, namespace, path) {
    var noNamespace = namespace === "";
    var local = {
      dispatch: noNamespace ? store2.dispatch : function(_type, _payload, _options) {
        var args = unifyObjectStyle(_type, _payload, _options);
        var payload = args.payload;
        var options = args.options;
        var type = args.type;
        if (!options || !options.root) {
          type = namespace + type;
          if (!store2._actions[type]) {
            console.error("[vuex] unknown local action type: " + args.type + ", global type: " + type);
            return;
          }
        }
        return store2.dispatch(type, payload);
      },
      commit: noNamespace ? store2.commit : function(_type, _payload, _options) {
        var args = unifyObjectStyle(_type, _payload, _options);
        var payload = args.payload;
        var options = args.options;
        var type = args.type;
        if (!options || !options.root) {
          type = namespace + type;
          if (!store2._mutations[type]) {
            console.error("[vuex] unknown local mutation type: " + args.type + ", global type: " + type);
            return;
          }
        }
        store2.commit(type, payload, options);
      }
    };
    Object.defineProperties(local, {
      getters: {
        get: noNamespace ? function() {
          return store2.getters;
        } : function() {
          return makeLocalGetters(store2, namespace);
        }
      },
      state: {
        get: function() {
          return getNestedState(store2.state, path);
        }
      }
    });
    return local;
  }
  function makeLocalGetters(store2, namespace) {
    if (!store2._makeLocalGettersCache[namespace]) {
      var gettersProxy = {};
      var splitPos = namespace.length;
      Object.keys(store2.getters).forEach(function(type) {
        if (type.slice(0, splitPos) !== namespace) {
          return;
        }
        var localType = type.slice(splitPos);
        Object.defineProperty(gettersProxy, localType, {
          get: function() {
            return store2.getters[type];
          },
          enumerable: true
        });
      });
      store2._makeLocalGettersCache[namespace] = gettersProxy;
    }
    return store2._makeLocalGettersCache[namespace];
  }
  function registerMutation(store2, type, handler, local) {
    var entry = store2._mutations[type] || (store2._mutations[type] = []);
    entry.push(function wrappedMutationHandler(payload) {
      handler.call(store2, local.state, payload);
    });
  }
  function registerAction(store2, type, handler, local) {
    var entry = store2._actions[type] || (store2._actions[type] = []);
    entry.push(function wrappedActionHandler(payload) {
      var res = handler.call(store2, {
        dispatch: local.dispatch,
        commit: local.commit,
        getters: local.getters,
        state: local.state,
        rootGetters: store2.getters,
        rootState: store2.state
      }, payload);
      if (!isPromise(res)) {
        res = Promise.resolve(res);
      }
      if (store2._devtoolHook) {
        return res.catch(function(err) {
          store2._devtoolHook.emit("vuex:error", err);
          throw err;
        });
      } else {
        return res;
      }
    });
  }
  function registerGetter(store2, type, rawGetter, local) {
    if (store2._wrappedGetters[type]) {
      {
        console.error("[vuex] duplicate getter key: " + type);
      }
      return;
    }
    store2._wrappedGetters[type] = function wrappedGetter(store3) {
      return rawGetter(
        local.state,
        // local state
        local.getters,
        // local getters
        store3.state,
        // root state
        store3.getters
        // root getters
      );
    };
  }
  function enableStrictMode(store2) {
    vue.watch(function() {
      return store2._state.data;
    }, function() {
      {
        assert(store2._committing, "do not mutate vuex store state outside mutation handlers.");
      }
    }, { deep: true, flush: "sync" });
  }
  function getNestedState(state, path) {
    return path.reduce(function(state2, key) {
      return state2[key];
    }, state);
  }
  function unifyObjectStyle(type, payload, options) {
    if (isObject$2(type) && type.type) {
      options = payload;
      payload = type;
      type = type.type;
    }
    {
      assert(typeof type === "string", "expects string as the type, but found " + typeof type + ".");
    }
    return { type, payload, options };
  }
  var LABEL_VUEX_BINDINGS = "vuex bindings";
  var MUTATIONS_LAYER_ID = "vuex:mutations";
  var ACTIONS_LAYER_ID = "vuex:actions";
  var INSPECTOR_ID = "vuex";
  var actionId = 0;
  function addDevtools(app, store2) {
    setupDevtoolsPlugin(
      {
        id: "org.vuejs.vuex",
        app,
        label: "Vuex",
        homepage: "https://next.vuex.vuejs.org/",
        logo: "https://vuejs.org/images/icons/favicon-96x96.png",
        packageName: "vuex",
        componentStateTypes: [LABEL_VUEX_BINDINGS]
      },
      function(api) {
        api.addTimelineLayer({
          id: MUTATIONS_LAYER_ID,
          label: "Vuex Mutations",
          color: COLOR_LIME_500
        });
        api.addTimelineLayer({
          id: ACTIONS_LAYER_ID,
          label: "Vuex Actions",
          color: COLOR_LIME_500
        });
        api.addInspector({
          id: INSPECTOR_ID,
          label: "Vuex",
          icon: "storage",
          treeFilterPlaceholder: "Filter stores..."
        });
        api.on.getInspectorTree(function(payload) {
          if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {
            if (payload.filter) {
              var nodes = [];
              flattenStoreForInspectorTree(nodes, store2._modules.root, payload.filter, "");
              payload.rootNodes = nodes;
            } else {
              payload.rootNodes = [
                formatStoreForInspectorTree(store2._modules.root, "")
              ];
            }
          }
        });
        api.on.getInspectorState(function(payload) {
          if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {
            var modulePath = payload.nodeId;
            makeLocalGetters(store2, modulePath);
            payload.state = formatStoreForInspectorState(
              getStoreModule(store2._modules, modulePath),
              modulePath === "root" ? store2.getters : store2._makeLocalGettersCache,
              modulePath
            );
          }
        });
        api.on.editInspectorState(function(payload) {
          if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {
            var modulePath = payload.nodeId;
            var path = payload.path;
            if (modulePath !== "root") {
              path = modulePath.split("/").filter(Boolean).concat(path);
            }
            store2._withCommit(function() {
              payload.set(store2._state.data, path, payload.state.value);
            });
          }
        });
        store2.subscribe(function(mutation, state) {
          var data = {};
          if (mutation.payload) {
            data.payload = mutation.payload;
          }
          data.state = state;
          api.notifyComponentUpdate();
          api.sendInspectorTree(INSPECTOR_ID);
          api.sendInspectorState(INSPECTOR_ID);
          api.addTimelineEvent({
            layerId: MUTATIONS_LAYER_ID,
            event: {
              time: Date.now(),
              title: mutation.type,
              data
            }
          });
        });
        store2.subscribeAction({
          before: function(action, state) {
            var data = {};
            if (action.payload) {
              data.payload = action.payload;
            }
            action._id = actionId++;
            action._time = Date.now();
            data.state = state;
            api.addTimelineEvent({
              layerId: ACTIONS_LAYER_ID,
              event: {
                time: action._time,
                title: action.type,
                groupId: action._id,
                subtitle: "start",
                data
              }
            });
          },
          after: function(action, state) {
            var data = {};
            var duration = Date.now() - action._time;
            data.duration = {
              _custom: {
                type: "duration",
                display: duration + "ms",
                tooltip: "Action duration",
                value: duration
              }
            };
            if (action.payload) {
              data.payload = action.payload;
            }
            data.state = state;
            api.addTimelineEvent({
              layerId: ACTIONS_LAYER_ID,
              event: {
                time: Date.now(),
                title: action.type,
                groupId: action._id,
                subtitle: "end",
                data
              }
            });
          }
        });
      }
    );
  }
  var COLOR_LIME_500 = 8702998;
  var COLOR_DARK = 6710886;
  var COLOR_WHITE = 16777215;
  var TAG_NAMESPACED = {
    label: "namespaced",
    textColor: COLOR_WHITE,
    backgroundColor: COLOR_DARK
  };
  function extractNameFromPath(path) {
    return path && path !== "root" ? path.split("/").slice(-2, -1)[0] : "Root";
  }
  function formatStoreForInspectorTree(module, path) {
    return {
      id: path || "root",
      // all modules end with a `/`, we want the last segment only
      // cart/ -> cart
      // nested/cart/ -> cart
      label: extractNameFromPath(path),
      tags: module.namespaced ? [TAG_NAMESPACED] : [],
      children: Object.keys(module._children).map(
        function(moduleName2) {
          return formatStoreForInspectorTree(
            module._children[moduleName2],
            path + moduleName2 + "/"
          );
        }
      )
    };
  }
  function flattenStoreForInspectorTree(result, module, filter, path) {
    if (path.includes(filter)) {
      result.push({
        id: path || "root",
        label: path.endsWith("/") ? path.slice(0, path.length - 1) : path || "Root",
        tags: module.namespaced ? [TAG_NAMESPACED] : []
      });
    }
    Object.keys(module._children).forEach(function(moduleName2) {
      flattenStoreForInspectorTree(result, module._children[moduleName2], filter, path + moduleName2 + "/");
    });
  }
  function formatStoreForInspectorState(module, getters, path) {
    getters = path === "root" ? getters : getters[path];
    var gettersKeys = Object.keys(getters);
    var storeState = {
      state: Object.keys(module.state).map(function(key) {
        return {
          key,
          editable: true,
          value: module.state[key]
        };
      })
    };
    if (gettersKeys.length) {
      var tree = transformPathsToObjectTree(getters);
      storeState.getters = Object.keys(tree).map(function(key) {
        return {
          key: key.endsWith("/") ? extractNameFromPath(key) : key,
          editable: false,
          value: canThrow(function() {
            return tree[key];
          })
        };
      });
    }
    return storeState;
  }
  function transformPathsToObjectTree(getters) {
    var result = {};
    Object.keys(getters).forEach(function(key) {
      var path = key.split("/");
      if (path.length > 1) {
        var target = result;
        var leafKey = path.pop();
        path.forEach(function(p) {
          if (!target[p]) {
            target[p] = {
              _custom: {
                value: {},
                display: p,
                tooltip: "Module",
                abstract: true
              }
            };
          }
          target = target[p]._custom.value;
        });
        target[leafKey] = canThrow(function() {
          return getters[key];
        });
      } else {
        result[key] = canThrow(function() {
          return getters[key];
        });
      }
    });
    return result;
  }
  function getStoreModule(moduleMap, path) {
    var names = path.split("/").filter(function(n) {
      return n;
    });
    return names.reduce(
      function(module, moduleName2, i) {
        var child = module[moduleName2];
        if (!child) {
          throw new Error('Missing module "' + moduleName2 + '" for path "' + path + '".');
        }
        return i === names.length - 1 ? child : child._children;
      },
      path === "root" ? moduleMap : moduleMap.root._children
    );
  }
  function canThrow(cb) {
    try {
      return cb();
    } catch (e) {
      return e;
    }
  }
  var Module$1 = function Module2(rawModule, runtime) {
    this.runtime = runtime;
    this._children = /* @__PURE__ */ Object.create(null);
    this._rawModule = rawModule;
    var rawState = rawModule.state;
    this.state = (typeof rawState === "function" ? rawState() : rawState) || {};
  };
  var prototypeAccessors$1 = { namespaced: { configurable: true } };
  prototypeAccessors$1.namespaced.get = function() {
    return !!this._rawModule.namespaced;
  };
  Module$1.prototype.addChild = function addChild(key, module) {
    this._children[key] = module;
  };
  Module$1.prototype.removeChild = function removeChild(key) {
    delete this._children[key];
  };
  Module$1.prototype.getChild = function getChild(key) {
    return this._children[key];
  };
  Module$1.prototype.hasChild = function hasChild(key) {
    return key in this._children;
  };
  Module$1.prototype.update = function update2(rawModule) {
    this._rawModule.namespaced = rawModule.namespaced;
    if (rawModule.actions) {
      this._rawModule.actions = rawModule.actions;
    }
    if (rawModule.mutations) {
      this._rawModule.mutations = rawModule.mutations;
    }
    if (rawModule.getters) {
      this._rawModule.getters = rawModule.getters;
    }
  };
  Module$1.prototype.forEachChild = function forEachChild(fn) {
    forEachValue(this._children, fn);
  };
  Module$1.prototype.forEachGetter = function forEachGetter(fn) {
    if (this._rawModule.getters) {
      forEachValue(this._rawModule.getters, fn);
    }
  };
  Module$1.prototype.forEachAction = function forEachAction(fn) {
    if (this._rawModule.actions) {
      forEachValue(this._rawModule.actions, fn);
    }
  };
  Module$1.prototype.forEachMutation = function forEachMutation(fn) {
    if (this._rawModule.mutations) {
      forEachValue(this._rawModule.mutations, fn);
    }
  };
  Object.defineProperties(Module$1.prototype, prototypeAccessors$1);
  var ModuleCollection = function ModuleCollection2(rawRootModule) {
    this.register([], rawRootModule, false);
  };
  ModuleCollection.prototype.get = function get(path) {
    return path.reduce(function(module, key) {
      return module.getChild(key);
    }, this.root);
  };
  ModuleCollection.prototype.getNamespace = function getNamespace(path) {
    var module = this.root;
    return path.reduce(function(namespace, key) {
      module = module.getChild(key);
      return namespace + (module.namespaced ? key + "/" : "");
    }, "");
  };
  ModuleCollection.prototype.update = function update$1(rawRootModule) {
    update([], this.root, rawRootModule);
  };
  ModuleCollection.prototype.register = function register(path, rawModule, runtime) {
    var this$1$1 = this;
    if (runtime === void 0)
      runtime = true;
    {
      assertRawModule(path, rawModule);
    }
    var newModule = new Module$1(rawModule, runtime);
    if (path.length === 0) {
      this.root = newModule;
    } else {
      var parent = this.get(path.slice(0, -1));
      parent.addChild(path[path.length - 1], newModule);
    }
    if (rawModule.modules) {
      forEachValue(rawModule.modules, function(rawChildModule, key) {
        this$1$1.register(path.concat(key), rawChildModule, runtime);
      });
    }
  };
  ModuleCollection.prototype.unregister = function unregister(path) {
    var parent = this.get(path.slice(0, -1));
    var key = path[path.length - 1];
    var child = parent.getChild(key);
    if (!child) {
      {
        console.warn(
          "[vuex] trying to unregister module '" + key + "', which is not registered"
        );
      }
      return;
    }
    if (!child.runtime) {
      return;
    }
    parent.removeChild(key);
  };
  ModuleCollection.prototype.isRegistered = function isRegistered(path) {
    var parent = this.get(path.slice(0, -1));
    var key = path[path.length - 1];
    if (parent) {
      return parent.hasChild(key);
    }
    return false;
  };
  function update(path, targetModule, newModule) {
    {
      assertRawModule(path, newModule);
    }
    targetModule.update(newModule);
    if (newModule.modules) {
      for (var key in newModule.modules) {
        if (!targetModule.getChild(key)) {
          {
            console.warn(
              "[vuex] trying to add a new module '" + key + "' on hot reloading, manual reload is needed"
            );
          }
          return;
        }
        update(
          path.concat(key),
          targetModule.getChild(key),
          newModule.modules[key]
        );
      }
    }
  }
  var functionAssert = {
    assert: function(value) {
      return typeof value === "function";
    },
    expected: "function"
  };
  var objectAssert = {
    assert: function(value) {
      return typeof value === "function" || typeof value === "object" && typeof value.handler === "function";
    },
    expected: 'function or object with "handler" function'
  };
  var assertTypes = {
    getters: functionAssert,
    mutations: functionAssert,
    actions: objectAssert
  };
  function assertRawModule(path, rawModule) {
    Object.keys(assertTypes).forEach(function(key) {
      if (!rawModule[key]) {
        return;
      }
      var assertOptions = assertTypes[key];
      forEachValue(rawModule[key], function(value, type) {
        assert(
          assertOptions.assert(value),
          makeAssertionMessage(path, key, type, value, assertOptions.expected)
        );
      });
    });
  }
  function makeAssertionMessage(path, key, type, value, expected) {
    var buf = key + " should be " + expected + ' but "' + key + "." + type + '"';
    if (path.length > 0) {
      buf += ' in module "' + path.join(".") + '"';
    }
    buf += " is " + JSON.stringify(value) + ".";
    return buf;
  }
  function createStore(options) {
    return new Store(options);
  }
  var Store = function Store2(options) {
    var this$1$1 = this;
    if (options === void 0)
      options = {};
    {
      assert(typeof Promise !== "undefined", "vuex requires a Promise polyfill in this browser.");
      assert(this instanceof Store2, "store must be called with the new operator.");
    }
    var plugins = options.plugins;
    if (plugins === void 0)
      plugins = [];
    var strict = options.strict;
    if (strict === void 0)
      strict = false;
    var devtools2 = options.devtools;
    this._committing = false;
    this._actions = /* @__PURE__ */ Object.create(null);
    this._actionSubscribers = [];
    this._mutations = /* @__PURE__ */ Object.create(null);
    this._wrappedGetters = /* @__PURE__ */ Object.create(null);
    this._modules = new ModuleCollection(options);
    this._modulesNamespaceMap = /* @__PURE__ */ Object.create(null);
    this._subscribers = [];
    this._makeLocalGettersCache = /* @__PURE__ */ Object.create(null);
    this._scope = null;
    this._devtools = devtools2;
    var store2 = this;
    var ref = this;
    var dispatch = ref.dispatch;
    var commit = ref.commit;
    this.dispatch = function boundDispatch(type, payload) {
      return dispatch.call(store2, type, payload);
    };
    this.commit = function boundCommit(type, payload, options2) {
      return commit.call(store2, type, payload, options2);
    };
    this.strict = strict;
    var state = this._modules.root.state;
    installModule(this, state, [], this._modules.root);
    resetStoreState(this, state);
    plugins.forEach(function(plugin) {
      return plugin(this$1$1);
    });
  };
  var prototypeAccessors = { state: { configurable: true } };
  Store.prototype.install = function install2(app, injectKey) {
    app.provide(injectKey || storeKey, this);
    app.config.globalProperties.$store = this;
    var useDevtools = this._devtools !== void 0 ? this._devtools : true;
    if (useDevtools) {
      addDevtools(app, this);
    }
  };
  prototypeAccessors.state.get = function() {
    return this._state.data;
  };
  prototypeAccessors.state.set = function(v) {
    {
      assert(false, "use store.replaceState() to explicit replace store state.");
    }
  };
  Store.prototype.commit = function commit(_type, _payload, _options) {
    var this$1$1 = this;
    var ref = unifyObjectStyle(_type, _payload, _options);
    var type = ref.type;
    var payload = ref.payload;
    var options = ref.options;
    var mutation = { type, payload };
    var entry = this._mutations[type];
    if (!entry) {
      {
        console.error("[vuex] unknown mutation type: " + type);
      }
      return;
    }
    this._withCommit(function() {
      entry.forEach(function commitIterator(handler) {
        handler(payload);
      });
    });
    this._subscribers.slice().forEach(function(sub) {
      return sub(mutation, this$1$1.state);
    });
    if (options && options.silent) {
      console.warn(
        "[vuex] mutation type: " + type + ". Silent option has been removed. Use the filter functionality in the vue-devtools"
      );
    }
  };
  Store.prototype.dispatch = function dispatch(_type, _payload) {
    var this$1$1 = this;
    var ref = unifyObjectStyle(_type, _payload);
    var type = ref.type;
    var payload = ref.payload;
    var action = { type, payload };
    var entry = this._actions[type];
    if (!entry) {
      {
        console.error("[vuex] unknown action type: " + type);
      }
      return;
    }
    try {
      this._actionSubscribers.slice().filter(function(sub) {
        return sub.before;
      }).forEach(function(sub) {
        return sub.before(action, this$1$1.state);
      });
    } catch (e) {
      {
        console.warn("[vuex] error in before action subscribers: ");
        console.error(e);
      }
    }
    var result = entry.length > 1 ? Promise.all(entry.map(function(handler) {
      return handler(payload);
    })) : entry[0](payload);
    return new Promise(function(resolve, reject) {
      result.then(function(res) {
        try {
          this$1$1._actionSubscribers.filter(function(sub) {
            return sub.after;
          }).forEach(function(sub) {
            return sub.after(action, this$1$1.state);
          });
        } catch (e) {
          {
            console.warn("[vuex] error in after action subscribers: ");
            console.error(e);
          }
        }
        resolve(res);
      }, function(error) {
        try {
          this$1$1._actionSubscribers.filter(function(sub) {
            return sub.error;
          }).forEach(function(sub) {
            return sub.error(action, this$1$1.state, error);
          });
        } catch (e) {
          {
            console.warn("[vuex] error in error action subscribers: ");
            console.error(e);
          }
        }
        reject(error);
      });
    });
  };
  Store.prototype.subscribe = function subscribe(fn, options) {
    return genericSubscribe(fn, this._subscribers, options);
  };
  Store.prototype.subscribeAction = function subscribeAction(fn, options) {
    var subs = typeof fn === "function" ? { before: fn } : fn;
    return genericSubscribe(subs, this._actionSubscribers, options);
  };
  Store.prototype.watch = function watch$1(getter, cb, options) {
    var this$1$1 = this;
    {
      assert(typeof getter === "function", "store.watch only accepts a function.");
    }
    return vue.watch(function() {
      return getter(this$1$1.state, this$1$1.getters);
    }, cb, Object.assign({}, options));
  };
  Store.prototype.replaceState = function replaceState(state) {
    var this$1$1 = this;
    this._withCommit(function() {
      this$1$1._state.data = state;
    });
  };
  Store.prototype.registerModule = function registerModule(path, rawModule, options) {
    if (options === void 0)
      options = {};
    if (typeof path === "string") {
      path = [path];
    }
    {
      assert(Array.isArray(path), "module path must be a string or an Array.");
      assert(path.length > 0, "cannot register the root module by using registerModule.");
    }
    this._modules.register(path, rawModule);
    installModule(this, this.state, path, this._modules.get(path), options.preserveState);
    resetStoreState(this, this.state);
  };
  Store.prototype.unregisterModule = function unregisterModule(path) {
    var this$1$1 = this;
    if (typeof path === "string") {
      path = [path];
    }
    {
      assert(Array.isArray(path), "module path must be a string or an Array.");
    }
    this._modules.unregister(path);
    this._withCommit(function() {
      var parentState = getNestedState(this$1$1.state, path.slice(0, -1));
      delete parentState[path[path.length - 1]];
    });
    resetStore(this);
  };
  Store.prototype.hasModule = function hasModule(path) {
    if (typeof path === "string") {
      path = [path];
    }
    {
      assert(Array.isArray(path), "module path must be a string or an Array.");
    }
    return this._modules.isRegistered(path);
  };
  Store.prototype.hotUpdate = function hotUpdate(newOptions) {
    this._modules.update(newOptions);
    resetStore(this, true);
  };
  Store.prototype._withCommit = function _withCommit(fn) {
    var committing = this._committing;
    this._committing = true;
    fn();
    this._committing = committing;
  };
  Object.defineProperties(Store.prototype, prototypeAccessors);
  /*!
    * @intlify/shared v9.1.9
    * (c) 2021 kazuya kawaguchi
    * Released under the MIT License.
    */
  const inBrowser = typeof window !== "undefined";
  let mark;
  let measure;
  {
    const perf = inBrowser && window.performance;
    if (perf && perf.mark && perf.measure && perf.clearMarks && perf.clearMeasures) {
      mark = (tag) => perf.mark(tag);
      measure = (name2, startTag, endTag) => {
        perf.measure(name2, startTag, endTag);
        perf.clearMarks(startTag);
        perf.clearMarks(endTag);
      };
    }
  }
  const RE_ARGS = /\{([0-9a-zA-Z]+)\}/g;
  function format(message, ...args) {
    if (args.length === 1 && isObject$1(args[0])) {
      args = args[0];
    }
    if (!args || !args.hasOwnProperty) {
      args = {};
    }
    return message.replace(RE_ARGS, (match, identifier) => {
      return args.hasOwnProperty(identifier) ? args[identifier] : "";
    });
  }
  const hasSymbol = typeof Symbol === "function" && typeof Symbol.toStringTag === "symbol";
  const makeSymbol = (name2) => hasSymbol ? Symbol(name2) : name2;
  const generateFormatCacheKey = (locale2, key, source) => friendlyJSONstringify({ l: locale2, k: key, s: source });
  const friendlyJSONstringify = (json) => JSON.stringify(json).replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029").replace(/\u0027/g, "\\u0027");
  const isNumber = (val) => typeof val === "number" && isFinite(val);
  const isDate = (val) => toTypeString(val) === "[object Date]";
  const isRegExp = (val) => toTypeString(val) === "[object RegExp]";
  const isEmptyObject = (val) => isPlainObject(val) && Object.keys(val).length === 0;
  function warn(msg, err) {
    if (typeof console !== "undefined") {
      console.warn(`[intlify] ` + msg);
      if (err) {
        console.warn(err.stack);
      }
    }
  }
  const assign = Object.assign;
  let _globalThis;
  const getGlobalThis = () => {
    return _globalThis || (_globalThis = typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : {});
  };
  function escapeHtml(rawText) {
    return rawText.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;");
  }
  const hasOwnProperty$1 = Object.prototype.hasOwnProperty;
  function hasOwn$1(obj, key) {
    return hasOwnProperty$1.call(obj, key);
  }
  const isArray$1 = Array.isArray;
  const isFunction = (val) => typeof val === "function";
  const isString = (val) => typeof val === "string";
  const isBoolean = (val) => typeof val === "boolean";
  const isObject$1 = (val) => (
    // eslint-disable-line
    val !== null && typeof val === "object"
  );
  const objectToString = Object.prototype.toString;
  const toTypeString = (value) => objectToString.call(value);
  const isPlainObject = (val) => toTypeString(val) === "[object Object]";
  const toDisplayString = (val) => {
    return val == null ? "" : isArray$1(val) || isPlainObject(val) && val.toString === objectToString ? JSON.stringify(val, null, 2) : String(val);
  };
  const RANGE = 2;
  function generateCodeFrame(source, start = 0, end = source.length) {
    const lines = source.split(/\r?\n/);
    let count = 0;
    const res = [];
    for (let i = 0; i < lines.length; i++) {
      count += lines[i].length + 1;
      if (count >= start) {
        for (let j = i - RANGE; j <= i + RANGE || end > count; j++) {
          if (j < 0 || j >= lines.length)
            continue;
          const line = j + 1;
          res.push(`${line}${" ".repeat(3 - String(line).length)}|  ${lines[j]}`);
          const lineLength = lines[j].length;
          if (j === i) {
            const pad = start - (count - lineLength) + 1;
            const length = Math.max(1, end > count ? lineLength - pad : end - start);
            res.push(`   |  ` + " ".repeat(pad) + "^".repeat(length));
          } else if (j > i) {
            if (end > count) {
              const length = Math.max(Math.min(end - count, lineLength), 1);
              res.push(`   |  ` + "^".repeat(length));
            }
            count += lineLength + 1;
          }
        }
        break;
      }
    }
    return res.join("\n");
  }
  function createEmitter() {
    const events = /* @__PURE__ */ new Map();
    const emitter = {
      events,
      on(event, handler) {
        const handlers = events.get(event);
        const added = handlers && handlers.push(handler);
        if (!added) {
          events.set(event, [handler]);
        }
      },
      off(event, handler) {
        const handlers = events.get(event);
        if (handlers) {
          handlers.splice(handlers.indexOf(handler) >>> 0, 1);
        }
      },
      emit(event, payload) {
        (events.get(event) || []).slice().map((handler) => handler(payload));
        (events.get("*") || []).slice().map((handler) => handler(event, payload));
      }
    };
    return emitter;
  }
  /*!
    * @intlify/message-resolver v9.1.9
    * (c) 2021 kazuya kawaguchi
    * Released under the MIT License.
    */
  const hasOwnProperty = Object.prototype.hasOwnProperty;
  function hasOwn(obj, key) {
    return hasOwnProperty.call(obj, key);
  }
  const isObject = (val) => (
    // eslint-disable-line
    val !== null && typeof val === "object"
  );
  const pathStateMachine = [];
  pathStateMachine[
    0
    /* BEFORE_PATH */
  ] = {
    [
      "w"
      /* WORKSPACE */
    ]: [
      0
      /* BEFORE_PATH */
    ],
    [
      "i"
      /* IDENT */
    ]: [
      3,
      0
      /* APPEND */
    ],
    [
      "["
      /* LEFT_BRACKET */
    ]: [
      4
      /* IN_SUB_PATH */
    ],
    [
      "o"
      /* END_OF_FAIL */
    ]: [
      7
      /* AFTER_PATH */
    ]
  };
  pathStateMachine[
    1
    /* IN_PATH */
  ] = {
    [
      "w"
      /* WORKSPACE */
    ]: [
      1
      /* IN_PATH */
    ],
    [
      "."
      /* DOT */
    ]: [
      2
      /* BEFORE_IDENT */
    ],
    [
      "["
      /* LEFT_BRACKET */
    ]: [
      4
      /* IN_SUB_PATH */
    ],
    [
      "o"
      /* END_OF_FAIL */
    ]: [
      7
      /* AFTER_PATH */
    ]
  };
  pathStateMachine[
    2
    /* BEFORE_IDENT */
  ] = {
    [
      "w"
      /* WORKSPACE */
    ]: [
      2
      /* BEFORE_IDENT */
    ],
    [
      "i"
      /* IDENT */
    ]: [
      3,
      0
      /* APPEND */
    ],
    [
      "0"
      /* ZERO */
    ]: [
      3,
      0
      /* APPEND */
    ]
  };
  pathStateMachine[
    3
    /* IN_IDENT */
  ] = {
    [
      "i"
      /* IDENT */
    ]: [
      3,
      0
      /* APPEND */
    ],
    [
      "0"
      /* ZERO */
    ]: [
      3,
      0
      /* APPEND */
    ],
    [
      "w"
      /* WORKSPACE */
    ]: [
      1,
      1
      /* PUSH */
    ],
    [
      "."
      /* DOT */
    ]: [
      2,
      1
      /* PUSH */
    ],
    [
      "["
      /* LEFT_BRACKET */
    ]: [
      4,
      1
      /* PUSH */
    ],
    [
      "o"
      /* END_OF_FAIL */
    ]: [
      7,
      1
      /* PUSH */
    ]
  };
  pathStateMachine[
    4
    /* IN_SUB_PATH */
  ] = {
    [
      "'"
      /* SINGLE_QUOTE */
    ]: [
      5,
      0
      /* APPEND */
    ],
    [
      '"'
      /* DOUBLE_QUOTE */
    ]: [
      6,
      0
      /* APPEND */
    ],
    [
      "["
      /* LEFT_BRACKET */
    ]: [
      4,
      2
      /* INC_SUB_PATH_DEPTH */
    ],
    [
      "]"
      /* RIGHT_BRACKET */
    ]: [
      1,
      3
      /* PUSH_SUB_PATH */
    ],
    [
      "o"
      /* END_OF_FAIL */
    ]: 8,
    [
      "l"
      /* ELSE */
    ]: [
      4,
      0
      /* APPEND */
    ]
  };
  pathStateMachine[
    5
    /* IN_SINGLE_QUOTE */
  ] = {
    [
      "'"
      /* SINGLE_QUOTE */
    ]: [
      4,
      0
      /* APPEND */
    ],
    [
      "o"
      /* END_OF_FAIL */
    ]: 8,
    [
      "l"
      /* ELSE */
    ]: [
      5,
      0
      /* APPEND */
    ]
  };
  pathStateMachine[
    6
    /* IN_DOUBLE_QUOTE */
  ] = {
    [
      '"'
      /* DOUBLE_QUOTE */
    ]: [
      4,
      0
      /* APPEND */
    ],
    [
      "o"
      /* END_OF_FAIL */
    ]: 8,
    [
      "l"
      /* ELSE */
    ]: [
      6,
      0
      /* APPEND */
    ]
  };
  const literalValueRE = /^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;
  function isLiteral(exp) {
    return literalValueRE.test(exp);
  }
  function stripQuotes(str) {
    const a = str.charCodeAt(0);
    const b = str.charCodeAt(str.length - 1);
    return a === b && (a === 34 || a === 39) ? str.slice(1, -1) : str;
  }
  function getPathCharType(ch) {
    if (ch === void 0 || ch === null) {
      return "o";
    }
    const code2 = ch.charCodeAt(0);
    switch (code2) {
      case 91:
      case 93:
      case 46:
      case 34:
      case 39:
        return ch;
      case 95:
      case 36:
      case 45:
        return "i";
      case 9:
      case 10:
      case 13:
      case 160:
      case 65279:
      case 8232:
      case 8233:
        return "w";
    }
    return "i";
  }
  function formatSubPath(path) {
    const trimmed = path.trim();
    if (path.charAt(0) === "0" && isNaN(parseInt(path))) {
      return false;
    }
    return isLiteral(trimmed) ? stripQuotes(trimmed) : "*" + trimmed;
  }
  function parse(path) {
    const keys = [];
    let index = -1;
    let mode = 0;
    let subPathDepth = 0;
    let c;
    let key;
    let newChar;
    let type;
    let transition;
    let action;
    let typeMap;
    const actions = [];
    actions[
      0
      /* APPEND */
    ] = () => {
      if (key === void 0) {
        key = newChar;
      } else {
        key += newChar;
      }
    };
    actions[
      1
      /* PUSH */
    ] = () => {
      if (key !== void 0) {
        keys.push(key);
        key = void 0;
      }
    };
    actions[
      2
      /* INC_SUB_PATH_DEPTH */
    ] = () => {
      actions[
        0
        /* APPEND */
      ]();
      subPathDepth++;
    };
    actions[
      3
      /* PUSH_SUB_PATH */
    ] = () => {
      if (subPathDepth > 0) {
        subPathDepth--;
        mode = 4;
        actions[
          0
          /* APPEND */
        ]();
      } else {
        subPathDepth = 0;
        if (key === void 0) {
          return false;
        }
        key = formatSubPath(key);
        if (key === false) {
          return false;
        } else {
          actions[
            1
            /* PUSH */
          ]();
        }
      }
    };
    function maybeUnescapeQuote() {
      const nextChar = path[index + 1];
      if (mode === 5 && nextChar === "'" || mode === 6 && nextChar === '"') {
        index++;
        newChar = "\\" + nextChar;
        actions[
          0
          /* APPEND */
        ]();
        return true;
      }
    }
    while (mode !== null) {
      index++;
      c = path[index];
      if (c === "\\" && maybeUnescapeQuote()) {
        continue;
      }
      type = getPathCharType(c);
      typeMap = pathStateMachine[mode];
      transition = typeMap[type] || typeMap[
        "l"
        /* ELSE */
      ] || 8;
      if (transition === 8) {
        return;
      }
      mode = transition[0];
      if (transition[1] !== void 0) {
        action = actions[transition[1]];
        if (action) {
          newChar = c;
          if (action() === false) {
            return;
          }
        }
      }
      if (mode === 7) {
        return keys;
      }
    }
  }
  const cache = /* @__PURE__ */ new Map();
  function resolveValue(obj, path) {
    if (!isObject(obj)) {
      return null;
    }
    let hit = cache.get(path);
    if (!hit) {
      hit = parse(path);
      if (hit) {
        cache.set(path, hit);
      }
    }
    if (!hit) {
      return null;
    }
    const len = hit.length;
    let last = obj;
    let i = 0;
    while (i < len) {
      const val = last[hit[i]];
      if (val === void 0) {
        return null;
      }
      last = val;
      i++;
    }
    return last;
  }
  function handleFlatJson(obj) {
    if (!isObject(obj)) {
      return obj;
    }
    for (const key in obj) {
      if (!hasOwn(obj, key)) {
        continue;
      }
      if (!key.includes(
        "."
        /* DOT */
      )) {
        if (isObject(obj[key])) {
          handleFlatJson(obj[key]);
        }
      } else {
        const subKeys = key.split(
          "."
          /* DOT */
        );
        const lastIndex = subKeys.length - 1;
        let currentObj = obj;
        for (let i = 0; i < lastIndex; i++) {
          if (!(subKeys[i] in currentObj)) {
            currentObj[subKeys[i]] = {};
          }
          currentObj = currentObj[subKeys[i]];
        }
        currentObj[subKeys[lastIndex]] = obj[key];
        delete obj[key];
        if (isObject(currentObj[subKeys[lastIndex]])) {
          handleFlatJson(currentObj[subKeys[lastIndex]]);
        }
      }
    }
    return obj;
  }
  /*!
    * @intlify/runtime v9.1.9
    * (c) 2021 kazuya kawaguchi
    * Released under the MIT License.
    */
  const DEFAULT_MODIFIER = (str) => str;
  const DEFAULT_MESSAGE = (ctx) => "";
  const DEFAULT_MESSAGE_DATA_TYPE = "text";
  const DEFAULT_NORMALIZE = (values) => values.length === 0 ? "" : values.join("");
  const DEFAULT_INTERPOLATE = toDisplayString;
  function pluralDefault(choice, choicesLength) {
    choice = Math.abs(choice);
    if (choicesLength === 2) {
      return choice ? choice > 1 ? 1 : 0 : 1;
    }
    return choice ? Math.min(choice, 2) : 0;
  }
  function getPluralIndex(options) {
    const index = isNumber(options.pluralIndex) ? options.pluralIndex : -1;
    return options.named && (isNumber(options.named.count) || isNumber(options.named.n)) ? isNumber(options.named.count) ? options.named.count : isNumber(options.named.n) ? options.named.n : index : index;
  }
  function normalizeNamed(pluralIndex, props2) {
    if (!props2.count) {
      props2.count = pluralIndex;
    }
    if (!props2.n) {
      props2.n = pluralIndex;
    }
  }
  function createMessageContext(options = {}) {
    const locale2 = options.locale;
    const pluralIndex = getPluralIndex(options);
    const pluralRule = isObject$1(options.pluralRules) && isString(locale2) && isFunction(options.pluralRules[locale2]) ? options.pluralRules[locale2] : pluralDefault;
    const orgPluralRule = isObject$1(options.pluralRules) && isString(locale2) && isFunction(options.pluralRules[locale2]) ? pluralDefault : void 0;
    const plural = (messages2) => messages2[pluralRule(pluralIndex, messages2.length, orgPluralRule)];
    const _list = options.list || [];
    const list = (index) => _list[index];
    const _named = options.named || {};
    isNumber(options.pluralIndex) && normalizeNamed(pluralIndex, _named);
    const named = (key) => _named[key];
    function message(key) {
      const msg = isFunction(options.messages) ? options.messages(key) : isObject$1(options.messages) ? options.messages[key] : false;
      return !msg ? options.parent ? options.parent.message(key) : DEFAULT_MESSAGE : msg;
    }
    const _modifier = (name2) => options.modifiers ? options.modifiers[name2] : DEFAULT_MODIFIER;
    const normalize = isPlainObject(options.processor) && isFunction(options.processor.normalize) ? options.processor.normalize : DEFAULT_NORMALIZE;
    const interpolate = isPlainObject(options.processor) && isFunction(options.processor.interpolate) ? options.processor.interpolate : DEFAULT_INTERPOLATE;
    const type = isPlainObject(options.processor) && isString(options.processor.type) ? options.processor.type : DEFAULT_MESSAGE_DATA_TYPE;
    const ctx = {
      [
        "list"
        /* LIST */
      ]: list,
      [
        "named"
        /* NAMED */
      ]: named,
      [
        "plural"
        /* PLURAL */
      ]: plural,
      [
        "linked"
        /* LINKED */
      ]: (key, modifier) => {
        const msg = message(key)(ctx);
        return isString(modifier) ? _modifier(modifier)(msg) : msg;
      },
      [
        "message"
        /* MESSAGE */
      ]: message,
      [
        "type"
        /* TYPE */
      ]: type,
      [
        "interpolate"
        /* INTERPOLATE */
      ]: interpolate,
      [
        "normalize"
        /* NORMALIZE */
      ]: normalize
    };
    return ctx;
  }
  /*!
    * @intlify/message-compiler v9.1.9
    * (c) 2021 kazuya kawaguchi
    * Released under the MIT License.
    */
  const errorMessages$2 = {
    // tokenizer error messages
    [
      0
      /* EXPECTED_TOKEN */
    ]: `Expected token: '{0}'`,
    [
      1
      /* INVALID_TOKEN_IN_PLACEHOLDER */
    ]: `Invalid token in placeholder: '{0}'`,
    [
      2
      /* UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER */
    ]: `Unterminated single quote in placeholder`,
    [
      3
      /* UNKNOWN_ESCAPE_SEQUENCE */
    ]: `Unknown escape sequence: \\{0}`,
    [
      4
      /* INVALID_UNICODE_ESCAPE_SEQUENCE */
    ]: `Invalid unicode escape sequence: {0}`,
    [
      5
      /* UNBALANCED_CLOSING_BRACE */
    ]: `Unbalanced closing brace`,
    [
      6
      /* UNTERMINATED_CLOSING_BRACE */
    ]: `Unterminated closing brace`,
    [
      7
      /* EMPTY_PLACEHOLDER */
    ]: `Empty placeholder`,
    [
      8
      /* NOT_ALLOW_NEST_PLACEHOLDER */
    ]: `Not allowed nest placeholder`,
    [
      9
      /* INVALID_LINKED_FORMAT */
    ]: `Invalid linked format`,
    // parser error messages
    [
      10
      /* MUST_HAVE_MESSAGES_IN_PLURAL */
    ]: `Plural must have messages`,
    [
      11
      /* UNEXPECTED_EMPTY_LINKED_MODIFIER */
    ]: `Unexpected empty linked modifier`,
    [
      12
      /* UNEXPECTED_EMPTY_LINKED_KEY */
    ]: `Unexpected empty linked key`,
    [
      13
      /* UNEXPECTED_LEXICAL_ANALYSIS */
    ]: `Unexpected lexical analysis in token: '{0}'`
  };
  function createCompileError(code2, loc, options = {}) {
    const { domain, messages: messages2, args } = options;
    const msg = format((messages2 || errorMessages$2)[code2] || "", ...args || []);
    const error = new SyntaxError(String(msg));
    error.code = code2;
    if (loc) {
      error.location = loc;
    }
    error.domain = domain;
    return error;
  }
  /*!
    * @intlify/devtools-if v9.1.9
    * (c) 2021 kazuya kawaguchi
    * Released under the MIT License.
    */
  const IntlifyDevToolsHooks = {
    I18nInit: "i18n:init",
    FunctionTranslate: "function:translate"
  };
  /*!
    * @intlify/core-base v9.1.9
    * (c) 2021 kazuya kawaguchi
    * Released under the MIT License.
    */
  let devtools = null;
  function setDevToolsHook(hook) {
    devtools = hook;
  }
  function initI18nDevTools(i18n2, version2, meta) {
    devtools && devtools.emit(IntlifyDevToolsHooks.I18nInit, {
      timestamp: Date.now(),
      i18n: i18n2,
      version: version2,
      meta
    });
  }
  const translateDevTools = /* @__PURE__ */ createDevToolsHook(IntlifyDevToolsHooks.FunctionTranslate);
  function createDevToolsHook(hook) {
    return (payloads) => devtools && devtools.emit(hook, payloads);
  }
  const warnMessages$1 = {
    [
      0
      /* NOT_FOUND_KEY */
    ]: `Not found '{key}' key in '{locale}' locale messages.`,
    [
      1
      /* FALLBACK_TO_TRANSLATE */
    ]: `Fall back to translate '{key}' key with '{target}' locale.`,
    [
      2
      /* CANNOT_FORMAT_NUMBER */
    ]: `Cannot format a number value due to not supported Intl.NumberFormat.`,
    [
      3
      /* FALLBACK_TO_NUMBER_FORMAT */
    ]: `Fall back to number format '{key}' key with '{target}' locale.`,
    [
      4
      /* CANNOT_FORMAT_DATE */
    ]: `Cannot format a date value due to not supported Intl.DateTimeFormat.`,
    [
      5
      /* FALLBACK_TO_DATE_FORMAT */
    ]: `Fall back to datetime format '{key}' key with '{target}' locale.`
  };
  function getWarnMessage$1(code2, ...args) {
    return format(warnMessages$1[code2], ...args);
  }
  const VERSION$1 = "9.1.9";
  const NOT_REOSLVED = -1;
  const MISSING_RESOLVE_VALUE = "";
  function getDefaultLinkedModifiers() {
    return {
      upper: (val) => isString(val) ? val.toUpperCase() : val,
      lower: (val) => isString(val) ? val.toLowerCase() : val,
      // prettier-ignore
      capitalize: (val) => isString(val) ? `${val.charAt(0).toLocaleUpperCase()}${val.substr(1)}` : val
    };
  }
  let _compiler;
  let _additionalMeta = null;
  const setAdditionalMeta = (meta) => {
    _additionalMeta = meta;
  };
  const getAdditionalMeta = () => _additionalMeta;
  let _cid = 0;
  function createCoreContext(options = {}) {
    const version2 = isString(options.version) ? options.version : VERSION$1;
    const locale2 = isString(options.locale) ? options.locale : "en-US";
    const fallbackLocale = isArray$1(options.fallbackLocale) || isPlainObject(options.fallbackLocale) || isString(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : locale2;
    const messages2 = isPlainObject(options.messages) ? options.messages : { [locale2]: {} };
    const datetimeFormats = isPlainObject(options.datetimeFormats) ? options.datetimeFormats : { [locale2]: {} };
    const numberFormats = isPlainObject(options.numberFormats) ? options.numberFormats : { [locale2]: {} };
    const modifiers = assign({}, options.modifiers || {}, getDefaultLinkedModifiers());
    const pluralRules = options.pluralRules || {};
    const missing = isFunction(options.missing) ? options.missing : null;
    const missingWarn = isBoolean(options.missingWarn) || isRegExp(options.missingWarn) ? options.missingWarn : true;
    const fallbackWarn = isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn) ? options.fallbackWarn : true;
    const fallbackFormat = !!options.fallbackFormat;
    const unresolving = !!options.unresolving;
    const postTranslation = isFunction(options.postTranslation) ? options.postTranslation : null;
    const processor = isPlainObject(options.processor) ? options.processor : null;
    const warnHtmlMessage = isBoolean(options.warnHtmlMessage) ? options.warnHtmlMessage : true;
    const escapeParameter = !!options.escapeParameter;
    const messageCompiler = isFunction(options.messageCompiler) ? options.messageCompiler : _compiler;
    const onWarn = isFunction(options.onWarn) ? options.onWarn : warn;
    const internalOptions = options;
    const __datetimeFormatters = isObject$1(internalOptions.__datetimeFormatters) ? internalOptions.__datetimeFormatters : /* @__PURE__ */ new Map();
    const __numberFormatters = isObject$1(internalOptions.__numberFormatters) ? internalOptions.__numberFormatters : /* @__PURE__ */ new Map();
    const __meta = isObject$1(internalOptions.__meta) ? internalOptions.__meta : {};
    _cid++;
    const context = {
      version: version2,
      cid: _cid,
      locale: locale2,
      fallbackLocale,
      messages: messages2,
      datetimeFormats,
      numberFormats,
      modifiers,
      pluralRules,
      missing,
      missingWarn,
      fallbackWarn,
      fallbackFormat,
      unresolving,
      postTranslation,
      processor,
      warnHtmlMessage,
      escapeParameter,
      messageCompiler,
      onWarn,
      __datetimeFormatters,
      __numberFormatters,
      __meta
    };
    {
      context.__v_emitter = internalOptions.__v_emitter != null ? internalOptions.__v_emitter : void 0;
    }
    {
      initI18nDevTools(context, version2, __meta);
    }
    return context;
  }
  function isTranslateFallbackWarn(fallback, key) {
    return fallback instanceof RegExp ? fallback.test(key) : fallback;
  }
  function isTranslateMissingWarn(missing, key) {
    return missing instanceof RegExp ? missing.test(key) : missing;
  }
  function handleMissing(context, key, locale2, missingWarn, type) {
    const { missing, onWarn } = context;
    {
      const emitter = context.__v_emitter;
      if (emitter) {
        emitter.emit("missing", {
          locale: locale2,
          key,
          type,
          groupId: `${type}:${key}`
        });
      }
    }
    if (missing !== null) {
      const ret = missing(context, locale2, key, type);
      return isString(ret) ? ret : key;
    } else {
      if (isTranslateMissingWarn(missingWarn, key)) {
        onWarn(getWarnMessage$1(0, { key, locale: locale2 }));
      }
      return key;
    }
  }
  function getLocaleChain(ctx, fallback, start) {
    const context = ctx;
    if (!context.__localeChainCache) {
      context.__localeChainCache = /* @__PURE__ */ new Map();
    }
    let chain = context.__localeChainCache.get(start);
    if (!chain) {
      chain = [];
      let block = [start];
      while (isArray$1(block)) {
        block = appendBlockToChain(chain, block, fallback);
      }
      const defaults = isArray$1(fallback) ? fallback : isPlainObject(fallback) ? fallback["default"] ? fallback["default"] : null : fallback;
      block = isString(defaults) ? [defaults] : defaults;
      if (isArray$1(block)) {
        appendBlockToChain(chain, block, false);
      }
      context.__localeChainCache.set(start, chain);
    }
    return chain;
  }
  function appendBlockToChain(chain, block, blocks) {
    let follow = true;
    for (let i = 0; i < block.length && isBoolean(follow); i++) {
      const locale2 = block[i];
      if (isString(locale2)) {
        follow = appendLocaleToChain(chain, block[i], blocks);
      }
    }
    return follow;
  }
  function appendLocaleToChain(chain, locale2, blocks) {
    let follow;
    const tokens = locale2.split("-");
    do {
      const target = tokens.join("-");
      follow = appendItemToChain(chain, target, blocks);
      tokens.splice(-1, 1);
    } while (tokens.length && follow === true);
    return follow;
  }
  function appendItemToChain(chain, target, blocks) {
    let follow = false;
    if (!chain.includes(target)) {
      follow = true;
      if (target) {
        follow = target[target.length - 1] !== "!";
        const locale2 = target.replace(/!/g, "");
        chain.push(locale2);
        if ((isArray$1(blocks) || isPlainObject(blocks)) && blocks[locale2]) {
          follow = blocks[locale2];
        }
      }
    }
    return follow;
  }
  function updateFallbackLocale(ctx, locale2, fallback) {
    const context = ctx;
    context.__localeChainCache = /* @__PURE__ */ new Map();
    getLocaleChain(ctx, fallback, locale2);
  }
  function createCoreError(code2) {
    return createCompileError(code2, null, { messages: errorMessages$1 });
  }
  const errorMessages$1 = {
    [
      14
      /* INVALID_ARGUMENT */
    ]: "Invalid arguments",
    [
      15
      /* INVALID_DATE_ARGUMENT */
    ]: "The date provided is an invalid Date object.Make sure your Date represents a valid date.",
    [
      16
      /* INVALID_ISO_DATE_ARGUMENT */
    ]: "The argument provided is not a valid ISO date string"
  };
  const NOOP_MESSAGE_FUNCTION = () => "";
  const isMessageFunction = (val) => isFunction(val);
  function translate(context, ...args) {
    const { fallbackFormat, postTranslation, unresolving, fallbackLocale, messages: messages2 } = context;
    const [key, options] = parseTranslateArgs(...args);
    const missingWarn = isBoolean(options.missingWarn) ? options.missingWarn : context.missingWarn;
    const fallbackWarn = isBoolean(options.fallbackWarn) ? options.fallbackWarn : context.fallbackWarn;
    const escapeParameter = isBoolean(options.escapeParameter) ? options.escapeParameter : context.escapeParameter;
    const resolvedMessage = !!options.resolvedMessage;
    const defaultMsgOrKey = isString(options.default) || isBoolean(options.default) ? !isBoolean(options.default) ? options.default : key : fallbackFormat ? key : "";
    const enableDefaultMsg = fallbackFormat || defaultMsgOrKey !== "";
    const locale2 = isString(options.locale) ? options.locale : context.locale;
    escapeParameter && escapeParams(options);
    let [format2, targetLocale, message] = !resolvedMessage ? resolveMessageFormat(context, key, locale2, fallbackLocale, fallbackWarn, missingWarn) : [
      key,
      locale2,
      messages2[locale2] || {}
    ];
    let cacheBaseKey = key;
    if (!resolvedMessage && !(isString(format2) || isMessageFunction(format2))) {
      if (enableDefaultMsg) {
        format2 = defaultMsgOrKey;
        cacheBaseKey = format2;
      }
    }
    if (!resolvedMessage && (!(isString(format2) || isMessageFunction(format2)) || !isString(targetLocale))) {
      return unresolving ? NOT_REOSLVED : key;
    }
    if (isString(format2) && context.messageCompiler == null) {
      warn(`The message format compilation is not supported in this build. Because message compiler isn't included. You need to pre-compilation all message format. So translate function return '${key}'.`);
      return key;
    }
    let occurred = false;
    const errorDetector = () => {
      occurred = true;
    };
    const msg = !isMessageFunction(format2) ? compileMessageFormat(context, key, targetLocale, format2, cacheBaseKey, errorDetector) : format2;
    if (occurred) {
      return format2;
    }
    const ctxOptions = getMessageContextOptions(context, targetLocale, message, options);
    const msgContext = createMessageContext(ctxOptions);
    const messaged = evaluateMessage(context, msg, msgContext);
    const ret = postTranslation ? postTranslation(messaged) : messaged;
    {
      const payloads = {
        timestamp: Date.now(),
        key: isString(key) ? key : isMessageFunction(format2) ? format2.key : "",
        locale: targetLocale || (isMessageFunction(format2) ? format2.locale : ""),
        format: isString(format2) ? format2 : isMessageFunction(format2) ? format2.source : "",
        message: ret
      };
      payloads.meta = assign({}, context.__meta, getAdditionalMeta() || {});
      translateDevTools(payloads);
    }
    return ret;
  }
  function escapeParams(options) {
    if (isArray$1(options.list)) {
      options.list = options.list.map((item) => isString(item) ? escapeHtml(item) : item);
    } else if (isObject$1(options.named)) {
      Object.keys(options.named).forEach((key) => {
        if (isString(options.named[key])) {
          options.named[key] = escapeHtml(options.named[key]);
        }
      });
    }
  }
  function resolveMessageFormat(context, key, locale2, fallbackLocale, fallbackWarn, missingWarn) {
    const { messages: messages2, onWarn } = context;
    const locales = getLocaleChain(context, fallbackLocale, locale2);
    let message = {};
    let targetLocale;
    let format2 = null;
    let from = locale2;
    let to = null;
    const type = "translate";
    for (let i = 0; i < locales.length; i++) {
      targetLocale = to = locales[i];
      if (locale2 !== targetLocale && isTranslateFallbackWarn(fallbackWarn, key)) {
        onWarn(getWarnMessage$1(1, {
          key,
          target: targetLocale
        }));
      }
      if (locale2 !== targetLocale) {
        const emitter = context.__v_emitter;
        if (emitter) {
          emitter.emit("fallback", {
            type,
            key,
            from,
            to,
            groupId: `${type}:${key}`
          });
        }
      }
      message = messages2[targetLocale] || {};
      let start = null;
      let startTag;
      let endTag;
      if (inBrowser) {
        start = window.performance.now();
        startTag = "intlify-message-resolve-start";
        endTag = "intlify-message-resolve-end";
        mark && mark(startTag);
      }
      if ((format2 = resolveValue(message, key)) === null) {
        format2 = message[key];
      }
      if (inBrowser) {
        const end = window.performance.now();
        const emitter = context.__v_emitter;
        if (emitter && start && format2) {
          emitter.emit("message-resolve", {
            type: "message-resolve",
            key,
            message: format2,
            time: end - start,
            groupId: `${type}:${key}`
          });
        }
        if (startTag && endTag && mark && measure) {
          mark(endTag);
          measure("intlify message resolve", startTag, endTag);
        }
      }
      if (isString(format2) || isFunction(format2))
        break;
      const missingRet = handleMissing(context, key, targetLocale, missingWarn, type);
      if (missingRet !== key) {
        format2 = missingRet;
      }
      from = to;
    }
    return [format2, targetLocale, message];
  }
  function compileMessageFormat(context, key, targetLocale, format2, cacheBaseKey, errorDetector) {
    const { messageCompiler, warnHtmlMessage } = context;
    if (isMessageFunction(format2)) {
      const msg2 = format2;
      msg2.locale = msg2.locale || targetLocale;
      msg2.key = msg2.key || key;
      return msg2;
    }
    let start = null;
    let startTag;
    let endTag;
    if (inBrowser) {
      start = window.performance.now();
      startTag = "intlify-message-compilation-start";
      endTag = "intlify-message-compilation-end";
      mark && mark(startTag);
    }
    const msg = messageCompiler(format2, getCompileOptions(context, targetLocale, cacheBaseKey, format2, warnHtmlMessage, errorDetector));
    if (inBrowser) {
      const end = window.performance.now();
      const emitter = context.__v_emitter;
      if (emitter && start) {
        emitter.emit("message-compilation", {
          type: "message-compilation",
          message: format2,
          time: end - start,
          groupId: `${"translate"}:${key}`
        });
      }
      if (startTag && endTag && mark && measure) {
        mark(endTag);
        measure("intlify message compilation", startTag, endTag);
      }
    }
    msg.locale = targetLocale;
    msg.key = key;
    msg.source = format2;
    return msg;
  }
  function evaluateMessage(context, msg, msgCtx) {
    let start = null;
    let startTag;
    let endTag;
    if (inBrowser) {
      start = window.performance.now();
      startTag = "intlify-message-evaluation-start";
      endTag = "intlify-message-evaluation-end";
      mark && mark(startTag);
    }
    const messaged = msg(msgCtx);
    if (inBrowser) {
      const end = window.performance.now();
      const emitter = context.__v_emitter;
      if (emitter && start) {
        emitter.emit("message-evaluation", {
          type: "message-evaluation",
          value: messaged,
          time: end - start,
          groupId: `${"translate"}:${msg.key}`
        });
      }
      if (startTag && endTag && mark && measure) {
        mark(endTag);
        measure("intlify message evaluation", startTag, endTag);
      }
    }
    return messaged;
  }
  function parseTranslateArgs(...args) {
    const [arg1, arg2, arg3] = args;
    const options = {};
    if (!isString(arg1) && !isNumber(arg1) && !isMessageFunction(arg1)) {
      throw createCoreError(
        14
        /* INVALID_ARGUMENT */
      );
    }
    const key = isNumber(arg1) ? String(arg1) : isMessageFunction(arg1) ? arg1 : arg1;
    if (isNumber(arg2)) {
      options.plural = arg2;
    } else if (isString(arg2)) {
      options.default = arg2;
    } else if (isPlainObject(arg2) && !isEmptyObject(arg2)) {
      options.named = arg2;
    } else if (isArray$1(arg2)) {
      options.list = arg2;
    }
    if (isNumber(arg3)) {
      options.plural = arg3;
    } else if (isString(arg3)) {
      options.default = arg3;
    } else if (isPlainObject(arg3)) {
      assign(options, arg3);
    }
    return [key, options];
  }
  function getCompileOptions(context, locale2, key, source, warnHtmlMessage, errorDetector) {
    return {
      warnHtmlMessage,
      onError: (err) => {
        errorDetector && errorDetector(err);
        {
          const message = `Message compilation error: ${err.message}`;
          const codeFrame = err.location && generateCodeFrame(source, err.location.start.offset, err.location.end.offset);
          const emitter = context.__v_emitter;
          if (emitter) {
            emitter.emit("compile-error", {
              message: source,
              error: err.message,
              start: err.location && err.location.start.offset,
              end: err.location && err.location.end.offset,
              groupId: `${"translate"}:${key}`
            });
          }
          console.error(codeFrame ? `${message}
${codeFrame}` : message);
        }
      },
      onCacheKey: (source2) => generateFormatCacheKey(locale2, key, source2)
    };
  }
  function getMessageContextOptions(context, locale2, message, options) {
    const { modifiers, pluralRules } = context;
    const resolveMessage = (key) => {
      const val = resolveValue(message, key);
      if (isString(val)) {
        let occurred = false;
        const errorDetector = () => {
          occurred = true;
        };
        const msg = compileMessageFormat(context, key, locale2, val, key, errorDetector);
        return !occurred ? msg : NOOP_MESSAGE_FUNCTION;
      } else if (isMessageFunction(val)) {
        return val;
      } else {
        return NOOP_MESSAGE_FUNCTION;
      }
    };
    const ctxOptions = {
      locale: locale2,
      modifiers,
      pluralRules,
      messages: resolveMessage
    };
    if (context.processor) {
      ctxOptions.processor = context.processor;
    }
    if (options.list) {
      ctxOptions.list = options.list;
    }
    if (options.named) {
      ctxOptions.named = options.named;
    }
    if (isNumber(options.plural)) {
      ctxOptions.pluralIndex = options.plural;
    }
    return ctxOptions;
  }
  const intlDefined = typeof Intl !== "undefined";
  const Availabilities = {
    dateTimeFormat: intlDefined && typeof Intl.DateTimeFormat !== "undefined",
    numberFormat: intlDefined && typeof Intl.NumberFormat !== "undefined"
  };
  function datetime(context, ...args) {
    const { datetimeFormats, unresolving, fallbackLocale, onWarn } = context;
    const { __datetimeFormatters } = context;
    if (!Availabilities.dateTimeFormat) {
      onWarn(getWarnMessage$1(
        4
        /* CANNOT_FORMAT_DATE */
      ));
      return MISSING_RESOLVE_VALUE;
    }
    const [key, value, options, overrides] = parseDateTimeArgs(...args);
    const missingWarn = isBoolean(options.missingWarn) ? options.missingWarn : context.missingWarn;
    const fallbackWarn = isBoolean(options.fallbackWarn) ? options.fallbackWarn : context.fallbackWarn;
    const part = !!options.part;
    const locale2 = isString(options.locale) ? options.locale : context.locale;
    const locales = getLocaleChain(context, fallbackLocale, locale2);
    if (!isString(key) || key === "") {
      return new Intl.DateTimeFormat(locale2).format(value);
    }
    let datetimeFormat = {};
    let targetLocale;
    let format2 = null;
    let from = locale2;
    let to = null;
    const type = "datetime format";
    for (let i = 0; i < locales.length; i++) {
      targetLocale = to = locales[i];
      if (locale2 !== targetLocale && isTranslateFallbackWarn(fallbackWarn, key)) {
        onWarn(getWarnMessage$1(5, {
          key,
          target: targetLocale
        }));
      }
      if (locale2 !== targetLocale) {
        const emitter = context.__v_emitter;
        if (emitter) {
          emitter.emit("fallback", {
            type,
            key,
            from,
            to,
            groupId: `${type}:${key}`
          });
        }
      }
      datetimeFormat = datetimeFormats[targetLocale] || {};
      format2 = datetimeFormat[key];
      if (isPlainObject(format2))
        break;
      handleMissing(context, key, targetLocale, missingWarn, type);
      from = to;
    }
    if (!isPlainObject(format2) || !isString(targetLocale)) {
      return unresolving ? NOT_REOSLVED : key;
    }
    let id = `${targetLocale}__${key}`;
    if (!isEmptyObject(overrides)) {
      id = `${id}__${JSON.stringify(overrides)}`;
    }
    let formatter = __datetimeFormatters.get(id);
    if (!formatter) {
      formatter = new Intl.DateTimeFormat(targetLocale, assign({}, format2, overrides));
      __datetimeFormatters.set(id, formatter);
    }
    return !part ? formatter.format(value) : formatter.formatToParts(value);
  }
  function parseDateTimeArgs(...args) {
    const [arg1, arg2, arg3, arg4] = args;
    let options = {};
    let overrides = {};
    let value;
    if (isString(arg1)) {
      if (!/\d{4}-\d{2}-\d{2}(T.*)?/.test(arg1)) {
        throw createCoreError(
          16
          /* INVALID_ISO_DATE_ARGUMENT */
        );
      }
      value = new Date(arg1);
      try {
        value.toISOString();
      } catch (e) {
        throw createCoreError(
          16
          /* INVALID_ISO_DATE_ARGUMENT */
        );
      }
    } else if (isDate(arg1)) {
      if (isNaN(arg1.getTime())) {
        throw createCoreError(
          15
          /* INVALID_DATE_ARGUMENT */
        );
      }
      value = arg1;
    } else if (isNumber(arg1)) {
      value = arg1;
    } else {
      throw createCoreError(
        14
        /* INVALID_ARGUMENT */
      );
    }
    if (isString(arg2)) {
      options.key = arg2;
    } else if (isPlainObject(arg2)) {
      options = arg2;
    }
    if (isString(arg3)) {
      options.locale = arg3;
    } else if (isPlainObject(arg3)) {
      overrides = arg3;
    }
    if (isPlainObject(arg4)) {
      overrides = arg4;
    }
    return [options.key || "", value, options, overrides];
  }
  function clearDateTimeFormat(ctx, locale2, format2) {
    const context = ctx;
    for (const key in format2) {
      const id = `${locale2}__${key}`;
      if (!context.__datetimeFormatters.has(id)) {
        continue;
      }
      context.__datetimeFormatters.delete(id);
    }
  }
  function number$1(context, ...args) {
    const { numberFormats, unresolving, fallbackLocale, onWarn } = context;
    const { __numberFormatters } = context;
    if (!Availabilities.numberFormat) {
      onWarn(getWarnMessage$1(
        2
        /* CANNOT_FORMAT_NUMBER */
      ));
      return MISSING_RESOLVE_VALUE;
    }
    const [key, value, options, overrides] = parseNumberArgs(...args);
    const missingWarn = isBoolean(options.missingWarn) ? options.missingWarn : context.missingWarn;
    const fallbackWarn = isBoolean(options.fallbackWarn) ? options.fallbackWarn : context.fallbackWarn;
    const part = !!options.part;
    const locale2 = isString(options.locale) ? options.locale : context.locale;
    const locales = getLocaleChain(context, fallbackLocale, locale2);
    if (!isString(key) || key === "") {
      return new Intl.NumberFormat(locale2).format(value);
    }
    let numberFormat = {};
    let targetLocale;
    let format2 = null;
    let from = locale2;
    let to = null;
    const type = "number format";
    for (let i = 0; i < locales.length; i++) {
      targetLocale = to = locales[i];
      if (locale2 !== targetLocale && isTranslateFallbackWarn(fallbackWarn, key)) {
        onWarn(getWarnMessage$1(3, {
          key,
          target: targetLocale
        }));
      }
      if (locale2 !== targetLocale) {
        const emitter = context.__v_emitter;
        if (emitter) {
          emitter.emit("fallback", {
            type,
            key,
            from,
            to,
            groupId: `${type}:${key}`
          });
        }
      }
      numberFormat = numberFormats[targetLocale] || {};
      format2 = numberFormat[key];
      if (isPlainObject(format2))
        break;
      handleMissing(context, key, targetLocale, missingWarn, type);
      from = to;
    }
    if (!isPlainObject(format2) || !isString(targetLocale)) {
      return unresolving ? NOT_REOSLVED : key;
    }
    let id = `${targetLocale}__${key}`;
    if (!isEmptyObject(overrides)) {
      id = `${id}__${JSON.stringify(overrides)}`;
    }
    let formatter = __numberFormatters.get(id);
    if (!formatter) {
      formatter = new Intl.NumberFormat(targetLocale, assign({}, format2, overrides));
      __numberFormatters.set(id, formatter);
    }
    return !part ? formatter.format(value) : formatter.formatToParts(value);
  }
  function parseNumberArgs(...args) {
    const [arg1, arg2, arg3, arg4] = args;
    let options = {};
    let overrides = {};
    if (!isNumber(arg1)) {
      throw createCoreError(
        14
        /* INVALID_ARGUMENT */
      );
    }
    const value = arg1;
    if (isString(arg2)) {
      options.key = arg2;
    } else if (isPlainObject(arg2)) {
      options = arg2;
    }
    if (isString(arg3)) {
      options.locale = arg3;
    } else if (isPlainObject(arg3)) {
      overrides = arg3;
    }
    if (isPlainObject(arg4)) {
      overrides = arg4;
    }
    return [options.key || "", value, options, overrides];
  }
  function clearNumberFormat(ctx, locale2, format2) {
    const context = ctx;
    for (const key in format2) {
      const id = `${locale2}__${key}`;
      if (!context.__numberFormatters.has(id)) {
        continue;
      }
      context.__numberFormatters.delete(id);
    }
  }
  /*!
    * @intlify/vue-devtools v9.1.9
    * (c) 2021 kazuya kawaguchi
    * Released under the MIT License.
    */
  const VueDevToolsLabels = {
    [
      "vue-devtools-plugin-vue-i18n"
      /* PLUGIN */
    ]: "Vue I18n devtools",
    [
      "vue-i18n-resource-inspector"
      /* CUSTOM_INSPECTOR */
    ]: "I18n Resources",
    [
      "vue-i18n-timeline"
      /* TIMELINE */
    ]: "Vue I18n"
  };
  const VueDevToolsPlaceholders = {
    [
      "vue-i18n-resource-inspector"
      /* CUSTOM_INSPECTOR */
    ]: "Search for scopes ..."
  };
  const VueDevToolsTimelineColors = {
    [
      "vue-i18n-timeline"
      /* TIMELINE */
    ]: 16764185
  };
  /*!
    * vue-i18n v9.1.9
    * (c) 2022 kazuya kawaguchi
    * Released under the MIT License.
    */
  const VERSION = "9.1.9";
  function initFeatureFlags() {
    let needWarn = false;
    {
      needWarn = true;
    }
    if (needWarn) {
      console.warn(`You are running the esm-bundler build of vue-i18n. It is recommended to configure your bundler to explicitly replace feature flag globals with boolean literals to get proper tree-shaking in the final bundle.`);
    }
  }
  const warnMessages = {
    [
      6
      /* FALLBACK_TO_ROOT */
    ]: `Fall back to {type} '{key}' with root locale.`,
    [
      7
      /* NOT_SUPPORTED_PRESERVE */
    ]: `Not supported 'preserve'.`,
    [
      8
      /* NOT_SUPPORTED_FORMATTER */
    ]: `Not supported 'formatter'.`,
    [
      9
      /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */
    ]: `Not supported 'preserveDirectiveContent'.`,
    [
      10
      /* NOT_SUPPORTED_GET_CHOICE_INDEX */
    ]: `Not supported 'getChoiceIndex'.`,
    [
      11
      /* COMPONENT_NAME_LEGACY_COMPATIBLE */
    ]: `Component name legacy compatible: '{name}' -> 'i18n'`,
    [
      12
      /* NOT_FOUND_PARENT_SCOPE */
    ]: `Not found parent scope. use the global scope.`
  };
  function getWarnMessage(code2, ...args) {
    return format(warnMessages[code2], ...args);
  }
  function createI18nError(code2, ...args) {
    return createCompileError(code2, null, { messages: errorMessages, args });
  }
  const errorMessages = {
    [
      14
      /* UNEXPECTED_RETURN_TYPE */
    ]: "Unexpected return type in composer",
    [
      15
      /* INVALID_ARGUMENT */
    ]: "Invalid argument",
    [
      16
      /* MUST_BE_CALL_SETUP_TOP */
    ]: "Must be called at the top of a `setup` function",
    [
      17
      /* NOT_INSLALLED */
    ]: "Need to install with `app.use` function",
    [
      22
      /* UNEXPECTED_ERROR */
    ]: "Unexpected error",
    [
      18
      /* NOT_AVAILABLE_IN_LEGACY_MODE */
    ]: "Not available in legacy mode",
    [
      19
      /* REQUIRED_VALUE */
    ]: `Required in value: {0}`,
    [
      20
      /* INVALID_VALUE */
    ]: `Invalid value`,
    [
      21
      /* CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN */
    ]: `Cannot setup vue-devtools plugin`
  };
  const DEVTOOLS_META = "__INTLIFY_META__";
  const TransrateVNodeSymbol = makeSymbol("__transrateVNode");
  const DatetimePartsSymbol = makeSymbol("__datetimeParts");
  const NumberPartsSymbol = makeSymbol("__numberParts");
  const EnableEmitter = makeSymbol("__enableEmitter");
  const DisableEmitter = makeSymbol("__disableEmitter");
  const SetPluralRulesSymbol = makeSymbol("__setPluralRules");
  makeSymbol("__intlifyMeta");
  const InejctWithOption = makeSymbol("__injectWithOption");
  let composerID = 0;
  function defineCoreMissingHandler(missing) {
    return (ctx, locale2, key, type) => {
      return missing(locale2, key, vue.getCurrentInstance() || void 0, type);
    };
  }
  function getLocaleMessages(locale2, options) {
    const { messages: messages2, __i18n } = options;
    const ret = isPlainObject(messages2) ? messages2 : isArray$1(__i18n) ? {} : { [locale2]: {} };
    if (isArray$1(__i18n)) {
      __i18n.forEach(({ locale: locale3, resource }) => {
        if (locale3) {
          ret[locale3] = ret[locale3] || {};
          deepCopy(resource, ret[locale3]);
        } else {
          deepCopy(resource, ret);
        }
      });
    }
    if (options.flatJson) {
      for (const key in ret) {
        if (hasOwn$1(ret, key)) {
          handleFlatJson(ret[key]);
        }
      }
    }
    return ret;
  }
  const isNotObjectOrIsArray = (val) => !isObject$1(val) || isArray$1(val);
  function deepCopy(src, des) {
    if (isNotObjectOrIsArray(src) || isNotObjectOrIsArray(des)) {
      throw createI18nError(
        20
        /* INVALID_VALUE */
      );
    }
    for (const key in src) {
      if (hasOwn$1(src, key)) {
        if (isNotObjectOrIsArray(src[key]) || isNotObjectOrIsArray(des[key])) {
          des[key] = src[key];
        } else {
          deepCopy(src[key], des[key]);
        }
      }
    }
  }
  const getMetaInfo = () => {
    const instance = vue.getCurrentInstance();
    return instance && instance.type[DEVTOOLS_META] ? { [DEVTOOLS_META]: instance.type[DEVTOOLS_META] } : null;
  };
  function createComposer(options = {}) {
    const { __root } = options;
    const _isGlobal = __root === void 0;
    let _inheritLocale = isBoolean(options.inheritLocale) ? options.inheritLocale : true;
    const _locale = vue.ref(
      // prettier-ignore
      __root && _inheritLocale ? __root.locale.value : isString(options.locale) ? options.locale : "en-US"
    );
    const _fallbackLocale = vue.ref(
      // prettier-ignore
      __root && _inheritLocale ? __root.fallbackLocale.value : isString(options.fallbackLocale) || isArray$1(options.fallbackLocale) || isPlainObject(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : _locale.value
    );
    const _messages = vue.ref(getLocaleMessages(_locale.value, options));
    const _datetimeFormats = vue.ref(isPlainObject(options.datetimeFormats) ? options.datetimeFormats : { [_locale.value]: {} });
    const _numberFormats = vue.ref(isPlainObject(options.numberFormats) ? options.numberFormats : { [_locale.value]: {} });
    let _missingWarn = __root ? __root.missingWarn : isBoolean(options.missingWarn) || isRegExp(options.missingWarn) ? options.missingWarn : true;
    let _fallbackWarn = __root ? __root.fallbackWarn : isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn) ? options.fallbackWarn : true;
    let _fallbackRoot = __root ? __root.fallbackRoot : isBoolean(options.fallbackRoot) ? options.fallbackRoot : true;
    let _fallbackFormat = !!options.fallbackFormat;
    let _missing = isFunction(options.missing) ? options.missing : null;
    let _runtimeMissing = isFunction(options.missing) ? defineCoreMissingHandler(options.missing) : null;
    let _postTranslation = isFunction(options.postTranslation) ? options.postTranslation : null;
    let _warnHtmlMessage = isBoolean(options.warnHtmlMessage) ? options.warnHtmlMessage : true;
    let _escapeParameter = !!options.escapeParameter;
    const _modifiers = __root ? __root.modifiers : isPlainObject(options.modifiers) ? options.modifiers : {};
    let _pluralRules = options.pluralRules || __root && __root.pluralRules;
    let _context;
    function getCoreContext() {
      return createCoreContext({
        version: VERSION,
        locale: _locale.value,
        fallbackLocale: _fallbackLocale.value,
        messages: _messages.value,
        messageCompiler: function compileToFunction(source) {
          return (ctx) => {
            return ctx.normalize([source]);
          };
        },
        datetimeFormats: _datetimeFormats.value,
        numberFormats: _numberFormats.value,
        modifiers: _modifiers,
        pluralRules: _pluralRules,
        missing: _runtimeMissing === null ? void 0 : _runtimeMissing,
        missingWarn: _missingWarn,
        fallbackWarn: _fallbackWarn,
        fallbackFormat: _fallbackFormat,
        unresolving: true,
        postTranslation: _postTranslation === null ? void 0 : _postTranslation,
        warnHtmlMessage: _warnHtmlMessage,
        escapeParameter: _escapeParameter,
        __datetimeFormatters: isPlainObject(_context) ? _context.__datetimeFormatters : void 0,
        __numberFormatters: isPlainObject(_context) ? _context.__numberFormatters : void 0,
        __v_emitter: isPlainObject(_context) ? _context.__v_emitter : void 0,
        __meta: { framework: "vue" }
      });
    }
    _context = getCoreContext();
    updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);
    function trackReactivityValues() {
      return [
        _locale.value,
        _fallbackLocale.value,
        _messages.value,
        _datetimeFormats.value,
        _numberFormats.value
      ];
    }
    const locale2 = vue.computed({
      get: () => _locale.value,
      set: (val) => {
        _locale.value = val;
        _context.locale = _locale.value;
      }
    });
    const fallbackLocale = vue.computed({
      get: () => _fallbackLocale.value,
      set: (val) => {
        _fallbackLocale.value = val;
        _context.fallbackLocale = _fallbackLocale.value;
        updateFallbackLocale(_context, _locale.value, val);
      }
    });
    const messages2 = vue.computed(() => _messages.value);
    const datetimeFormats = vue.computed(() => _datetimeFormats.value);
    const numberFormats = vue.computed(() => _numberFormats.value);
    function getPostTranslationHandler() {
      return isFunction(_postTranslation) ? _postTranslation : null;
    }
    function setPostTranslationHandler(handler) {
      _postTranslation = handler;
      _context.postTranslation = handler;
    }
    function getMissingHandler() {
      return _missing;
    }
    function setMissingHandler(handler) {
      if (handler !== null) {
        _runtimeMissing = defineCoreMissingHandler(handler);
      }
      _missing = handler;
      _context.missing = _runtimeMissing;
    }
    function isResolvedTranslateMessage(type, arg) {
      return type !== "translate" || !!arg.resolvedMessage === false;
    }
    function wrapWithDeps(fn, argumentParser, warnType, fallbackSuccess, fallbackFail, successCondition) {
      trackReactivityValues();
      let ret;
      {
        try {
          setAdditionalMeta(getMetaInfo());
          ret = fn(_context);
        } finally {
          setAdditionalMeta(null);
        }
      }
      if (isNumber(ret) && ret === NOT_REOSLVED) {
        const [key, arg2] = argumentParser();
        if (__root && isString(key) && isResolvedTranslateMessage(warnType, arg2)) {
          if (_fallbackRoot && (isTranslateFallbackWarn(_fallbackWarn, key) || isTranslateMissingWarn(_missingWarn, key))) {
            warn(getWarnMessage(6, {
              key,
              type: warnType
            }));
          }
          {
            const { __v_emitter: emitter } = _context;
            if (emitter && _fallbackRoot) {
              emitter.emit("fallback", {
                type: warnType,
                key,
                to: "global",
                groupId: `${warnType}:${key}`
              });
            }
          }
        }
        return __root && _fallbackRoot ? fallbackSuccess(__root) : fallbackFail(key);
      } else if (successCondition(ret)) {
        return ret;
      } else {
        throw createI18nError(
          14
          /* UNEXPECTED_RETURN_TYPE */
        );
      }
    }
    function t(...args) {
      return wrapWithDeps((context) => translate(context, ...args), () => parseTranslateArgs(...args), "translate", (root) => root.t(...args), (key) => key, (val) => isString(val));
    }
    function rt(...args) {
      const [arg1, arg2, arg3] = args;
      if (arg3 && !isObject$1(arg3)) {
        throw createI18nError(
          15
          /* INVALID_ARGUMENT */
        );
      }
      return t(...[arg1, arg2, assign({ resolvedMessage: true }, arg3 || {})]);
    }
    function d(...args) {
      return wrapWithDeps((context) => datetime(context, ...args), () => parseDateTimeArgs(...args), "datetime format", (root) => root.d(...args), () => MISSING_RESOLVE_VALUE, (val) => isString(val));
    }
    function n(...args) {
      return wrapWithDeps((context) => number$1(context, ...args), () => parseNumberArgs(...args), "number format", (root) => root.n(...args), () => MISSING_RESOLVE_VALUE, (val) => isString(val));
    }
    function normalize(values) {
      return values.map((val) => isString(val) ? vue.createVNode(vue.Text, null, val, 0) : val);
    }
    const interpolate = (val) => val;
    const processor = {
      normalize,
      interpolate,
      type: "vnode"
    };
    function transrateVNode(...args) {
      return wrapWithDeps(
        (context) => {
          let ret;
          const _context2 = context;
          try {
            _context2.processor = processor;
            ret = translate(_context2, ...args);
          } finally {
            _context2.processor = null;
          }
          return ret;
        },
        () => parseTranslateArgs(...args),
        "translate",
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        (root) => root[TransrateVNodeSymbol](...args),
        (key) => [vue.createVNode(vue.Text, null, key, 0)],
        (val) => isArray$1(val)
      );
    }
    function numberParts(...args) {
      return wrapWithDeps(
        (context) => number$1(context, ...args),
        () => parseNumberArgs(...args),
        "number format",
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        (root) => root[NumberPartsSymbol](...args),
        () => [],
        (val) => isString(val) || isArray$1(val)
      );
    }
    function datetimeParts(...args) {
      return wrapWithDeps(
        (context) => datetime(context, ...args),
        () => parseDateTimeArgs(...args),
        "datetime format",
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        (root) => root[DatetimePartsSymbol](...args),
        () => [],
        (val) => isString(val) || isArray$1(val)
      );
    }
    function setPluralRules(rules) {
      _pluralRules = rules;
      _context.pluralRules = _pluralRules;
    }
    function te(key, locale3) {
      const targetLocale = isString(locale3) ? locale3 : _locale.value;
      const message = getLocaleMessage(targetLocale);
      return resolveValue(message, key) !== null;
    }
    function resolveMessages(key) {
      let messages3 = null;
      const locales = getLocaleChain(_context, _fallbackLocale.value, _locale.value);
      for (let i = 0; i < locales.length; i++) {
        const targetLocaleMessages = _messages.value[locales[i]] || {};
        const messageValue = resolveValue(targetLocaleMessages, key);
        if (messageValue != null) {
          messages3 = messageValue;
          break;
        }
      }
      return messages3;
    }
    function tm(key) {
      const messages3 = resolveMessages(key);
      return messages3 != null ? messages3 : __root ? __root.tm(key) || {} : {};
    }
    function getLocaleMessage(locale3) {
      return _messages.value[locale3] || {};
    }
    function setLocaleMessage(locale3, message) {
      _messages.value[locale3] = message;
      _context.messages = _messages.value;
    }
    function mergeLocaleMessage(locale3, message) {
      _messages.value[locale3] = _messages.value[locale3] || {};
      deepCopy(message, _messages.value[locale3]);
      _context.messages = _messages.value;
    }
    function getDateTimeFormat(locale3) {
      return _datetimeFormats.value[locale3] || {};
    }
    function setDateTimeFormat(locale3, format2) {
      _datetimeFormats.value[locale3] = format2;
      _context.datetimeFormats = _datetimeFormats.value;
      clearDateTimeFormat(_context, locale3, format2);
    }
    function mergeDateTimeFormat(locale3, format2) {
      _datetimeFormats.value[locale3] = assign(_datetimeFormats.value[locale3] || {}, format2);
      _context.datetimeFormats = _datetimeFormats.value;
      clearDateTimeFormat(_context, locale3, format2);
    }
    function getNumberFormat(locale3) {
      return _numberFormats.value[locale3] || {};
    }
    function setNumberFormat(locale3, format2) {
      _numberFormats.value[locale3] = format2;
      _context.numberFormats = _numberFormats.value;
      clearNumberFormat(_context, locale3, format2);
    }
    function mergeNumberFormat(locale3, format2) {
      _numberFormats.value[locale3] = assign(_numberFormats.value[locale3] || {}, format2);
      _context.numberFormats = _numberFormats.value;
      clearNumberFormat(_context, locale3, format2);
    }
    composerID++;
    if (__root) {
      vue.watch(__root.locale, (val) => {
        if (_inheritLocale) {
          _locale.value = val;
          _context.locale = val;
          updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);
        }
      });
      vue.watch(__root.fallbackLocale, (val) => {
        if (_inheritLocale) {
          _fallbackLocale.value = val;
          _context.fallbackLocale = val;
          updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);
        }
      });
    }
    const composer = {
      id: composerID,
      locale: locale2,
      fallbackLocale,
      get inheritLocale() {
        return _inheritLocale;
      },
      set inheritLocale(val) {
        _inheritLocale = val;
        if (val && __root) {
          _locale.value = __root.locale.value;
          _fallbackLocale.value = __root.fallbackLocale.value;
          updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);
        }
      },
      get availableLocales() {
        return Object.keys(_messages.value).sort();
      },
      messages: messages2,
      datetimeFormats,
      numberFormats,
      get modifiers() {
        return _modifiers;
      },
      get pluralRules() {
        return _pluralRules || {};
      },
      get isGlobal() {
        return _isGlobal;
      },
      get missingWarn() {
        return _missingWarn;
      },
      set missingWarn(val) {
        _missingWarn = val;
        _context.missingWarn = _missingWarn;
      },
      get fallbackWarn() {
        return _fallbackWarn;
      },
      set fallbackWarn(val) {
        _fallbackWarn = val;
        _context.fallbackWarn = _fallbackWarn;
      },
      get fallbackRoot() {
        return _fallbackRoot;
      },
      set fallbackRoot(val) {
        _fallbackRoot = val;
      },
      get fallbackFormat() {
        return _fallbackFormat;
      },
      set fallbackFormat(val) {
        _fallbackFormat = val;
        _context.fallbackFormat = _fallbackFormat;
      },
      get warnHtmlMessage() {
        return _warnHtmlMessage;
      },
      set warnHtmlMessage(val) {
        _warnHtmlMessage = val;
        _context.warnHtmlMessage = val;
      },
      get escapeParameter() {
        return _escapeParameter;
      },
      set escapeParameter(val) {
        _escapeParameter = val;
        _context.escapeParameter = val;
      },
      t,
      rt,
      d,
      n,
      te,
      tm,
      getLocaleMessage,
      setLocaleMessage,
      mergeLocaleMessage,
      getDateTimeFormat,
      setDateTimeFormat,
      mergeDateTimeFormat,
      getNumberFormat,
      setNumberFormat,
      mergeNumberFormat,
      getPostTranslationHandler,
      setPostTranslationHandler,
      getMissingHandler,
      setMissingHandler,
      [TransrateVNodeSymbol]: transrateVNode,
      [NumberPartsSymbol]: numberParts,
      [DatetimePartsSymbol]: datetimeParts,
      [SetPluralRulesSymbol]: setPluralRules,
      [InejctWithOption]: options.__injectWithOption
      // eslint-disable-line @typescript-eslint/no-explicit-any
    };
    {
      composer[EnableEmitter] = (emitter) => {
        _context.__v_emitter = emitter;
      };
      composer[DisableEmitter] = () => {
        _context.__v_emitter = void 0;
      };
    }
    return composer;
  }
  function convertComposerOptions(options) {
    const locale2 = isString(options.locale) ? options.locale : "en-US";
    const fallbackLocale = isString(options.fallbackLocale) || isArray$1(options.fallbackLocale) || isPlainObject(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : locale2;
    const missing = isFunction(options.missing) ? options.missing : void 0;
    const missingWarn = isBoolean(options.silentTranslationWarn) || isRegExp(options.silentTranslationWarn) ? !options.silentTranslationWarn : true;
    const fallbackWarn = isBoolean(options.silentFallbackWarn) || isRegExp(options.silentFallbackWarn) ? !options.silentFallbackWarn : true;
    const fallbackRoot = isBoolean(options.fallbackRoot) ? options.fallbackRoot : true;
    const fallbackFormat = !!options.formatFallbackMessages;
    const modifiers = isPlainObject(options.modifiers) ? options.modifiers : {};
    const pluralizationRules = options.pluralizationRules;
    const postTranslation = isFunction(options.postTranslation) ? options.postTranslation : void 0;
    const warnHtmlMessage = isString(options.warnHtmlInMessage) ? options.warnHtmlInMessage !== "off" : true;
    const escapeParameter = !!options.escapeParameterHtml;
    const inheritLocale = isBoolean(options.sync) ? options.sync : true;
    if (options.formatter) {
      warn(getWarnMessage(
        8
        /* NOT_SUPPORTED_FORMATTER */
      ));
    }
    if (options.preserveDirectiveContent) {
      warn(getWarnMessage(
        9
        /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */
      ));
    }
    let messages2 = options.messages;
    if (isPlainObject(options.sharedMessages)) {
      const sharedMessages = options.sharedMessages;
      const locales = Object.keys(sharedMessages);
      messages2 = locales.reduce((messages3, locale3) => {
        const message = messages3[locale3] || (messages3[locale3] = {});
        assign(message, sharedMessages[locale3]);
        return messages3;
      }, messages2 || {});
    }
    const { __i18n, __root, __injectWithOption } = options;
    const datetimeFormats = options.datetimeFormats;
    const numberFormats = options.numberFormats;
    const flatJson = options.flatJson;
    return {
      locale: locale2,
      fallbackLocale,
      messages: messages2,
      flatJson,
      datetimeFormats,
      numberFormats,
      missing,
      missingWarn,
      fallbackWarn,
      fallbackRoot,
      fallbackFormat,
      modifiers,
      pluralRules: pluralizationRules,
      postTranslation,
      warnHtmlMessage,
      escapeParameter,
      inheritLocale,
      __i18n,
      __root,
      __injectWithOption
    };
  }
  function createVueI18n(options = {}) {
    const composer = createComposer(convertComposerOptions(options));
    const vueI18n = {
      // id
      id: composer.id,
      // locale
      get locale() {
        return composer.locale.value;
      },
      set locale(val) {
        composer.locale.value = val;
      },
      // fallbackLocale
      get fallbackLocale() {
        return composer.fallbackLocale.value;
      },
      set fallbackLocale(val) {
        composer.fallbackLocale.value = val;
      },
      // messages
      get messages() {
        return composer.messages.value;
      },
      // datetimeFormats
      get datetimeFormats() {
        return composer.datetimeFormats.value;
      },
      // numberFormats
      get numberFormats() {
        return composer.numberFormats.value;
      },
      // availableLocales
      get availableLocales() {
        return composer.availableLocales;
      },
      // formatter
      get formatter() {
        warn(getWarnMessage(
          8
          /* NOT_SUPPORTED_FORMATTER */
        ));
        return {
          interpolate() {
            return [];
          }
        };
      },
      set formatter(val) {
        warn(getWarnMessage(
          8
          /* NOT_SUPPORTED_FORMATTER */
        ));
      },
      // missing
      get missing() {
        return composer.getMissingHandler();
      },
      set missing(handler) {
        composer.setMissingHandler(handler);
      },
      // silentTranslationWarn
      get silentTranslationWarn() {
        return isBoolean(composer.missingWarn) ? !composer.missingWarn : composer.missingWarn;
      },
      set silentTranslationWarn(val) {
        composer.missingWarn = isBoolean(val) ? !val : val;
      },
      // silentFallbackWarn
      get silentFallbackWarn() {
        return isBoolean(composer.fallbackWarn) ? !composer.fallbackWarn : composer.fallbackWarn;
      },
      set silentFallbackWarn(val) {
        composer.fallbackWarn = isBoolean(val) ? !val : val;
      },
      // modifiers
      get modifiers() {
        return composer.modifiers;
      },
      // formatFallbackMessages
      get formatFallbackMessages() {
        return composer.fallbackFormat;
      },
      set formatFallbackMessages(val) {
        composer.fallbackFormat = val;
      },
      // postTranslation
      get postTranslation() {
        return composer.getPostTranslationHandler();
      },
      set postTranslation(handler) {
        composer.setPostTranslationHandler(handler);
      },
      // sync
      get sync() {
        return composer.inheritLocale;
      },
      set sync(val) {
        composer.inheritLocale = val;
      },
      // warnInHtmlMessage
      get warnHtmlInMessage() {
        return composer.warnHtmlMessage ? "warn" : "off";
      },
      set warnHtmlInMessage(val) {
        composer.warnHtmlMessage = val !== "off";
      },
      // escapeParameterHtml
      get escapeParameterHtml() {
        return composer.escapeParameter;
      },
      set escapeParameterHtml(val) {
        composer.escapeParameter = val;
      },
      // preserveDirectiveContent
      get preserveDirectiveContent() {
        warn(getWarnMessage(
          9
          /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */
        ));
        return true;
      },
      set preserveDirectiveContent(val) {
        warn(getWarnMessage(
          9
          /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */
        ));
      },
      // pluralizationRules
      get pluralizationRules() {
        return composer.pluralRules || {};
      },
      // for internal
      __composer: composer,
      // t
      t(...args) {
        const [arg1, arg2, arg3] = args;
        const options2 = {};
        let list = null;
        let named = null;
        if (!isString(arg1)) {
          throw createI18nError(
            15
            /* INVALID_ARGUMENT */
          );
        }
        const key = arg1;
        if (isString(arg2)) {
          options2.locale = arg2;
        } else if (isArray$1(arg2)) {
          list = arg2;
        } else if (isPlainObject(arg2)) {
          named = arg2;
        }
        if (isArray$1(arg3)) {
          list = arg3;
        } else if (isPlainObject(arg3)) {
          named = arg3;
        }
        return composer.t(key, list || named || {}, options2);
      },
      rt(...args) {
        return composer.rt(...args);
      },
      // tc
      tc(...args) {
        const [arg1, arg2, arg3] = args;
        const options2 = { plural: 1 };
        let list = null;
        let named = null;
        if (!isString(arg1)) {
          throw createI18nError(
            15
            /* INVALID_ARGUMENT */
          );
        }
        const key = arg1;
        if (isString(arg2)) {
          options2.locale = arg2;
        } else if (isNumber(arg2)) {
          options2.plural = arg2;
        } else if (isArray$1(arg2)) {
          list = arg2;
        } else if (isPlainObject(arg2)) {
          named = arg2;
        }
        if (isString(arg3)) {
          options2.locale = arg3;
        } else if (isArray$1(arg3)) {
          list = arg3;
        } else if (isPlainObject(arg3)) {
          named = arg3;
        }
        return composer.t(key, list || named || {}, options2);
      },
      // te
      te(key, locale2) {
        return composer.te(key, locale2);
      },
      // tm
      tm(key) {
        return composer.tm(key);
      },
      // getLocaleMessage
      getLocaleMessage(locale2) {
        return composer.getLocaleMessage(locale2);
      },
      // setLocaleMessage
      setLocaleMessage(locale2, message) {
        composer.setLocaleMessage(locale2, message);
      },
      // mergeLocaleMessage
      mergeLocaleMessage(locale2, message) {
        composer.mergeLocaleMessage(locale2, message);
      },
      // d
      d(...args) {
        return composer.d(...args);
      },
      // getDateTimeFormat
      getDateTimeFormat(locale2) {
        return composer.getDateTimeFormat(locale2);
      },
      // setDateTimeFormat
      setDateTimeFormat(locale2, format2) {
        composer.setDateTimeFormat(locale2, format2);
      },
      // mergeDateTimeFormat
      mergeDateTimeFormat(locale2, format2) {
        composer.mergeDateTimeFormat(locale2, format2);
      },
      // n
      n(...args) {
        return composer.n(...args);
      },
      // getNumberFormat
      getNumberFormat(locale2) {
        return composer.getNumberFormat(locale2);
      },
      // setNumberFormat
      setNumberFormat(locale2, format2) {
        composer.setNumberFormat(locale2, format2);
      },
      // mergeNumberFormat
      mergeNumberFormat(locale2, format2) {
        composer.mergeNumberFormat(locale2, format2);
      },
      // getChoiceIndex
      // eslint-disable-next-line @typescript-eslint/no-unused-vars
      getChoiceIndex(choice, choicesLength) {
        warn(getWarnMessage(
          10
          /* NOT_SUPPORTED_GET_CHOICE_INDEX */
        ));
        return -1;
      },
      // for internal
      __onComponentInstanceCreated(target) {
        const { componentInstanceCreatedListener } = options;
        if (componentInstanceCreatedListener) {
          componentInstanceCreatedListener(target, vueI18n);
        }
      }
    };
    {
      vueI18n.__enableEmitter = (emitter) => {
        const __composer = composer;
        __composer[EnableEmitter] && __composer[EnableEmitter](emitter);
      };
      vueI18n.__disableEmitter = () => {
        const __composer = composer;
        __composer[DisableEmitter] && __composer[DisableEmitter]();
      };
    }
    return vueI18n;
  }
  const baseFormatProps = {
    tag: {
      type: [String, Object]
    },
    locale: {
      type: String
    },
    scope: {
      type: String,
      validator: (val) => val === "parent" || val === "global",
      default: "parent"
    },
    i18n: {
      type: Object
    }
  };
  const Translation = {
    /* eslint-disable */
    name: "i18n-t",
    props: assign({
      keypath: {
        type: String,
        required: true
      },
      plural: {
        type: [Number, String],
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        validator: (val) => isNumber(val) || !isNaN(val)
      }
    }, baseFormatProps),
    /* eslint-enable */
    setup(props2, context) {
      const { slots, attrs } = context;
      const i18n2 = props2.i18n || useI18n({
        useScope: props2.scope,
        __useComponent: true
      });
      const keys = Object.keys(slots).filter((key) => key !== "_");
      return () => {
        const options = {};
        if (props2.locale) {
          options.locale = props2.locale;
        }
        if (props2.plural !== void 0) {
          options.plural = isString(props2.plural) ? +props2.plural : props2.plural;
        }
        const arg = getInterpolateArg(context, keys);
        const children = i18n2[TransrateVNodeSymbol](props2.keypath, arg, options);
        const assignedAttrs = assign({}, attrs);
        return isString(props2.tag) ? vue.h(props2.tag, assignedAttrs, children) : isObject$1(props2.tag) ? vue.h(props2.tag, assignedAttrs, children) : vue.h(vue.Fragment, assignedAttrs, children);
      };
    }
  };
  function getInterpolateArg({ slots }, keys) {
    if (keys.length === 1 && keys[0] === "default") {
      return slots.default ? slots.default() : [];
    } else {
      return keys.reduce((arg, key) => {
        const slot = slots[key];
        if (slot) {
          arg[key] = slot();
        }
        return arg;
      }, {});
    }
  }
  function renderFormatter(props2, context, slotKeys, partFormatter) {
    const { slots, attrs } = context;
    return () => {
      const options = { part: true };
      let overrides = {};
      if (props2.locale) {
        options.locale = props2.locale;
      }
      if (isString(props2.format)) {
        options.key = props2.format;
      } else if (isObject$1(props2.format)) {
        if (isString(props2.format.key)) {
          options.key = props2.format.key;
        }
        overrides = Object.keys(props2.format).reduce((options2, prop) => {
          return slotKeys.includes(prop) ? assign({}, options2, { [prop]: props2.format[prop] }) : options2;
        }, {});
      }
      const parts = partFormatter(...[props2.value, options, overrides]);
      let children = [options.key];
      if (isArray$1(parts)) {
        children = parts.map((part, index) => {
          const slot = slots[part.type];
          return slot ? slot({ [part.type]: part.value, index, parts }) : [part.value];
        });
      } else if (isString(parts)) {
        children = [parts];
      }
      const assignedAttrs = assign({}, attrs);
      return isString(props2.tag) ? vue.h(props2.tag, assignedAttrs, children) : isObject$1(props2.tag) ? vue.h(props2.tag, assignedAttrs, children) : vue.h(vue.Fragment, assignedAttrs, children);
    };
  }
  const NUMBER_FORMAT_KEYS = [
    "localeMatcher",
    "style",
    "unit",
    "unitDisplay",
    "currency",
    "currencyDisplay",
    "useGrouping",
    "numberingSystem",
    "minimumIntegerDigits",
    "minimumFractionDigits",
    "maximumFractionDigits",
    "minimumSignificantDigits",
    "maximumSignificantDigits",
    "notation",
    "formatMatcher"
  ];
  const NumberFormat = {
    /* eslint-disable */
    name: "i18n-n",
    props: assign({
      value: {
        type: Number,
        required: true
      },
      format: {
        type: [String, Object]
      }
    }, baseFormatProps),
    /* eslint-enable */
    setup(props2, context) {
      const i18n2 = props2.i18n || useI18n({ useScope: "parent", __useComponent: true });
      return renderFormatter(props2, context, NUMBER_FORMAT_KEYS, (...args) => (
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        i18n2[NumberPartsSymbol](...args)
      ));
    }
  };
  const DATETIME_FORMAT_KEYS = [
    "dateStyle",
    "timeStyle",
    "fractionalSecondDigits",
    "calendar",
    "dayPeriod",
    "numberingSystem",
    "localeMatcher",
    "timeZone",
    "hour12",
    "hourCycle",
    "formatMatcher",
    "weekday",
    "era",
    "year",
    "month",
    "day",
    "hour",
    "minute",
    "second",
    "timeZoneName"
  ];
  const DatetimeFormat = {
    /* eslint-disable */
    name: "i18n-d",
    props: assign({
      value: {
        type: [Number, Date],
        required: true
      },
      format: {
        type: [String, Object]
      }
    }, baseFormatProps),
    /* eslint-enable */
    setup(props2, context) {
      const i18n2 = props2.i18n || useI18n({ useScope: "parent", __useComponent: true });
      return renderFormatter(props2, context, DATETIME_FORMAT_KEYS, (...args) => (
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        i18n2[DatetimePartsSymbol](...args)
      ));
    }
  };
  function getComposer$2(i18n2, instance) {
    const i18nInternal = i18n2;
    if (i18n2.mode === "composition") {
      return i18nInternal.__getInstance(instance) || i18n2.global;
    } else {
      const vueI18n = i18nInternal.__getInstance(instance);
      return vueI18n != null ? vueI18n.__composer : i18n2.global.__composer;
    }
  }
  function vTDirective(i18n2) {
    const bind = (el, { instance, value, modifiers }) => {
      if (!instance || !instance.$) {
        throw createI18nError(
          22
          /* UNEXPECTED_ERROR */
        );
      }
      const composer = getComposer$2(i18n2, instance.$);
      if (modifiers.preserve) {
        warn(getWarnMessage(
          7
          /* NOT_SUPPORTED_PRESERVE */
        ));
      }
      const parsedValue = parseValue(value);
      el.textContent = composer.t(...makeParams(parsedValue));
    };
    return {
      beforeMount: bind,
      beforeUpdate: bind
    };
  }
  function parseValue(value) {
    if (isString(value)) {
      return { path: value };
    } else if (isPlainObject(value)) {
      if (!("path" in value)) {
        throw createI18nError(19, "path");
      }
      return value;
    } else {
      throw createI18nError(
        20
        /* INVALID_VALUE */
      );
    }
  }
  function makeParams(value) {
    const { path, locale: locale2, args, choice, plural } = value;
    const options = {};
    const named = args || {};
    if (isString(locale2)) {
      options.locale = locale2;
    }
    if (isNumber(choice)) {
      options.plural = choice;
    }
    if (isNumber(plural)) {
      options.plural = plural;
    }
    return [path, named, options];
  }
  function apply(app, i18n2, ...options) {
    const pluginOptions = isPlainObject(options[0]) ? options[0] : {};
    const useI18nComponentName = !!pluginOptions.useI18nComponentName;
    const globalInstall = isBoolean(pluginOptions.globalInstall) ? pluginOptions.globalInstall : true;
    if (globalInstall && useI18nComponentName) {
      warn(getWarnMessage(11, {
        name: Translation.name
      }));
    }
    if (globalInstall) {
      app.component(!useI18nComponentName ? Translation.name : "i18n", Translation);
      app.component(NumberFormat.name, NumberFormat);
      app.component(DatetimeFormat.name, DatetimeFormat);
    }
    app.directive("t", vTDirective(i18n2));
  }
  const VUE_I18N_COMPONENT_TYPES = "vue-i18n: composer properties";
  let devtoolsApi;
  async function enableDevTools(app, i18n2) {
    return new Promise((resolve, reject) => {
      try {
        setupDevtoolsPlugin({
          id: "vue-devtools-plugin-vue-i18n",
          label: VueDevToolsLabels[
            "vue-devtools-plugin-vue-i18n"
            /* PLUGIN */
          ],
          packageName: "vue-i18n",
          homepage: "https://vue-i18n.intlify.dev",
          logo: "https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png",
          componentStateTypes: [VUE_I18N_COMPONENT_TYPES],
          app
        }, (api) => {
          devtoolsApi = api;
          api.on.visitComponentTree(({ componentInstance, treeNode }) => {
            updateComponentTreeTags(componentInstance, treeNode, i18n2);
          });
          api.on.inspectComponent(({ componentInstance, instanceData }) => {
            if (componentInstance.vnode.el.__VUE_I18N__ && instanceData) {
              if (i18n2.mode === "legacy") {
                if (componentInstance.vnode.el.__VUE_I18N__ !== i18n2.global.__composer) {
                  inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);
                }
              } else {
                inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);
              }
            }
          });
          api.addInspector({
            id: "vue-i18n-resource-inspector",
            label: VueDevToolsLabels[
              "vue-i18n-resource-inspector"
              /* CUSTOM_INSPECTOR */
            ],
            icon: "language",
            treeFilterPlaceholder: VueDevToolsPlaceholders[
              "vue-i18n-resource-inspector"
              /* CUSTOM_INSPECTOR */
            ]
          });
          api.on.getInspectorTree((payload) => {
            if (payload.app === app && payload.inspectorId === "vue-i18n-resource-inspector") {
              registerScope(payload, i18n2);
            }
          });
          api.on.getInspectorState((payload) => {
            if (payload.app === app && payload.inspectorId === "vue-i18n-resource-inspector") {
              inspectScope(payload, i18n2);
            }
          });
          api.on.editInspectorState((payload) => {
            if (payload.app === app && payload.inspectorId === "vue-i18n-resource-inspector") {
              editScope(payload, i18n2);
            }
          });
          api.addTimelineLayer({
            id: "vue-i18n-timeline",
            label: VueDevToolsLabels[
              "vue-i18n-timeline"
              /* TIMELINE */
            ],
            color: VueDevToolsTimelineColors[
              "vue-i18n-timeline"
              /* TIMELINE */
            ]
          });
          resolve(true);
        });
      } catch (e) {
        console.error(e);
        reject(false);
      }
    });
  }
  function updateComponentTreeTags(instance, treeNode, i18n2) {
    const global2 = i18n2.mode === "composition" ? i18n2.global : i18n2.global.__composer;
    if (instance && instance.vnode.el.__VUE_I18N__) {
      if (instance.vnode.el.__VUE_I18N__ !== global2) {
        const label = instance.type.name || instance.type.displayName || instance.type.__file;
        const tag = {
          label: `i18n (${label} Scope)`,
          textColor: 0,
          backgroundColor: 16764185
        };
        treeNode.tags.push(tag);
      }
    }
  }
  function inspectComposer(instanceData, composer) {
    const type = VUE_I18N_COMPONENT_TYPES;
    instanceData.state.push({
      type,
      key: "locale",
      editable: true,
      value: composer.locale.value
    });
    instanceData.state.push({
      type,
      key: "availableLocales",
      editable: false,
      value: composer.availableLocales
    });
    instanceData.state.push({
      type,
      key: "fallbackLocale",
      editable: true,
      value: composer.fallbackLocale.value
    });
    instanceData.state.push({
      type,
      key: "inheritLocale",
      editable: true,
      value: composer.inheritLocale
    });
    instanceData.state.push({
      type,
      key: "messages",
      editable: false,
      value: getLocaleMessageValue(composer.messages.value)
    });
    instanceData.state.push({
      type,
      key: "datetimeFormats",
      editable: false,
      value: composer.datetimeFormats.value
    });
    instanceData.state.push({
      type,
      key: "numberFormats",
      editable: false,
      value: composer.numberFormats.value
    });
  }
  function getLocaleMessageValue(messages2) {
    const value = {};
    Object.keys(messages2).forEach((key) => {
      const v = messages2[key];
      if (isFunction(v) && "source" in v) {
        value[key] = getMessageFunctionDetails(v);
      } else if (isObject$1(v)) {
        value[key] = getLocaleMessageValue(v);
      } else {
        value[key] = v;
      }
    });
    return value;
  }
  const ESC = {
    "<": "&lt;",
    ">": "&gt;",
    '"': "&quot;",
    "&": "&amp;"
  };
  function escape(s) {
    return s.replace(/[<>"&]/g, escapeChar);
  }
  function escapeChar(a) {
    return ESC[a] || a;
  }
  function getMessageFunctionDetails(func) {
    const argString = func.source ? `("${escape(func.source)}")` : `(?)`;
    return {
      _custom: {
        type: "function",
        display: `<span>ƒ</span> ${argString}`
      }
    };
  }
  function registerScope(payload, i18n2) {
    payload.rootNodes.push({
      id: "global",
      label: "Global Scope"
    });
    const global2 = i18n2.mode === "composition" ? i18n2.global : i18n2.global.__composer;
    for (const [keyInstance, instance] of i18n2.__instances) {
      const composer = i18n2.mode === "composition" ? instance : instance.__composer;
      if (global2 === composer) {
        continue;
      }
      const label = keyInstance.type.name || keyInstance.type.displayName || keyInstance.type.__file;
      payload.rootNodes.push({
        id: composer.id.toString(),
        label: `${label} Scope`
      });
    }
  }
  function getComposer$1(nodeId, i18n2) {
    if (nodeId === "global") {
      return i18n2.mode === "composition" ? i18n2.global : i18n2.global.__composer;
    } else {
      const instance = Array.from(i18n2.__instances.values()).find((item) => item.id.toString() === nodeId);
      if (instance) {
        return i18n2.mode === "composition" ? instance : instance.__composer;
      } else {
        return null;
      }
    }
  }
  function inspectScope(payload, i18n2) {
    const composer = getComposer$1(payload.nodeId, i18n2);
    if (composer) {
      payload.state = makeScopeInspectState(composer);
    }
  }
  function makeScopeInspectState(composer) {
    const state = {};
    const localeType = "Locale related info";
    const localeStates = [
      {
        type: localeType,
        key: "locale",
        editable: true,
        value: composer.locale.value
      },
      {
        type: localeType,
        key: "fallbackLocale",
        editable: true,
        value: composer.fallbackLocale.value
      },
      {
        type: localeType,
        key: "availableLocales",
        editable: false,
        value: composer.availableLocales
      },
      {
        type: localeType,
        key: "inheritLocale",
        editable: true,
        value: composer.inheritLocale
      }
    ];
    state[localeType] = localeStates;
    const localeMessagesType = "Locale messages info";
    const localeMessagesStates = [
      {
        type: localeMessagesType,
        key: "messages",
        editable: false,
        value: getLocaleMessageValue(composer.messages.value)
      }
    ];
    state[localeMessagesType] = localeMessagesStates;
    const datetimeFormatsType = "Datetime formats info";
    const datetimeFormatsStates = [
      {
        type: datetimeFormatsType,
        key: "datetimeFormats",
        editable: false,
        value: composer.datetimeFormats.value
      }
    ];
    state[datetimeFormatsType] = datetimeFormatsStates;
    const numberFormatsType = "Datetime formats info";
    const numberFormatsStates = [
      {
        type: numberFormatsType,
        key: "numberFormats",
        editable: false,
        value: composer.numberFormats.value
      }
    ];
    state[numberFormatsType] = numberFormatsStates;
    return state;
  }
  function addTimelineEvent(event, payload) {
    if (devtoolsApi) {
      let groupId;
      if (payload && "groupId" in payload) {
        groupId = payload.groupId;
        delete payload.groupId;
      }
      devtoolsApi.addTimelineEvent({
        layerId: "vue-i18n-timeline",
        event: {
          title: event,
          groupId,
          time: Date.now(),
          meta: {},
          data: payload || {},
          logType: event === "compile-error" ? "error" : event === "fallback" || event === "missing" ? "warning" : "default"
        }
      });
    }
  }
  function editScope(payload, i18n2) {
    const composer = getComposer$1(payload.nodeId, i18n2);
    if (composer) {
      const [field] = payload.path;
      if (field === "locale" && isString(payload.state.value)) {
        composer.locale.value = payload.state.value;
      } else if (field === "fallbackLocale" && (isString(payload.state.value) || isArray$1(payload.state.value) || isObject$1(payload.state.value))) {
        composer.fallbackLocale.value = payload.state.value;
      } else if (field === "inheritLocale" && isBoolean(payload.state.value)) {
        composer.inheritLocale = payload.state.value;
      }
    }
  }
  function defineMixin(vuei18n, composer, i18n2) {
    return {
      beforeCreate() {
        const instance = vue.getCurrentInstance();
        if (!instance) {
          throw createI18nError(
            22
            /* UNEXPECTED_ERROR */
          );
        }
        const options = this.$options;
        if (options.i18n) {
          const optionsI18n = options.i18n;
          if (options.__i18n) {
            optionsI18n.__i18n = options.__i18n;
          }
          optionsI18n.__root = composer;
          if (this === this.$root) {
            this.$i18n = mergeToRoot(vuei18n, optionsI18n);
          } else {
            optionsI18n.__injectWithOption = true;
            this.$i18n = createVueI18n(optionsI18n);
          }
        } else if (options.__i18n) {
          if (this === this.$root) {
            this.$i18n = mergeToRoot(vuei18n, options);
          } else {
            this.$i18n = createVueI18n({
              __i18n: options.__i18n,
              __injectWithOption: true,
              __root: composer
            });
          }
        } else {
          this.$i18n = vuei18n;
        }
        vuei18n.__onComponentInstanceCreated(this.$i18n);
        i18n2.__setInstance(instance, this.$i18n);
        this.$t = (...args) => this.$i18n.t(...args);
        this.$rt = (...args) => this.$i18n.rt(...args);
        this.$tc = (...args) => this.$i18n.tc(...args);
        this.$te = (key, locale2) => this.$i18n.te(key, locale2);
        this.$d = (...args) => this.$i18n.d(...args);
        this.$n = (...args) => this.$i18n.n(...args);
        this.$tm = (key) => this.$i18n.tm(key);
      },
      mounted() {
        {
          this.$el.__VUE_I18N__ = this.$i18n.__composer;
          const emitter = this.__v_emitter = createEmitter();
          const _vueI18n = this.$i18n;
          _vueI18n.__enableEmitter && _vueI18n.__enableEmitter(emitter);
          emitter.on("*", addTimelineEvent);
        }
      },
      beforeUnmount() {
        const instance = vue.getCurrentInstance();
        if (!instance) {
          throw createI18nError(
            22
            /* UNEXPECTED_ERROR */
          );
        }
        {
          if (this.__v_emitter) {
            this.__v_emitter.off("*", addTimelineEvent);
            delete this.__v_emitter;
          }
          const _vueI18n = this.$i18n;
          _vueI18n.__disableEmitter && _vueI18n.__disableEmitter();
          delete this.$el.__VUE_I18N__;
        }
        delete this.$t;
        delete this.$rt;
        delete this.$tc;
        delete this.$te;
        delete this.$d;
        delete this.$n;
        delete this.$tm;
        i18n2.__deleteInstance(instance);
        delete this.$i18n;
      }
    };
  }
  function mergeToRoot(root, options) {
    root.locale = options.locale || root.locale;
    root.fallbackLocale = options.fallbackLocale || root.fallbackLocale;
    root.missing = options.missing || root.missing;
    root.silentTranslationWarn = options.silentTranslationWarn || root.silentFallbackWarn;
    root.silentFallbackWarn = options.silentFallbackWarn || root.silentFallbackWarn;
    root.formatFallbackMessages = options.formatFallbackMessages || root.formatFallbackMessages;
    root.postTranslation = options.postTranslation || root.postTranslation;
    root.warnHtmlInMessage = options.warnHtmlInMessage || root.warnHtmlInMessage;
    root.escapeParameterHtml = options.escapeParameterHtml || root.escapeParameterHtml;
    root.sync = options.sync || root.sync;
    root.__composer[SetPluralRulesSymbol](options.pluralizationRules || root.pluralizationRules);
    const messages2 = getLocaleMessages(root.locale, {
      messages: options.messages,
      __i18n: options.__i18n
    });
    Object.keys(messages2).forEach((locale2) => root.mergeLocaleMessage(locale2, messages2[locale2]));
    if (options.datetimeFormats) {
      Object.keys(options.datetimeFormats).forEach((locale2) => root.mergeDateTimeFormat(locale2, options.datetimeFormats[locale2]));
    }
    if (options.numberFormats) {
      Object.keys(options.numberFormats).forEach((locale2) => root.mergeNumberFormat(locale2, options.numberFormats[locale2]));
    }
    return root;
  }
  function createI18n(options = {}) {
    const __legacyMode = isBoolean(options.legacy) ? options.legacy : true;
    const __globalInjection = !!options.globalInjection;
    const __instances = /* @__PURE__ */ new Map();
    const __global = __legacyMode ? createVueI18n(options) : createComposer(options);
    const symbol = makeSymbol("vue-i18n");
    const i18n2 = {
      // mode
      get mode() {
        return __legacyMode ? "legacy" : "composition";
      },
      // install plugin
      async install(app, ...options2) {
        {
          app.__VUE_I18N__ = i18n2;
        }
        app.__VUE_I18N_SYMBOL__ = symbol;
        app.provide(app.__VUE_I18N_SYMBOL__, i18n2);
        if (!__legacyMode && __globalInjection) {
          injectGlobalFields(app, i18n2.global);
        }
        {
          apply(app, i18n2, ...options2);
        }
        if (__legacyMode) {
          app.mixin(defineMixin(__global, __global.__composer, i18n2));
        }
        {
          const ret = await enableDevTools(app, i18n2);
          if (!ret) {
            throw createI18nError(
              21
              /* CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN */
            );
          }
          const emitter = createEmitter();
          if (__legacyMode) {
            const _vueI18n = __global;
            _vueI18n.__enableEmitter && _vueI18n.__enableEmitter(emitter);
          } else {
            const _composer = __global;
            _composer[EnableEmitter] && _composer[EnableEmitter](emitter);
          }
          emitter.on("*", addTimelineEvent);
        }
      },
      // global accessor
      get global() {
        return __global;
      },
      // @internal
      __instances,
      // @internal
      __getInstance(component) {
        return __instances.get(component) || null;
      },
      // @internal
      __setInstance(component, instance) {
        __instances.set(component, instance);
      },
      // @internal
      __deleteInstance(component) {
        __instances.delete(component);
      }
    };
    return i18n2;
  }
  function useI18n(options = {}) {
    const instance = vue.getCurrentInstance();
    if (instance == null) {
      throw createI18nError(
        16
        /* MUST_BE_CALL_SETUP_TOP */
      );
    }
    if (!instance.appContext.app.__VUE_I18N_SYMBOL__) {
      throw createI18nError(
        17
        /* NOT_INSLALLED */
      );
    }
    const i18n2 = vue.inject(instance.appContext.app.__VUE_I18N_SYMBOL__);
    if (!i18n2) {
      throw createI18nError(
        22
        /* UNEXPECTED_ERROR */
      );
    }
    const global2 = i18n2.mode === "composition" ? i18n2.global : i18n2.global.__composer;
    const scope = isEmptyObject(options) ? "__i18n" in instance.type ? "local" : "global" : !options.useScope ? "local" : options.useScope;
    if (scope === "global") {
      let messages2 = isObject$1(options.messages) ? options.messages : {};
      if ("__i18nGlobal" in instance.type) {
        messages2 = getLocaleMessages(global2.locale.value, {
          messages: messages2,
          __i18n: instance.type.__i18nGlobal
        });
      }
      const locales = Object.keys(messages2);
      if (locales.length) {
        locales.forEach((locale2) => {
          global2.mergeLocaleMessage(locale2, messages2[locale2]);
        });
      }
      if (isObject$1(options.datetimeFormats)) {
        const locales2 = Object.keys(options.datetimeFormats);
        if (locales2.length) {
          locales2.forEach((locale2) => {
            global2.mergeDateTimeFormat(locale2, options.datetimeFormats[locale2]);
          });
        }
      }
      if (isObject$1(options.numberFormats)) {
        const locales2 = Object.keys(options.numberFormats);
        if (locales2.length) {
          locales2.forEach((locale2) => {
            global2.mergeNumberFormat(locale2, options.numberFormats[locale2]);
          });
        }
      }
      return global2;
    }
    if (scope === "parent") {
      let composer2 = getComposer(i18n2, instance, options.__useComponent);
      if (composer2 == null) {
        {
          warn(getWarnMessage(
            12
            /* NOT_FOUND_PARENT_SCOPE */
          ));
        }
        composer2 = global2;
      }
      return composer2;
    }
    if (i18n2.mode === "legacy") {
      throw createI18nError(
        18
        /* NOT_AVAILABLE_IN_LEGACY_MODE */
      );
    }
    const i18nInternal = i18n2;
    let composer = i18nInternal.__getInstance(instance);
    if (composer == null) {
      const type = instance.type;
      const composerOptions = assign({}, options);
      if (type.__i18n) {
        composerOptions.__i18n = type.__i18n;
      }
      if (global2) {
        composerOptions.__root = global2;
      }
      composer = createComposer(composerOptions);
      setupLifeCycle(i18nInternal, instance, composer);
      i18nInternal.__setInstance(instance, composer);
    }
    return composer;
  }
  function getComposer(i18n2, target, useComponent = false) {
    let composer = null;
    const root = target.root;
    let current = target.parent;
    while (current != null) {
      const i18nInternal = i18n2;
      if (i18n2.mode === "composition") {
        composer = i18nInternal.__getInstance(current);
      } else {
        const vueI18n = i18nInternal.__getInstance(current);
        if (vueI18n != null) {
          composer = vueI18n.__composer;
        }
        if (useComponent && composer && !composer[InejctWithOption]) {
          composer = null;
        }
      }
      if (composer != null) {
        break;
      }
      if (root === current) {
        break;
      }
      current = current.parent;
    }
    return composer;
  }
  function setupLifeCycle(i18n2, target, composer) {
    let emitter = null;
    vue.onMounted(() => {
      if (target.vnode.el) {
        target.vnode.el.__VUE_I18N__ = composer;
        emitter = createEmitter();
        const _composer = composer;
        _composer[EnableEmitter] && _composer[EnableEmitter](emitter);
        emitter.on("*", addTimelineEvent);
      }
    }, target);
    vue.onUnmounted(() => {
      if (target.vnode.el && target.vnode.el.__VUE_I18N__) {
        emitter && emitter.off("*", addTimelineEvent);
        const _composer = composer;
        _composer[DisableEmitter] && _composer[DisableEmitter]();
        delete target.vnode.el.__VUE_I18N__;
      }
      i18n2.__deleteInstance(target);
    }, target);
  }
  const globalExportProps = [
    "locale",
    "fallbackLocale",
    "availableLocales"
  ];
  const globalExportMethods = ["t", "rt", "d", "n", "tm"];
  function injectGlobalFields(app, composer) {
    const i18n2 = /* @__PURE__ */ Object.create(null);
    globalExportProps.forEach((prop) => {
      const desc = Object.getOwnPropertyDescriptor(composer, prop);
      if (!desc) {
        throw createI18nError(
          22
          /* UNEXPECTED_ERROR */
        );
      }
      const wrap = vue.isRef(desc.value) ? {
        get() {
          return desc.value.value;
        },
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        set(val) {
          desc.value.value = val;
        }
      } : {
        get() {
          return desc.get && desc.get();
        }
      };
      Object.defineProperty(i18n2, prop, wrap);
    });
    app.config.globalProperties.$i18n = i18n2;
    globalExportMethods.forEach((method) => {
      const desc = Object.getOwnPropertyDescriptor(composer, method);
      if (!desc || !desc.value) {
        throw createI18nError(
          22
          /* UNEXPECTED_ERROR */
        );
      }
      Object.defineProperty(app.config.globalProperties, `$${method}`, desc);
    });
  }
  {
    initFeatureFlags();
  }
  {
    const target = getGlobalThis();
    target.__INTLIFY__ = true;
    setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__);
  }
  var lookup = [
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    62,
    0,
    62,
    0,
    63,
    52,
    53,
    54,
    55,
    56,
    57,
    58,
    59,
    60,
    61,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    16,
    17,
    18,
    19,
    20,
    21,
    22,
    23,
    24,
    25,
    0,
    0,
    0,
    0,
    63,
    0,
    26,
    27,
    28,
    29,
    30,
    31,
    32,
    33,
    34,
    35,
    36,
    37,
    38,
    39,
    40,
    41,
    42,
    43,
    44,
    45,
    46,
    47,
    48,
    49,
    50,
    51
  ];
  function base64Decode(source, target) {
    var sourceLength = source.length;
    var paddingLength = source[sourceLength - 2] === "=" ? 2 : source[sourceLength - 1] === "=" ? 1 : 0;
    var tmp;
    var byteIndex = 0;
    var baseLength = sourceLength - paddingLength & 4294967292;
    for (var i = 0; i < baseLength; i += 4) {
      tmp = lookup[source.charCodeAt(i)] << 18 | lookup[source.charCodeAt(i + 1)] << 12 | lookup[source.charCodeAt(i + 2)] << 6 | lookup[source.charCodeAt(i + 3)];
      target[byteIndex++] = tmp >> 16 & 255;
      target[byteIndex++] = tmp >> 8 & 255;
      target[byteIndex++] = tmp & 255;
    }
    if (paddingLength === 1) {
      tmp = lookup[source.charCodeAt(i)] << 10 | lookup[source.charCodeAt(i + 1)] << 4 | lookup[source.charCodeAt(i + 2)] >> 2;
      target[byteIndex++] = tmp >> 8 & 255;
      target[byteIndex++] = tmp & 255;
    }
    if (paddingLength === 2) {
      tmp = lookup[source.charCodeAt(i)] << 2 | lookup[source.charCodeAt(i + 1)] >> 4;
      target[byteIndex++] = tmp & 255;
    }
  }
  const crypto = {
    getRandomValues(arr) {
      if (!(arr instanceof Int8Array || arr instanceof Uint8Array || arr instanceof Int16Array || arr instanceof Uint16Array || arr instanceof Int32Array || arr instanceof Uint32Array || arr instanceof Uint8ClampedArray)) {
        throw new Error("Expected an integer array");
      }
      if (arr.byteLength > 65536) {
        throw new Error("Can only request a maximum of 65536 bytes");
      }
      var crypto2 = requireNativePlugin("DCloud-Crypto");
      base64Decode(crypto2.getRandomValues(arr.byteLength), new Uint8Array(
        arr.buffer,
        arr.byteOffset,
        arr.byteLength
      ));
      return arr;
    }
  };
  var commonjsGlobal = typeof globalThis !== "undefined" ? globalThis : typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : {};
  var Reflect;
  (function(Reflect2) {
    (function(factory) {
      var root = typeof commonjsGlobal === "object" ? commonjsGlobal : typeof self === "object" ? self : typeof this === "object" ? this : Function("return this;")();
      var exporter = makeExporter(Reflect2);
      if (typeof root.Reflect === "undefined") {
        root.Reflect = Reflect2;
      } else {
        exporter = makeExporter(root.Reflect, exporter);
      }
      factory(exporter);
      function makeExporter(target, previous) {
        return function(key, value) {
          if (typeof target[key] !== "function") {
            Object.defineProperty(target, key, { configurable: true, writable: true, value });
          }
          if (previous)
            previous(key, value);
        };
      }
    })(function(exporter) {
      var hasOwn2 = Object.prototype.hasOwnProperty;
      var supportsSymbol = typeof Symbol === "function";
      var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== "undefined" ? Symbol.toPrimitive : "@@toPrimitive";
      var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== "undefined" ? Symbol.iterator : "@@iterator";
      var supportsCreate = typeof Object.create === "function";
      var supportsProto = { __proto__: [] } instanceof Array;
      var downLevel = !supportsCreate && !supportsProto;
      var HashMap = {
        // create an object in dictionary mode (a.k.a. "slow" mode in v8)
        create: supportsCreate ? function() {
          return MakeDictionary(/* @__PURE__ */ Object.create(null));
        } : supportsProto ? function() {
          return MakeDictionary({ __proto__: null });
        } : function() {
          return MakeDictionary({});
        },
        has: downLevel ? function(map, key) {
          return hasOwn2.call(map, key);
        } : function(map, key) {
          return key in map;
        },
        get: downLevel ? function(map, key) {
          return hasOwn2.call(map, key) ? map[key] : void 0;
        } : function(map, key) {
          return map[key];
        }
      };
      var functionPrototype = Object.getPrototypeOf(Function);
      var usePolyfill = typeof process === "object" && process.env && process.env["REFLECT_METADATA_USE_MAP_POLYFILL"] === "true";
      var _Map = !usePolyfill && typeof Map === "function" && typeof Map.prototype.entries === "function" ? Map : CreateMapPolyfill();
      var _Set = !usePolyfill && typeof Set === "function" && typeof Set.prototype.entries === "function" ? Set : CreateSetPolyfill();
      var _WeakMap = !usePolyfill && typeof WeakMap === "function" ? WeakMap : CreateWeakMapPolyfill();
      var Metadata = new _WeakMap();
      function decorate(decorators, target, propertyKey, attributes) {
        if (!IsUndefined(propertyKey)) {
          if (!IsArray(decorators))
            throw new TypeError();
          if (!IsObject(target))
            throw new TypeError();
          if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))
            throw new TypeError();
          if (IsNull(attributes))
            attributes = void 0;
          propertyKey = ToPropertyKey(propertyKey);
          return DecorateProperty(decorators, target, propertyKey, attributes);
        } else {
          if (!IsArray(decorators))
            throw new TypeError();
          if (!IsConstructor(target))
            throw new TypeError();
          return DecorateConstructor(decorators, target);
        }
      }
      exporter("decorate", decorate);
      function metadata(metadataKey, metadataValue) {
        function decorator(target, propertyKey) {
          if (!IsObject(target))
            throw new TypeError();
          if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))
            throw new TypeError();
          OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);
        }
        return decorator;
      }
      exporter("metadata", metadata);
      function defineMetadata(metadataKey, metadataValue, target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);
      }
      exporter("defineMetadata", defineMetadata);
      function hasMetadata(metadataKey, target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        return OrdinaryHasMetadata(metadataKey, target, propertyKey);
      }
      exporter("hasMetadata", hasMetadata);
      function hasOwnMetadata(metadataKey, target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);
      }
      exporter("hasOwnMetadata", hasOwnMetadata);
      function getMetadata(metadataKey, target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        return OrdinaryGetMetadata(metadataKey, target, propertyKey);
      }
      exporter("getMetadata", getMetadata);
      function getOwnMetadata(metadataKey, target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);
      }
      exporter("getOwnMetadata", getOwnMetadata);
      function getMetadataKeys(target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        return OrdinaryMetadataKeys(target, propertyKey);
      }
      exporter("getMetadataKeys", getMetadataKeys);
      function getOwnMetadataKeys(target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        return OrdinaryOwnMetadataKeys(target, propertyKey);
      }
      exporter("getOwnMetadataKeys", getOwnMetadataKeys);
      function deleteMetadata(metadataKey, target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey))
          propertyKey = ToPropertyKey(propertyKey);
        var metadataMap = GetOrCreateMetadataMap(
          target,
          propertyKey,
          /*Create*/
          false
        );
        if (IsUndefined(metadataMap))
          return false;
        if (!metadataMap.delete(metadataKey))
          return false;
        if (metadataMap.size > 0)
          return true;
        var targetMetadata = Metadata.get(target);
        targetMetadata.delete(propertyKey);
        if (targetMetadata.size > 0)
          return true;
        Metadata.delete(target);
        return true;
      }
      exporter("deleteMetadata", deleteMetadata);
      function DecorateConstructor(decorators, target) {
        for (var i = decorators.length - 1; i >= 0; --i) {
          var decorator = decorators[i];
          var decorated = decorator(target);
          if (!IsUndefined(decorated) && !IsNull(decorated)) {
            if (!IsConstructor(decorated))
              throw new TypeError();
            target = decorated;
          }
        }
        return target;
      }
      function DecorateProperty(decorators, target, propertyKey, descriptor) {
        for (var i = decorators.length - 1; i >= 0; --i) {
          var decorator = decorators[i];
          var decorated = decorator(target, propertyKey, descriptor);
          if (!IsUndefined(decorated) && !IsNull(decorated)) {
            if (!IsObject(decorated))
              throw new TypeError();
            descriptor = decorated;
          }
        }
        return descriptor;
      }
      function GetOrCreateMetadataMap(O, P, Create) {
        var targetMetadata = Metadata.get(O);
        if (IsUndefined(targetMetadata)) {
          if (!Create)
            return void 0;
          targetMetadata = new _Map();
          Metadata.set(O, targetMetadata);
        }
        var metadataMap = targetMetadata.get(P);
        if (IsUndefined(metadataMap)) {
          if (!Create)
            return void 0;
          metadataMap = new _Map();
          targetMetadata.set(P, metadataMap);
        }
        return metadataMap;
      }
      function OrdinaryHasMetadata(MetadataKey, O, P) {
        var hasOwn3 = OrdinaryHasOwnMetadata(MetadataKey, O, P);
        if (hasOwn3)
          return true;
        var parent = OrdinaryGetPrototypeOf(O);
        if (!IsNull(parent))
          return OrdinaryHasMetadata(MetadataKey, parent, P);
        return false;
      }
      function OrdinaryHasOwnMetadata(MetadataKey, O, P) {
        var metadataMap = GetOrCreateMetadataMap(
          O,
          P,
          /*Create*/
          false
        );
        if (IsUndefined(metadataMap))
          return false;
        return ToBoolean(metadataMap.has(MetadataKey));
      }
      function OrdinaryGetMetadata(MetadataKey, O, P) {
        var hasOwn3 = OrdinaryHasOwnMetadata(MetadataKey, O, P);
        if (hasOwn3)
          return OrdinaryGetOwnMetadata(MetadataKey, O, P);
        var parent = OrdinaryGetPrototypeOf(O);
        if (!IsNull(parent))
          return OrdinaryGetMetadata(MetadataKey, parent, P);
        return void 0;
      }
      function OrdinaryGetOwnMetadata(MetadataKey, O, P) {
        var metadataMap = GetOrCreateMetadataMap(
          O,
          P,
          /*Create*/
          false
        );
        if (IsUndefined(metadataMap))
          return void 0;
        return metadataMap.get(MetadataKey);
      }
      function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {
        var metadataMap = GetOrCreateMetadataMap(
          O,
          P,
          /*Create*/
          true
        );
        metadataMap.set(MetadataKey, MetadataValue);
      }
      function OrdinaryMetadataKeys(O, P) {
        var ownKeys = OrdinaryOwnMetadataKeys(O, P);
        var parent = OrdinaryGetPrototypeOf(O);
        if (parent === null)
          return ownKeys;
        var parentKeys = OrdinaryMetadataKeys(parent, P);
        if (parentKeys.length <= 0)
          return ownKeys;
        if (ownKeys.length <= 0)
          return parentKeys;
        var set = new _Set();
        var keys = [];
        for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {
          var key = ownKeys_1[_i];
          var hasKey = set.has(key);
          if (!hasKey) {
            set.add(key);
            keys.push(key);
          }
        }
        for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {
          var key = parentKeys_1[_a];
          var hasKey = set.has(key);
          if (!hasKey) {
            set.add(key);
            keys.push(key);
          }
        }
        return keys;
      }
      function OrdinaryOwnMetadataKeys(O, P) {
        var keys = [];
        var metadataMap = GetOrCreateMetadataMap(
          O,
          P,
          /*Create*/
          false
        );
        if (IsUndefined(metadataMap))
          return keys;
        var keysObj = metadataMap.keys();
        var iterator = GetIterator(keysObj);
        var k = 0;
        while (true) {
          var next = IteratorStep(iterator);
          if (!next) {
            keys.length = k;
            return keys;
          }
          var nextValue = IteratorValue(next);
          try {
            keys[k] = nextValue;
          } catch (e) {
            try {
              IteratorClose(iterator);
            } finally {
              throw e;
            }
          }
          k++;
        }
      }
      function Type(x) {
        if (x === null)
          return 1;
        switch (typeof x) {
          case "undefined":
            return 0;
          case "boolean":
            return 2;
          case "string":
            return 3;
          case "symbol":
            return 4;
          case "number":
            return 5;
          case "object":
            return x === null ? 1 : 6;
          default:
            return 6;
        }
      }
      function IsUndefined(x) {
        return x === void 0;
      }
      function IsNull(x) {
        return x === null;
      }
      function IsSymbol(x) {
        return typeof x === "symbol";
      }
      function IsObject(x) {
        return typeof x === "object" ? x !== null : typeof x === "function";
      }
      function ToPrimitive(input, PreferredType) {
        switch (Type(input)) {
          case 0:
            return input;
          case 1:
            return input;
          case 2:
            return input;
          case 3:
            return input;
          case 4:
            return input;
          case 5:
            return input;
        }
        var hint = PreferredType === 3 ? "string" : PreferredType === 5 ? "number" : "default";
        var exoticToPrim = GetMethod(input, toPrimitiveSymbol);
        if (exoticToPrim !== void 0) {
          var result = exoticToPrim.call(input, hint);
          if (IsObject(result))
            throw new TypeError();
          return result;
        }
        return OrdinaryToPrimitive(input, hint === "default" ? "number" : hint);
      }
      function OrdinaryToPrimitive(O, hint) {
        if (hint === "string") {
          var toString_1 = O.toString;
          if (IsCallable(toString_1)) {
            var result = toString_1.call(O);
            if (!IsObject(result))
              return result;
          }
          var valueOf = O.valueOf;
          if (IsCallable(valueOf)) {
            var result = valueOf.call(O);
            if (!IsObject(result))
              return result;
          }
        } else {
          var valueOf = O.valueOf;
          if (IsCallable(valueOf)) {
            var result = valueOf.call(O);
            if (!IsObject(result))
              return result;
          }
          var toString_2 = O.toString;
          if (IsCallable(toString_2)) {
            var result = toString_2.call(O);
            if (!IsObject(result))
              return result;
          }
        }
        throw new TypeError();
      }
      function ToBoolean(argument) {
        return !!argument;
      }
      function ToString(argument) {
        return "" + argument;
      }
      function ToPropertyKey(argument) {
        var key = ToPrimitive(
          argument,
          3
          /* String */
        );
        if (IsSymbol(key))
          return key;
        return ToString(key);
      }
      function IsArray(argument) {
        return Array.isArray ? Array.isArray(argument) : argument instanceof Object ? argument instanceof Array : Object.prototype.toString.call(argument) === "[object Array]";
      }
      function IsCallable(argument) {
        return typeof argument === "function";
      }
      function IsConstructor(argument) {
        return typeof argument === "function";
      }
      function IsPropertyKey(argument) {
        switch (Type(argument)) {
          case 3:
            return true;
          case 4:
            return true;
          default:
            return false;
        }
      }
      function GetMethod(V, P) {
        var func = V[P];
        if (func === void 0 || func === null)
          return void 0;
        if (!IsCallable(func))
          throw new TypeError();
        return func;
      }
      function GetIterator(obj) {
        var method = GetMethod(obj, iteratorSymbol);
        if (!IsCallable(method))
          throw new TypeError();
        var iterator = method.call(obj);
        if (!IsObject(iterator))
          throw new TypeError();
        return iterator;
      }
      function IteratorValue(iterResult) {
        return iterResult.value;
      }
      function IteratorStep(iterator) {
        var result = iterator.next();
        return result.done ? false : result;
      }
      function IteratorClose(iterator) {
        var f = iterator["return"];
        if (f)
          f.call(iterator);
      }
      function OrdinaryGetPrototypeOf(O) {
        var proto = Object.getPrototypeOf(O);
        if (typeof O !== "function" || O === functionPrototype)
          return proto;
        if (proto !== functionPrototype)
          return proto;
        var prototype = O.prototype;
        var prototypeProto = prototype && Object.getPrototypeOf(prototype);
        if (prototypeProto == null || prototypeProto === Object.prototype)
          return proto;
        var constructor = prototypeProto.constructor;
        if (typeof constructor !== "function")
          return proto;
        if (constructor === O)
          return proto;
        return constructor;
      }
      function CreateMapPolyfill() {
        var cacheSentinel = {};
        var arraySentinel = [];
        var MapIterator = (
          /** @class */
          function() {
            function MapIterator2(keys, values, selector) {
              this._index = 0;
              this._keys = keys;
              this._values = values;
              this._selector = selector;
            }
            MapIterator2.prototype["@@iterator"] = function() {
              return this;
            };
            MapIterator2.prototype[iteratorSymbol] = function() {
              return this;
            };
            MapIterator2.prototype.next = function() {
              var index = this._index;
              if (index >= 0 && index < this._keys.length) {
                var result = this._selector(this._keys[index], this._values[index]);
                if (index + 1 >= this._keys.length) {
                  this._index = -1;
                  this._keys = arraySentinel;
                  this._values = arraySentinel;
                } else {
                  this._index++;
                }
                return { value: result, done: false };
              }
              return { value: void 0, done: true };
            };
            MapIterator2.prototype.throw = function(error) {
              if (this._index >= 0) {
                this._index = -1;
                this._keys = arraySentinel;
                this._values = arraySentinel;
              }
              throw error;
            };
            MapIterator2.prototype.return = function(value) {
              if (this._index >= 0) {
                this._index = -1;
                this._keys = arraySentinel;
                this._values = arraySentinel;
              }
              return { value, done: true };
            };
            return MapIterator2;
          }()
        );
        return (
          /** @class */
          function() {
            function Map2() {
              this._keys = [];
              this._values = [];
              this._cacheKey = cacheSentinel;
              this._cacheIndex = -2;
            }
            Object.defineProperty(Map2.prototype, "size", {
              get: function() {
                return this._keys.length;
              },
              enumerable: true,
              configurable: true
            });
            Map2.prototype.has = function(key) {
              return this._find(
                key,
                /*insert*/
                false
              ) >= 0;
            };
            Map2.prototype.get = function(key) {
              var index = this._find(
                key,
                /*insert*/
                false
              );
              return index >= 0 ? this._values[index] : void 0;
            };
            Map2.prototype.set = function(key, value) {
              var index = this._find(
                key,
                /*insert*/
                true
              );
              this._values[index] = value;
              return this;
            };
            Map2.prototype.delete = function(key) {
              var index = this._find(
                key,
                /*insert*/
                false
              );
              if (index >= 0) {
                var size = this._keys.length;
                for (var i = index + 1; i < size; i++) {
                  this._keys[i - 1] = this._keys[i];
                  this._values[i - 1] = this._values[i];
                }
                this._keys.length--;
                this._values.length--;
                if (key === this._cacheKey) {
                  this._cacheKey = cacheSentinel;
                  this._cacheIndex = -2;
                }
                return true;
              }
              return false;
            };
            Map2.prototype.clear = function() {
              this._keys.length = 0;
              this._values.length = 0;
              this._cacheKey = cacheSentinel;
              this._cacheIndex = -2;
            };
            Map2.prototype.keys = function() {
              return new MapIterator(this._keys, this._values, getKey);
            };
            Map2.prototype.values = function() {
              return new MapIterator(this._keys, this._values, getValue);
            };
            Map2.prototype.entries = function() {
              return new MapIterator(this._keys, this._values, getEntry);
            };
            Map2.prototype["@@iterator"] = function() {
              return this.entries();
            };
            Map2.prototype[iteratorSymbol] = function() {
              return this.entries();
            };
            Map2.prototype._find = function(key, insert) {
              if (this._cacheKey !== key) {
                this._cacheIndex = this._keys.indexOf(this._cacheKey = key);
              }
              if (this._cacheIndex < 0 && insert) {
                this._cacheIndex = this._keys.length;
                this._keys.push(key);
                this._values.push(void 0);
              }
              return this._cacheIndex;
            };
            return Map2;
          }()
        );
        function getKey(key, _) {
          return key;
        }
        function getValue(_, value) {
          return value;
        }
        function getEntry(key, value) {
          return [key, value];
        }
      }
      function CreateSetPolyfill() {
        return (
          /** @class */
          function() {
            function Set2() {
              this._map = new _Map();
            }
            Object.defineProperty(Set2.prototype, "size", {
              get: function() {
                return this._map.size;
              },
              enumerable: true,
              configurable: true
            });
            Set2.prototype.has = function(value) {
              return this._map.has(value);
            };
            Set2.prototype.add = function(value) {
              return this._map.set(value, value), this;
            };
            Set2.prototype.delete = function(value) {
              return this._map.delete(value);
            };
            Set2.prototype.clear = function() {
              this._map.clear();
            };
            Set2.prototype.keys = function() {
              return this._map.keys();
            };
            Set2.prototype.values = function() {
              return this._map.values();
            };
            Set2.prototype.entries = function() {
              return this._map.entries();
            };
            Set2.prototype["@@iterator"] = function() {
              return this.keys();
            };
            Set2.prototype[iteratorSymbol] = function() {
              return this.keys();
            };
            return Set2;
          }()
        );
      }
      function CreateWeakMapPolyfill() {
        var UUID_SIZE = 16;
        var keys = HashMap.create();
        var rootKey = CreateUniqueKey();
        return (
          /** @class */
          function() {
            function WeakMap2() {
              this._key = CreateUniqueKey();
            }
            WeakMap2.prototype.has = function(target) {
              var table = GetOrCreateWeakMapTable(
                target,
                /*create*/
                false
              );
              return table !== void 0 ? HashMap.has(table, this._key) : false;
            };
            WeakMap2.prototype.get = function(target) {
              var table = GetOrCreateWeakMapTable(
                target,
                /*create*/
                false
              );
              return table !== void 0 ? HashMap.get(table, this._key) : void 0;
            };
            WeakMap2.prototype.set = function(target, value) {
              var table = GetOrCreateWeakMapTable(
                target,
                /*create*/
                true
              );
              table[this._key] = value;
              return this;
            };
            WeakMap2.prototype.delete = function(target) {
              var table = GetOrCreateWeakMapTable(
                target,
                /*create*/
                false
              );
              return table !== void 0 ? delete table[this._key] : false;
            };
            WeakMap2.prototype.clear = function() {
              this._key = CreateUniqueKey();
            };
            return WeakMap2;
          }()
        );
        function CreateUniqueKey() {
          var key;
          do
            key = "@@WeakMap@@" + CreateUUID();
          while (HashMap.has(keys, key));
          keys[key] = true;
          return key;
        }
        function GetOrCreateWeakMapTable(target, create) {
          if (!hasOwn2.call(target, rootKey)) {
            if (!create)
              return void 0;
            Object.defineProperty(target, rootKey, { value: HashMap.create() });
          }
          return target[rootKey];
        }
        function FillRandomBytes(buffer, size) {
          for (var i = 0; i < size; ++i)
            buffer[i] = Math.random() * 255 | 0;
          return buffer;
        }
        function GenRandomBytes(size) {
          if (typeof Uint8Array === "function") {
            if (typeof crypto !== "undefined")
              return crypto.getRandomValues(new Uint8Array(size));
            if (typeof msCrypto !== "undefined")
              return msCrypto.getRandomValues(new Uint8Array(size));
            return FillRandomBytes(new Uint8Array(size), size);
          }
          return FillRandomBytes(new Array(size), size);
        }
        function CreateUUID() {
          var data = GenRandomBytes(UUID_SIZE);
          data[6] = data[6] & 79 | 64;
          data[8] = data[8] & 191 | 128;
          var result = "";
          for (var offset = 0; offset < UUID_SIZE; ++offset) {
            var byte = data[offset];
            if (offset === 4 || offset === 6 || offset === 8)
              result += "-";
            if (byte < 16)
              result += "0";
            result += byte.toString(16).toLowerCase();
          }
          return result;
        }
      }
      function MakeDictionary(obj) {
        obj.__ = void 0;
        delete obj.__;
        return obj;
      }
    });
  })(Reflect || (Reflect = {}));
  const Uni = {
    ...uni,
    $on(eventName, callback) {
      return uni.$on(eventName, callback);
    },
    $once(eventName, callback) {
      return uni.$once(eventName, callback);
    },
    $emit(eventName) {
      return uni.$emit(eventName);
    },
    $off(eventName, callback) {
      return uni.$off(eventName, callback);
    },
    createInnerAudioContext() {
      return uni.createInnerAudioContext();
    },
    // 	获取语言
    getLocale() {
      return uni.getLocale();
    },
    // 	设置语言
    setLocale(locale2) {
      return uni.setLocale(locale2);
    },
    // 切换选项卡页面
    switchTab(url2, complete = (result) => {
    }) {
      return new Promise((success, fail) => {
        uni.switchTab({
          url: url2,
          success,
          fail,
          complete
        });
      });
    },
    /**
     * 重定向当前页
     * @param {string} url 路径
     * @param {object=} options 更多选项
     * @returns
     */
    redirectTo(url2, options) {
      url2 = url2 + Object.keys((options == null ? void 0 : options.query) ?? {}).reduce((prev, key) => `${prev}&${key}=${options == null ? void 0 : options.query[key]}`, "").replace(/^&/, "?");
      return new Promise((success, fail) => {
        uni.redirectTo({
          url: url2,
          success,
          fail
        });
      });
    },
    /**
     * 导航到下一页
     * @param {string} url 路径
     * @param {object=} options 更多选项
     * @returns
     */
    navigateTo(url2, options) {
      url2 = url2 + Object.keys((options == null ? void 0 : options.query) ?? {}).reduce((prev, key) => `${prev}&${key}=${options == null ? void 0 : options.query[key]}`, "").replace(/^&/, "?");
      return new Promise((success, fail) => {
        uni.navigateTo({
          url: url2,
          success,
          fail
        });
      });
    },
    /**
     * 预加载页面
     * @param {string} url 路径
     * @param {Function=} complete 完成后的回调
     * @returns
     */
    preloadPage(url2, complete = () => {
    }) {
      return new Promise((success, fail) => {
        uni.preloadPage({
          url: url2,
          success,
          fail,
          complete
        });
      });
    },
    request(options) {
      return new Promise((success, fail) => {
        uni.request({
          url: options.url,
          data: options.data ?? "",
          dataType: options.dataType,
          method: options.method,
          success,
          fail
        });
      });
    },
    showToast(title) {
      return uni.showToast({
        title
      });
    },
    /**
     * 处理本地存储（异步）
     * @params {string} key 键名
     * @params {string=} data 键值
     * @returns {Promise<any>} 根据实际操作返回结果
     */
    storage(key, data) {
      return new Promise((success, fail) => {
        if (data === "") {
          uni.removeStorage({
            key,
            success,
            fail
          });
        } else if (data) {
          uni.setStorage({
            key,
            data,
            success,
            fail
          });
        } else {
          uni.getStorage({
            key,
            success,
            fail
          });
        }
      });
    },
    /**
     * 处理本地存储（同步）
     * @params {string} key 键名
     * @params {string} data 键值
     * @returns 根据实际操作返回结果
     */
    storageSync(key, data) {
      if (data === "") {
        return uni.removeStorageSync(key);
      } else if (data) {
        return uni.setStorageSync(key, data);
      } else {
        return uni.getStorageSync(key);
      }
    },
    /**
     * 上传文件
     * @param options {object} 上传文件选项
     */
    async uploadFile(options) {
      return await new Promise((success, fail) => {
        uni.uploadFile({
          url: options.url,
          fileType: options.fileType,
          files: options.files,
          filePath: options.filePath,
          formData: options.formData,
          name: options.name || "file",
          success,
          fail
        });
      });
    },
    /**
     * 上传图片
     * @param {string} url 上传地址
     * @param {Array<UploadFileOptionFiles>} files 上传的文件
     */
    async uploadImage(url2, files) {
      return await Uni.uploadFile({
        url: url2,
        fileType: "image",
        files,
        name: "image"
      });
    }
  };
  const __default__$4 = {
    name: "Container"
  };
  const _sfc_main$9 = /* @__PURE__ */ vue.defineComponent({
    ...__default__$4,
    props: {
      direction: { type: String, required: false, default: "" }
    },
    setup(__props) {
      const props2 = __props;
      return (_ctx, _cache) => {
        return vue.openBlock(), vue.createElementBlock(
          "view",
          {
            class: vue.normalizeClass(["container u-flex u-col-top u-row-between", props2.direction])
          },
          [
            vue.renderSlot(_ctx.$slots, "header", { class: "header" }, void 0, true),
            vue.renderSlot(_ctx.$slots, "main", { class: "main" }, void 0, true),
            vue.renderSlot(_ctx.$slots, "footer", { class: "footer" }, void 0, true)
          ],
          2
          /* CLASS */
        );
      };
    }
  });
  const BaseContainer = /* @__PURE__ */ _export_sfc(_sfc_main$9, [["__scopeId", "data-v-707b7f7a"], ["__file", "E:/lotaway/project/uni-social/components/Container.vue"]]);
  const __default__$3 = {
    componets: {
      "base-container": BaseContainer
    }
  };
  const _sfc_main$8 = /* @__PURE__ */ vue.defineComponent({
    ...__default__$3,
    __name: "roomList",
    setup(__props) {
      const store2 = useStore();
      useI18n();
      function showSignInView(type = "user") {
        Uni.navigateTo("/pages/user/signIn", {
          query: {
            type
          }
        });
      }
      vue.getCurrentInstance();
      const pageData = vue.reactive({
        isLoading: false
      });
      vue.onMounted(() => {
        pageData.isLoading !== true && store2.state.room.list.length === 0 && store2.dispatch("room/getNextPage");
      });
      const filter = vue.reactive({
        isShowRoomFilter: false,
        tempSelectedType: 0
      });
      vue.computed(() => []);
      function toggleRoomFilterView(isShow) {
        filter.isShowRoomFilter = isShow ?? !filter.isShowRoomFilter;
      }
      function selectFilteType(type) {
        filter.tempSelectedType = type;
      }
      function confirmFilter() {
        toggleRoomFilterView(false);
        store2.commit({
          type: "room/resetRoomList"
        });
        store2.dispatch("room/getNextPage", {
          type: filter.tempSelectedType
        });
      }
      function showRoomById() {
        showSignInView();
      }
      function adEvent(adIndex) {
        Uni.switchTab("/pages/chat/chatList");
      }
      vue.reactive({
        icon: "Plus",
        value: 3,
        list: [
          {
            icon: "AddUser"
          }
        ]
      });
      return (_ctx, _cache) => {
        const _component_u_action_sheet = resolveEasycom(vue.resolveDynamicComponent("u-action-sheet"), __easycom_0);
        return vue.openBlock(), vue.createBlock(BaseContainer, { class: "container" }, {
          header: vue.withCtx(() => [
            vue.createElementVNode("div", { class: "affix" }, [
              vue.createElementVNode("div", { class: "row nav-warpper" }, [
                vue.createElementVNode("div", {
                  class: "main-title",
                  span: 12
                }, [
                  vue.createElementVNode("button", {
                    link: "",
                    onClick: _cache[0] || (_cache[0] = ($event) => toggleRoomFilterView(true))
                  }, [
                    vue.createElementVNode(
                      "text",
                      { class: "text bold" },
                      vue.toDisplayString(_ctx.$t("globalName")),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("div", { class: "icon" }, [
                      vue.createElementVNode("div", { class: "icon-arrow-down" })
                    ])
                  ])
                ]),
                vue.createElementVNode("div", {
                  class: "col fast-tool",
                  span: 12
                }, [
                  vue.createElementVNode("div", { class: "row" }, [
                    vue.createElementVNode("div", {
                      class: "col",
                      span: 8
                    }, [
                      vue.createElementVNode("button", {
                        class: "fast-tool-btn",
                        onClick: _cache[1] || (_cache[1] = ($event) => _ctx.handleFastTool(0))
                      }, [
                        vue.createElementVNode("div", { class: "icon-plus" })
                      ])
                    ])
                  ])
                ])
              ])
            ]),
            vue.createElementVNode("div", { class: "room-filter" }, [
              vue.createVNode(_component_u_action_sheet, {
                list: _ctx.$store.state.room.roomTypeList,
                modelValue: filter.isShowRoomFilter,
                "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => filter.isShowRoomFilter = $event)
              }, null, 8, ["list", "modelValue"]),
              vue.createElementVNode("div", { class: "drawer" }, [
                vue.createElementVNode(
                  "div",
                  { class: "title" },
                  vue.toDisplayString(_ctx.$t("roomList.roomType")),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode("div", { class: "default" }, [
                  vue.createElementVNode("div", { class: "row room-type-item" }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList(_ctx.$store.state.room.roomTypeList, (typ) => {
                        return vue.openBlock(), vue.createElementBlock("div", {
                          class: "col",
                          span: 8
                        }, [
                          vue.createElementVNode("button", {
                            onClick: ($event) => selectFilteType(typ.value),
                            class: vue.normalizeClass(filter.tempSelectedType === typ.value ? " bg-brand-color" : " bg-dark-fill")
                          }, vue.toDisplayString(typ.name), 11, ["onClick"])
                        ]);
                      }),
                      256
                      /* UNKEYED_FRAGMENT */
                    ))
                  ])
                ]),
                vue.createElementVNode("div", { class: "footer" }, [
                  vue.createElementVNode(
                    "button",
                    {
                      type: "primary",
                      circle: "",
                      onClick: confirmFilter
                    },
                    vue.toDisplayString(_ctx.$t("confirm")),
                    1
                    /* TEXT */
                  )
                ])
              ])
            ])
          ]),
          main: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "content" }, [
              vue.createElementVNode(
                "navigator",
                {
                  class: "link",
                  onClick: _cache[3] || (_cache[3] = ($event) => showSignInView("user"))
                },
                vue.toDisplayString(_ctx.$t("signInTip")),
                1
                /* TEXT */
              ),
              vue.createElementVNode("swiper", {
                class: "ad-container",
                circular: "",
                autoplay: "true",
                "indicator-dots": "true",
                "indicator-active-color": _ctx.$store.state.mainColor
              }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList(_ctx.$store.state.ad.list, (i, adIndex) => {
                    return vue.openBlock(), vue.createElementBlock("swiper-item", {
                      class: "ad-item",
                      key: i.image,
                      onClick: ($event) => adEvent()
                    }, [
                      vue.createElementVNode("navigator", { class: "ad-link" }, [
                        vue.createElementVNode("image", {
                          class: "ad-image",
                          src: i.image,
                          mode: "widthFix"
                        }, null, 8, ["src"])
                      ])
                    ], 8, ["onClick"]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ], 8, ["indicator-active-color"]),
              vue.createElementVNode("view", { class: "room-list" }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList(_ctx.$store.state.room.list, (r) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "room-item",
                      onClick: ($event) => showRoomById(r.id)
                    }, [
                      vue.createElementVNode(
                        "text",
                        { class: "room-title" },
                        vue.toDisplayString(r.title),
                        1
                        /* TEXT */
                      )
                    ], 8, ["onClick"]);
                  }),
                  256
                  /* UNKEYED_FRAGMENT */
                ))
              ]),
              vue.withDirectives(vue.createElementVNode(
                "div",
                { class: "empty status" },
                vue.toDisplayString(_ctx.$t("roomList.isEmpty")),
                513
                /* TEXT, NEED_PATCH */
              ), [
                [vue.vShow, _ctx.$store.state.room.list.length === 0 && _ctx.$store.getters["room/isEnd"]]
              ])
            ])
          ]),
          footer: vue.withCtx(() => [
            vue.createTextVNode(
              vue.toDisplayString(_ctx.$t("pageBottomTip")),
              1
              /* TEXT */
            )
          ]),
          _: 1
          /* STABLE */
        });
      };
    }
  });
  const PagesChatRoomList = /* @__PURE__ */ _export_sfc(_sfc_main$8, [["__file", "E:/lotaway/project/uni-social/pages/chat/roomList.vue"]]);
  const { registerUTSInterface, initUTSProxyClass, initUTSProxyFunction, initUTSPackageName, initUTSIndexClassName, initUTSClassName } = uni;
  const name = "lotawayGetbatteryinfo";
  const moduleName = "lotaway-getbatteryinfo";
  const moduleType = "";
  const errMsg = ``;
  const is_uni_modules = true;
  const pkg = /* @__PURE__ */ initUTSPackageName(name, is_uni_modules);
  const cls = /* @__PURE__ */ initUTSIndexClassName(name, is_uni_modules);
  registerUTSInterface("ResponseInfoOptions", Object.assign({ moduleName, moduleType, errMsg, package: pkg, class: initUTSClassName(name, "ResponseInfoByJsProxy", is_uni_modules) }, { "methods": {}, "props": ["status", "level", "isCharging"] }));
  const getBatteryCapacity = /* @__PURE__ */ initUTSProxyFunction(false, { moduleName, moduleType, errMsg, main: true, package: pkg, class: cls, name: "getBatteryCapacityByJs", params: [], return: { "type": "interface", "options": "ResponseInfoOptions" } });
  /* @__PURE__ */ initUTSProxyClass(Object.assign({ moduleName, moduleType, errMsg, package: pkg, class: initUTSClassName(name, "DoAppWidgetByJs", is_uni_modules) }, { "constructor": { "params": [] }, "methods": { "onUpdateByJs": { "async": false, "params": [{ "name": "context", "type": "Context" }, { "name": "manager", "type": "AppWidgetManager" }, { "name": "numbers", "type": "IntArray" }], "returnOptions": {} } }, "staticMethods": {}, "props": [], "staticProps": [] }));
  const _sfc_main$7 = /* @__PURE__ */ vue.defineComponent({
    __name: "chatList",
    setup(__props) {
      function adEvent() {
        formatAppLog("log", "at pages/chat/chatList.vue:11", "adEvent");
      }
      const batteryCapacity = vue.ref(-1);
      vue.onMounted(() => {
        batteryCapacity.value = getBatteryCapacity().level;
      });
      return (_ctx, _cache) => {
        return vue.openBlock(), vue.createElementBlock("view", { class: "container" }, [
          vue.createElementVNode(
            "text",
            null,
            "当前电量为:" + vue.toDisplayString(batteryCapacity.value) + "%,请注意电量使用情况",
            1
            /* TEXT */
          ),
          vue.createElementVNode(
            "text",
            {
              class: "text",
              onClick: adEvent
            },
            vue.toDisplayString(_ctx.$t("globalName")),
            1
            /* TEXT */
          )
        ]);
      };
    }
  });
  const PagesChatChatList = /* @__PURE__ */ _export_sfc(_sfc_main$7, [["__file", "E:/lotaway/project/uni-social/pages/chat/chatList.vue"]]);
  function render$2(_ctx, _cache) {
    return vue.openBlock(), vue.createElementBlock("text", null, "发现页");
  }
  const _sfc_main$6 = {};
  const PagesFindFind = /* @__PURE__ */ _export_sfc(_sfc_main$6, [["render", render$2], ["__file", "E:/lotaway/project/uni-social/pages/find/find.vue"]]);
  const __default__$2 = {
    name: "audioTape",
    data() {
      return {
        audioContext: Uni.createInnerAudioContext(),
        isPlaying: false
      };
    },
    methods: {
      play() {
        this.audioContext.src = props.audio;
        this.audioContext.play();
        emits("play", props.audio);
      },
      pause() {
        this.audioContext.pause();
        emits("pause", props.audio);
      },
      stop() {
        this.audioContext.stop();
        emits("stop", props.audio);
      }
    }
  };
  const _sfc_main$5 = /* @__PURE__ */ vue.defineComponent({
    ...__default__$2,
    props: {
      audio: { type: String, required: true, default: "" },
      length: { type: Number, required: false, default: 0 }
    },
    emits: ["play", "pause", "stop"],
    setup(__props, { emit: emits2 }) {
      const props2 = __props;
      return (_ctx, _cache) => {
        return vue.openBlock(), vue.createElementBlock("view", {
          class: "audio",
          src: props2.audio,
          onClick: _cache[0] || (_cache[0] = //@ts-ignore
          (...args) => _ctx.play && _ctx.play(...args))
        }, "Show a sound tape bar, tap to play recorded sound;", 8, ["src"]);
      };
    }
  });
  const AudioTape = /* @__PURE__ */ _export_sfc(_sfc_main$5, [["__file", "E:/lotaway/project/uni-social/components/AudioTape.vue"]]);
  const _sfc_main$4 = {
    components: {
      AudioTape
    },
    methods: {
      play() {
      },
      pause() {
      },
      stop() {
      }
    }
  };
  function render$1(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_audio_tape = vue.resolveComponent("audio-tape");
    const _component_el_container = vue.resolveComponent("el-container");
    return vue.openBlock(), vue.createBlock(_component_el_container, { class: "container" }, {
      default: vue.withCtx(() => [
        vue.createVNode(_component_audio_tape, {
          audio: "",
          onPlay: $options.play,
          onPause: $options.pause,
          onStop: $options.stop
        }, {
          default: vue.withCtx(() => [
            vue.createTextVNode("这就是")
          ]),
          _: 1
          /* STABLE */
        }, 8, ["onPlay", "onPause", "onStop"])
      ]),
      _: 1
      /* STABLE */
    });
  }
  const PagesFindSquare = /* @__PURE__ */ _export_sfc(_sfc_main$4, [["render", render$1], ["__file", "E:/lotaway/project/uni-social/pages/find/square.vue"]]);
  function render(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", null, [
      vue.createElementVNode("text", null, "这是授权登录页面")
    ]);
  }
  const _sfc_main$3 = {};
  const PagesUserSignIn = /* @__PURE__ */ _export_sfc(_sfc_main$3, [["render", render], ["__file", "E:/lotaway/project/uni-social/pages/user/signIn.vue"]]);
  const __default__$1 = {
    methods: {
      uploadAvatar(files) {
        Uni.uploadImage("", files).then((res) => {
          formatAppLog("log", "at pages/user/user.vue:20", res);
        });
      }
    }
  };
  const _sfc_main$2 = /* @__PURE__ */ vue.defineComponent({
    ...__default__$1,
    __name: "user",
    setup(__props) {
      useI18n();
      return (_ctx, _cache) => {
        return vue.openBlock(), vue.createElementBlock("view", null, "用户中心");
      };
    }
  });
  const PagesUserUser = /* @__PURE__ */ _export_sfc(_sfc_main$2, [["__file", "E:/lotaway/project/uni-social/pages/user/user.vue"]]);
  const __default__ = {
    data() {
      return {
        url: ""
      };
    },
    onLoad(options) {
      this.url = options.url;
    }
  };
  const _sfc_main$1 = /* @__PURE__ */ vue.defineComponent({
    ...__default__,
    __name: "browser",
    setup(__props) {
      vue.onMounted(() => {
      });
      return (_ctx, _cache) => {
        return vue.openBlock(), vue.createElementBlock("web-view", {
          class: "web-view",
          src: _ctx.props.url
        }, null, 8, ["src"]);
      };
    }
  });
  const PagesExtraBrowser = /* @__PURE__ */ _export_sfc(_sfc_main$1, [["__file", "E:/lotaway/project/uni-social/pages/extra/browser.vue"]]);
  __definePage("pages/chat/roomList", PagesChatRoomList);
  __definePage("pages/chat/chatList", PagesChatChatList);
  __definePage("pages/find/find", PagesFindFind);
  __definePage("pages/find/square", PagesFindSquare);
  __definePage("pages/user/signIn", PagesUserSignIn);
  __definePage("pages/user/user", PagesUserUser);
  __definePage("pages/extra/browser", PagesExtraBrowser);
  const initConfig = {
    ENVIRONMENT: "pro",
    //  当前为发布环境，将会使用更新检测、启用已打包的本地页面
    // ENVIRONMENT: 'dev', //  当前为开发环境，将会停用更新检测，保持每次启动为第一次启动（引导图会总是显示）、本地页面将重定向到webpack开发服务器的路径上
    // DEBUG: false,    //  开关调试模式
    DEBUG: true,
    //  开关调试模式（会在控制台输出，未完善）
    HOST_DEV: "http://192.168.44.229:10010",
    //  开发域名，当ENVIRONMENT的值为dev时将使用此域名作为页面、接口的前缀
    HOST_PRO: "https://www.url.net",
    // 发布域名，当ENVIRONMENT的值为pro时将使用此域名作为页面、接口的前缀
    MOCK: "",
    // MOCK地址，模拟接口返回数据域名前缀，放空着不启用，仅在ENVIRONMENT的值为dev时才有效
    checkAppUpdateDelay: 24 * 60 * 60 * 1e3,
    //  检查更新间隔时间，单位毫秒（默认一天）
    BOOT_SHOW_TIME: 3e3,
    GOODS_SALES_NUM: 8,
    PAGE_NUM: 20,
    RETRY_TIME: 3,
    DOUBLE_CLICK_TIME: 300,
    VIEW_UPDATE: {
      MIN_DELAY: 1e3 * 2,
      //  最短更新间隔时间（毫秒）
      MAX_DELAY: 1e3 * 5
      //  最长更新间隔时间（毫秒）
    },
    validityTime: 1e3,
    //	接口数据有效时间
    //  推送消息
    pushMsgConfig: {
      DEF_TITLE: "推送消息",
      DEF_CONTENT: "您有一条未读消息"
      //  默认内容
    },
    language: "zh",
    mainColor: "#a4b8eb",
    statusBarBackground: "#f8434c",
    ethProvider: "http://localhost:7545"
    //  以太坊网络provider
  };
  function addPropertiesToObject(target, source) {
    for (let k of Object.keys(source || {})) {
      Object.defineProperty(target, k, {
        get: () => source[k]
      });
    }
  }
  function getModuleName(module) {
    if (!module._vmdModuleName) {
      throw new Error(`ERR_GET_MODULE_NAME : Could not get module accessor.
      Make sure your module has name, we can't make accessors for unnamed modules
      i.e. @Module({ name: 'something' })`);
    }
    return `vuexModuleDecorators/${module._vmdModuleName}`;
  }
  class VuexModule {
    constructor(module) {
      this.actions = module.actions;
      this.mutations = module.mutations;
      this.state = module.state;
      this.getters = module.getters;
      this.namespaced = module.namespaced;
      this.modules = module.modules;
    }
  }
  function getModule(moduleClass, store2) {
    const moduleName2 = getModuleName(moduleClass);
    if (store2 && store2.getters[moduleName2]) {
      return store2.getters[moduleName2];
    } else if (moduleClass._statics) {
      return moduleClass._statics;
    }
    const genStatic = moduleClass._genStatic;
    if (!genStatic) {
      throw new Error(`ERR_GET_MODULE_NO_STATICS : Could not get module accessor.
      Make sure your module has name, we can't make accessors for unnamed modules
      i.e. @Module({ name: 'something' })`);
    }
    const storeModule = genStatic(store2);
    if (store2) {
      store2.getters[moduleName2] = storeModule;
    } else {
      moduleClass._statics = storeModule;
    }
    return storeModule;
  }
  const reservedKeys = ["actions", "getters", "mutations", "modules", "state", "namespaced", "commit"];
  function stateFactory(module) {
    const state = new module.prototype.constructor({});
    const s = {};
    Object.keys(state).forEach((key) => {
      if (reservedKeys.indexOf(key) !== -1) {
        if (typeof state[key] !== "undefined") {
          throw new Error(`ERR_RESERVED_STATE_KEY_USED: You cannot use the following
        ['actions', 'getters', 'mutations', 'modules', 'state', 'namespaced', 'commit']
        as fields in your module. These are reserved as they have special purpose in Vuex`);
        }
        return;
      }
      if (state.hasOwnProperty(key)) {
        if (typeof state[key] !== "function") {
          s[key] = state[key];
        }
      }
    });
    return s;
  }
  function staticStateGenerator(module, modOpt, statics) {
    const state = modOpt.stateFactory ? module.state() : module.state;
    Object.keys(state).forEach((key) => {
      if (state.hasOwnProperty(key)) {
        if (["undefined", "function"].indexOf(typeof state[key]) === -1) {
          Object.defineProperty(statics, key, {
            get() {
              const path = modOpt.name.split("/");
              let data = statics.store.state;
              for (let segment of path) {
                data = data[segment];
              }
              return data[key];
            }
          });
        }
      }
    });
  }
  function staticGetterGenerator(module, modOpt, statics) {
    Object.keys(module.getters).forEach((key) => {
      if (module.namespaced) {
        Object.defineProperty(statics, key, {
          get() {
            return statics.store.getters[`${modOpt.name}/${key}`];
          }
        });
      } else {
        Object.defineProperty(statics, key, {
          get() {
            return statics.store.getters[key];
          }
        });
      }
    });
  }
  function staticMutationGenerator(module, modOpt, statics) {
    Object.keys(module.mutations).forEach((key) => {
      if (module.namespaced) {
        statics[key] = function(...args) {
          statics.store.commit(`${modOpt.name}/${key}`, ...args);
        };
      } else {
        statics[key] = function(...args) {
          statics.store.commit(key, ...args);
        };
      }
    });
  }
  function staticActionGenerators(module, modOpt, statics) {
    Object.keys(module.actions).forEach((key) => {
      if (module.namespaced) {
        statics[key] = async function(...args) {
          return statics.store.dispatch(`${modOpt.name}/${key}`, ...args);
        };
      } else {
        statics[key] = async function(...args) {
          return statics.store.dispatch(key, ...args);
        };
      }
    });
  }
  function registerDynamicModule(module, modOpt) {
    if (!modOpt.name) {
      throw new Error("Name of module not provided in decorator options");
    }
    if (!modOpt.store) {
      throw new Error("Store not provided in decorator options when using dynamic option");
    }
    modOpt.store.registerModule(
      modOpt.name,
      // TODO: Handle nested modules too in future
      module,
      { preserveState: modOpt.preserveState || false }
    );
  }
  function addGettersToModule(targetModule, srcModule) {
    Object.getOwnPropertyNames(srcModule.prototype).forEach((funcName) => {
      const descriptor = Object.getOwnPropertyDescriptor(srcModule.prototype, funcName);
      if (descriptor.get && targetModule.getters) {
        targetModule.getters[funcName] = function(state, getters, rootState, rootGetters) {
          const thisObj = { context: { state, getters, rootState, rootGetters } };
          addPropertiesToObject(thisObj, state);
          addPropertiesToObject(thisObj, getters);
          const got = descriptor.get.call(thisObj);
          return got;
        };
      }
    });
  }
  function moduleDecoratorFactory(moduleOptions) {
    return function(constructor) {
      const module = constructor;
      const stateFactory$1 = () => stateFactory(module);
      if (!module.state) {
        module.state = moduleOptions && moduleOptions.stateFactory ? stateFactory$1 : stateFactory$1();
      }
      if (!module.getters) {
        module.getters = {};
      }
      if (!module.namespaced) {
        module.namespaced = moduleOptions && moduleOptions.namespaced;
      }
      let parentModule = Object.getPrototypeOf(module);
      while (parentModule.name !== "VuexModule" && parentModule.name !== "") {
        addGettersToModule(module, parentModule);
        parentModule = Object.getPrototypeOf(parentModule);
      }
      addGettersToModule(module, module);
      const modOpt = moduleOptions;
      if (modOpt.name) {
        Object.defineProperty(constructor, "_genStatic", {
          value: (store2) => {
            let statics = { store: store2 || modOpt.store };
            if (!statics.store) {
              throw new Error(`ERR_STORE_NOT_PROVIDED: To use getModule(), either the module
            should be decorated with store in decorator, i.e. @Module({store: store}) or
            store should be passed when calling getModule(), i.e. getModule(MyModule, this.$store)`);
            }
            staticStateGenerator(module, modOpt, statics);
            if (module.getters) {
              staticGetterGenerator(module, modOpt, statics);
            }
            if (module.mutations) {
              staticMutationGenerator(module, modOpt, statics);
            }
            if (module.actions) {
              staticActionGenerators(module, modOpt, statics);
            }
            return statics;
          }
        });
        Object.defineProperty(constructor, "_vmdModuleName", {
          value: modOpt.name
        });
      }
      if (modOpt.dynamic) {
        registerDynamicModule(module, modOpt);
      }
      return constructor;
    };
  }
  function Module(modOrOpt) {
    if (typeof modOrOpt === "function") {
      moduleDecoratorFactory({})(modOrOpt);
    } else {
      return moduleDecoratorFactory(modOrOpt);
    }
  }
  const config$1 = {};
  function actionDecoratorFactory(params) {
    const { commit = void 0, rawError = !!config$1.rawError, root = false } = params || {};
    return function(target, key, descriptor) {
      const module = target.constructor;
      if (!module.hasOwnProperty("actions")) {
        module.actions = Object.assign({}, module.actions);
      }
      const actionFunction = descriptor.value;
      const action = async function(context, payload) {
        try {
          let actionPayload = null;
          if (module._genStatic) {
            const moduleName2 = getModuleName(module);
            const moduleAccessor = context.rootGetters[moduleName2] ? context.rootGetters[moduleName2] : getModule(module);
            moduleAccessor.context = context;
            actionPayload = await actionFunction.call(moduleAccessor, payload);
          } else {
            const thisObj = { context };
            addPropertiesToObject(thisObj, context.state);
            addPropertiesToObject(thisObj, context.getters);
            actionPayload = await actionFunction.call(thisObj, payload);
          }
          if (commit) {
            context.commit(commit, actionPayload);
          }
          return actionPayload;
        } catch (e) {
          throw rawError ? e : new Error('ERR_ACTION_ACCESS_UNDEFINED: Are you trying to access this.someMutation() or this.someGetter inside an @Action? \nThat works only in dynamic modules. \nIf not dynamic use this.context.commit("mutationName", payload) and this.context.getters["getterName"]\n' + new Error(`Could not perform action ${key.toString()}`).stack + "\n" + e.stack);
        }
      };
      module.actions[key] = root ? { root, handler: action } : action;
    };
  }
  function Action(targetOrParams, key, descriptor) {
    if (!key && !descriptor) {
      return actionDecoratorFactory(targetOrParams);
    } else {
      actionDecoratorFactory()(targetOrParams, key, descriptor);
    }
  }
  function Mutation(target, key, descriptor) {
    const module = target.constructor;
    if (!module.hasOwnProperty("mutations")) {
      module.mutations = Object.assign({}, module.mutations);
    }
    const mutationFunction = descriptor.value;
    const mutation = function(state, payload) {
      mutationFunction.call(state, payload);
    };
    module.mutations[key] = mutation;
  }
  function mutationActionDecoratorFactory(params) {
    return function(target, key, descriptor) {
      const module = target.constructor;
      if (!module.hasOwnProperty("mutations")) {
        module.mutations = Object.assign({}, module.mutations);
      }
      if (!module.hasOwnProperty("actions")) {
        module.actions = Object.assign({}, module.actions);
      }
      const mutactFunction = descriptor.value;
      const action = async function(context, payload) {
        try {
          const thisObj = { context };
          addPropertiesToObject(thisObj, context.state);
          addPropertiesToObject(thisObj, context.getters);
          const actionPayload = await mutactFunction.call(thisObj, payload);
          if (actionPayload === void 0)
            return;
          context.commit(key, actionPayload);
        } catch (e) {
          if (params.rawError) {
            throw e;
          } else {
            formatAppLog("error", "at node_modules/vuex-module-decorators/dist/esm/index.js:369", "Could not perform action " + key.toString());
            formatAppLog("error", "at node_modules/vuex-module-decorators/dist/esm/index.js:370", e);
            return Promise.reject(e);
          }
        }
      };
      const mutation = function(state, payload) {
        if (!params.mutate) {
          params.mutate = Object.keys(payload);
        }
        for (let stateItem of params.mutate) {
          if (state.hasOwnProperty(stateItem) && payload.hasOwnProperty(stateItem)) {
            state[stateItem] = payload[stateItem];
          } else {
            throw new Error(`ERR_MUTATE_PARAMS_NOT_IN_PAYLOAD
          In @MutationAction, mutate: ['a', 'b', ...] array keys must
          match with return type = {a: {}, b: {}, ...} and must
          also be in state.`);
          }
        }
      };
      module.actions[key] = params.root ? { root: true, handler: action } : action;
      module.mutations[key] = mutation;
    };
  }
  function MutationAction(paramsOrTarget, key, descriptor) {
    if (!key && !descriptor) {
      return mutationActionDecoratorFactory(paramsOrTarget);
    } else {
      mutationActionDecoratorFactory({})(paramsOrTarget, key, descriptor);
    }
  }
  var __defProp$4 = Object.defineProperty;
  var __getOwnPropDesc$4 = Object.getOwnPropertyDescriptor;
  var __decorateClass$4 = (decorators, target, key, kind) => {
    var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$4(target, key) : target;
    for (var i = decorators.length - 1, decorator; i >= 0; i--)
      if (decorator = decorators[i])
        result = (kind ? decorator(target, key, result) : decorator(result)) || result;
    if (kind && result)
      __defProp$4(target, key, result);
    return result;
  };
  const _Logger = class {
    constructor(isOn = initConfig.DEBUG) {
      this.isOn = isOn;
    }
    output(message, force) {
      return (force || this.isOn) && formatAppLog("log", "at utils/logger.ts:12", message);
    }
    static paramChecker(target, propName, descriptor) {
      const methods = descriptor.value;
      descriptor.value = function(desc, ...params) {
        return methods.call(this, desc || "Logger", ...params);
      };
    }
    static simple(desc, force) {
      const logger = new _Logger(force);
      return (target, propName, descriptor) => {
        const methods = descriptor.value;
        descriptor.value = function(...params) {
          logger.output("调用 ——" + desc);
          return methods.call(this, ...params);
        };
      };
    }
    static detail(desc, force) {
      const logger = new _Logger(force);
      return function(target, propName, descriptor) {
        const methods = descriptor.value;
        descriptor.value = function(...params) {
          logger.output("调用 " + (target.name || target.constructor.name) + "." + propName + " with params:" + JSON.stringify(params) + " ——" + desc);
          return methods.call(this, ...params);
        };
      };
    }
  };
  let Logger = _Logger;
  __decorateClass$4([
    Logger.paramChecker
  ], Logger, "simple", 1);
  __decorateClass$4([
    Logger.paramChecker
  ], Logger, "detail", 1);
  var __defProp$3 = Object.defineProperty;
  var __getOwnPropDesc$3 = Object.getOwnPropertyDescriptor;
  var __decorateClass$3 = (decorators, target, key, kind) => {
    var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$3(target, key) : target;
    for (var i = decorators.length - 1, decorator; i >= 0; i--)
      if (decorator = decorators[i])
        result = (kind ? decorator(target, key, result) : decorator(result)) || result;
    if (kind && result)
      __defProp$3(target, key, result);
    return result;
  };
  const useDefaultParam = (...defaultParams) => {
    return (target, propName, descriptor) => {
      const method = descriptor.value;
      descriptor.value = function(...realParams) {
        return method.call(this, ...(defaultParams.length > realParams.length ? defaultParams : realParams).map((item, index) => {
          let def = defaultParams[index], real = realParams[index];
          if ((def == null ? void 0 : def.constructor) === Object && (real == null ? void 0 : real.constructor) === Object) {
            Object.keys(def).forEach((key) => {
              real[key] = real[key] ?? def[key];
            });
          }
          return real ?? def;
        }));
      };
    };
  };
  function Provider(target) {
    const callback = target.value;
    target.value = function() {
      callback.call(this);
    };
  }
  let BaseProvider = class {
    constructor(options) {
      this.HOST = (options == null ? void 0 : options.HOST) ?? "";
      this.HOST_API = (options == null ? void 0 : options.HOST_API) ?? this.HOST;
    }
    /**
     * 缓存装饰器
     * @param storeName {string} 存储名称（默认使用类名+方法名）
     * @param saveTime {number} 存储有效期，毫秒为单位
     */
    static useCache(storeName, saveTime = initConfig.validityTime) {
      return function(target, propName, descriptor) {
        const method = descriptor.value;
        descriptor.value = function(...params) {
          const realStoreName = storeName ?? (target.name || target.constructor.name) + "." + propName;
          return BaseProvider.getData(realStoreName).then((res) => (res == null ? void 0 : res.time) && res.time > +/* @__PURE__ */ new Date() ? res.data : Promise.reject("数据已过期")).catch((err) => method.call(this, ...params).then((data) => BaseProvider.saveData(realStoreName, {
            time: saveTime ? +/* @__PURE__ */ new Date() + saveTime : "",
            data
          }).then((e) => data)));
        };
      };
    }
    static getData(storeName) {
      return Uni.storage(storeName).then((strData) => {
        if (strData) {
          let storeValue = "";
          try {
            storeValue = JSON.parse(strData);
          } catch (err) {
          }
          return storeValue ? Promise.resolve(storeValue.data) : Promise.reject("");
        } else {
          return Promise.reject("No data");
        }
      });
    }
    static saveData(storeName, data) {
      try {
        Uni.storage(storeName, JSON.stringify(data));
      } catch (e) {
        new Logger().output("存储数据出错:" + JSON.stringify(e));
        return Promise.reject(e);
      }
      return Promise.resolve();
    }
    /**
     * 转化网址（缺少域名时添加）
     * @param url (String) 需要转化的地址
     * @return url (String) 转化后的地址
     */
    convertUrl(url2) {
      if (/^\//.test(url2)) {
        url2 = this.HOST + url2;
      }
      return url2;
    }
    /**
     * 在数据集中转化网址
     * @param data {Object|Array} 数据集
     * @param attrs {Array|String} 要检查的属性名
     * @return {Object|Array} 返回的数据集
     */
    convertDataUrl(data, attrs = ["src", "url"]) {
      if (!attrs) {
        throw new Error("没有设置需要转换的字段");
      }
      if (typeof attrs === "string") {
        attrs = [attrs];
      }
      if (data instanceof Array && data.length) {
        data = data.map((item) => this.convertDataUrl(item, attrs));
      } else if (typeof data === "object") {
        attrs.forEach((attr) => {
          if (attr instanceof Array && attr.length) {
            const firstAttr = attr[0];
            data[firstAttr] && (data[firstAttr] = this.convertDataUrl(data[firstAttr], attr.slice(1)));
          } else if (data[attr]) {
            data[attr] = this.convertUrl(data[attr]);
          }
        });
      }
      return data;
    }
    /**
     * 通用接口封装加密（业务，异步版本）
     * @param {String} apiName 接口名称
     * @param {object} data 请求参数/数据
     * @param {String} method 请求类型
     * @param {String} dataType 响应数据格式
     * @param {object} pathParam 路由参数
     * @param {object} header 请求头部信息
     * @return {Promise} 是否成功
     */
    request(apiName, data = {}, method = "POST", dataType = "json", pathParam = {}, header = {}) {
      return Uni.request({
        header,
        method,
        url: this.getApiUrl(apiName),
        dataType,
        data
      });
    }
    /**
     * 查询接口路径
     * @param apiName {String} 接口名称
     * @return {string} 接口路径
     */
    getApiUrl(apiName) {
      if (apiName) {
        return /^http[s]?:\/\//.test(apiName) ? apiName : this.HOST_API + apiName;
      } else {
        new Logger().output("找不到名称对应的接口路径");
      }
      return "";
    }
  };
  BaseProvider = __decorateClass$3([
    Provider
  ], BaseProvider);
  var __defProp$2 = Object.defineProperty;
  var __getOwnPropDesc$2 = Object.getOwnPropertyDescriptor;
  var __decorateClass$2 = (decorators, target, key, kind) => {
    var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$2(target, key) : target;
    for (var i = decorators.length - 1, decorator; i >= 0; i--)
      if (decorator = decorators[i])
        result = (kind ? decorator(target, key, result) : decorator(result)) || result;
    if (kind && result)
      __defProp$2(target, key, result);
    return result;
  };
  var NSChat;
  ((NSChat2) => {
    class Provider2 extends BaseProvider {
      constructor(params) {
        super(params);
      }
      getRoomByPageIndex(options) {
        return Promise.resolve({
          list: [{
            id: 1,
            title: "test1"
          }, {
            id: 2,
            title: "test2"
          }]
        });
      }
    }
    __decorateClass$2([
      useDefaultParam({
        pageNumber: 1
      })
    ], Provider2.prototype, "getRoomByPageIndex", 1);
    NSChat2.Provider = Provider2;
  })(NSChat || (NSChat = {}));
  const NSChat$1 = NSChat;
  var __defProp$1 = Object.defineProperty;
  var __getOwnPropDesc$1 = Object.getOwnPropertyDescriptor;
  var __decorateClass$1 = (decorators, target, key, kind) => {
    var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$1(target, key) : target;
    for (var i = decorators.length - 1, decorator; i >= 0; i--)
      if (decorator = decorators[i])
        result = (kind ? decorator(target, key, result) : decorator(result)) || result;
    if (kind && result)
      __defProp$1(target, key, result);
    return result;
  };
  const providerChat = new NSChat$1.Provider();
  var RoomType = /* @__PURE__ */ ((RoomType2) => {
    RoomType2[RoomType2["Look"] = 1] = "Look";
    RoomType2[RoomType2["Chat"] = 2] = "Chat";
    RoomType2[RoomType2["Listen"] = 3] = "Listen";
    RoomType2[RoomType2["Play"] = 4] = "Play";
    return RoomType2;
  })(RoomType || {});
  let Room = class extends VuexModule {
    constructor() {
      super(...arguments);
      this.filter = {
        roomTypeEnum: RoomType
      };
      this.list = [];
      this.pageNumber = 0;
      this.pageTotal = Infinity;
      this.currentId = 0;
    }
    get isEnd() {
      return this.pageNumber === this.pageTotal;
    }
    get roomTypeList() {
      return Object.values(this.filter.roomTypeEnum);
    }
    updatePageNumber(list) {
      this.pageNumber++;
      this.list.push(...list);
    }
    resetRoomList() {
      this.list = [];
      this.pageNumber = 0;
    }
    async getNextPage() {
      const result = await providerChat.getRoomByPageIndex({
        pageNumber: this.pageNumber + 1
      });
      return result.list;
    }
    async _getNextPage() {
      const pageNumber = this.pageNumber + 1, result = await providerChat.getRoomByPageIndex({
        pageNumber
      });
      return {
        pageNumber,
        list: result.list
      };
    }
  };
  __decorateClass$1([
    Mutation
  ], Room.prototype, "updatePageNumber", 1);
  __decorateClass$1([
    Mutation
  ], Room.prototype, "resetRoomList", 1);
  __decorateClass$1([
    Action({
      commit: "updatePageNumber"
    })
  ], Room.prototype, "getNextPage", 1);
  __decorateClass$1([
    MutationAction({
      mutate: ["pageNumber", "list"]
    })
  ], Room.prototype, "_getNextPage", 1);
  Room = __decorateClass$1([
    Module({
      namespaced: true
    })
  ], Room);
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __decorateClass = (decorators, target, key, kind) => {
    var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;
    for (var i = decorators.length - 1, decorator; i >= 0; i--)
      if (decorator = decorators[i])
        result = (kind ? decorator(target, key, result) : decorator(result)) || result;
    if (kind && result)
      __defProp(target, key, result);
    return result;
  };
  let User = class extends VuexModule {
    constructor() {
      super(...arguments);
      this.isSignIn = false;
    }
  };
  User = __decorateClass([
    Module({
      namespaced: true
    })
  ], User);
  const store = createStore({
    state: {
      mainColor: initConfig.mainColor,
      ad: {
        list: [
          {
            link: "",
            image: "/static/image/ad-1.jpg"
          },
          {
            link: "",
            image: "/static/image/ad-2.jpg"
          }
        ]
      }
    },
    getters: {},
    mutations: {},
    actions: {},
    modules: {
      room: Room,
      user: User
      // ...modules
    }
  });
  const globalName$1 = "社交星球";
  const confirm$1 = "确定";
  const cancel$1 = "取消";
  const pageBottomTip$1 = "已经是底部了";
  const pageTitleRoomList$1 = "城市";
  const pageTitleSquare$1 = "广场";
  const pageTitleFind$1 = "发现";
  const pageTitleChatList$1 = "消息";
  const pageTitleSignIn$1 = "登录";
  const pageTitleUser$1 = "我的";
  const roomList$1 = {
    title: "聊天室",
    roomType: "房间类型",
    isEmpty: "还没有聊天室"
  };
  const signInTip$1 = "已经有账号？";
  const configCn = {
    globalName: globalName$1,
    confirm: confirm$1,
    cancel: cancel$1,
    pageBottomTip: pageBottomTip$1,
    pageTitleRoomList: pageTitleRoomList$1,
    pageTitleSquare: pageTitleSquare$1,
    pageTitleFind: pageTitleFind$1,
    pageTitleChatList: pageTitleChatList$1,
    pageTitleSignIn: pageTitleSignIn$1,
    pageTitleUser: pageTitleUser$1,
    roomList: roomList$1,
    signInTip: signInTip$1
  };
  const globalName = "Social Star";
  const confirm = "yes";
  const cancel = "cancel";
  const pageBottomTip = "Reach the bottom";
  const pageTitleRoomList = "City";
  const pageTitleSquare = "Square";
  const pageTitleFind = "Find";
  const pageTitleChatList = "Chat";
  const pageTitleSignIn = "SignIn";
  const pageTitleUser = "User";
  const roomList = {
    title: "ChatRoom",
    roomType: "Room Type",
    isEmpty: "No Room"
  };
  const signInTip = "Have an account?";
  const configEn = {
    globalName,
    confirm,
    cancel,
    pageBottomTip,
    pageTitleRoomList,
    pageTitleSquare,
    pageTitleFind,
    pageTitleChatList,
    pageTitleSignIn,
    pageTitleUser,
    roomList,
    signInTip
  };
  const messages = {
    "zh-Hans": {
      // ...elementZhCN,
      ...configCn
    },
    "en": {
      // ...elementEn,
      ...configEn
    }
  };
  const mixin = {
    data() {
      return {};
    },
    onLoad() {
      this.$u.getRect = this.$uGetRect;
    },
    methods: {
      // 查询节点信息
      // 目前此方法在支付宝小程序中无法获取组件跟接点的尺寸，为支付宝的bug(2020-07-21)
      // 解决办法为在组件根部再套一个没有任何作用的view元素
      $uGetRect(selector, all) {
        return new Promise((resolve) => {
          uni.createSelectorQuery().in(this)[all ? "selectAll" : "select"](selector).boundingClientRect((rect) => {
            if (all && Array.isArray(rect) && rect.length) {
              resolve(rect);
            }
            if (!all && rect) {
              resolve(rect);
            }
          }).exec();
        });
      },
      getParentData(parentName = "") {
        if (!this.parent)
          this.parent = false;
        this.parent = this.$u.$parent.call(this, parentName);
        if (this.parent) {
          Object.keys(this.parentData).map((key) => {
            this.parentData[key] = this.parent[key];
          });
          this.parentData.value = this.parent.modelValue;
        }
      },
      // 阻止事件冒泡
      preventEvent(e) {
        e && e.stopPropagation && e.stopPropagation();
      }
    },
    onReachBottom() {
      uni.$emit("uOnReachBottom");
    },
    beforeUnmount() {
      if (this.parent && uni.$u.test.array(this.parent.children)) {
        const childrenList = this.parent.children;
        childrenList.map((child, index) => {
          if (child === this) {
            childrenList.splice(index, 1);
          }
        });
      }
    }
  };
  function isArray(arr) {
    return Object.prototype.toString.call(arr) === "[object Array]";
  }
  function deepClone(obj) {
    if ([null, void 0, NaN, false].includes(obj))
      return obj;
    if (typeof obj !== "object" && typeof obj !== "function") {
      return obj;
    }
    var o = isArray(obj) ? [] : {};
    for (let i in obj) {
      if (obj.hasOwnProperty(i)) {
        o[i] = typeof obj[i] === "object" ? deepClone(obj[i]) : obj[i];
      }
    }
    return o;
  }
  function deepMerge(target = {}, source = {}) {
    target = deepClone(target);
    if (typeof target !== "object" || typeof source !== "object")
      return false;
    for (var prop in source) {
      if (!source.hasOwnProperty(prop))
        continue;
      if (prop in target) {
        if (typeof target[prop] !== "object") {
          target[prop] = source[prop];
        } else {
          if (typeof source[prop] !== "object") {
            target[prop] = source[prop];
          } else {
            if (target[prop].concat && source[prop].concat) {
              target[prop] = target[prop].concat(source[prop]);
            } else {
              target[prop] = deepMerge(target[prop], source[prop]);
            }
          }
        }
      } else {
        target[prop] = source[prop];
      }
    }
    return target;
  }
  function email(value) {
    return /^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(value);
  }
  function mobile(value) {
    return /^1[23456789]\d{9}$/.test(value);
  }
  function url(value) {
    return /http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&=]*)?/.test(value);
  }
  function date(value) {
    return !/Invalid|NaN/.test(new Date(value).toString());
  }
  function dateISO(value) {
    return /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(value);
  }
  function number(value) {
    return /^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value);
  }
  function digits(value) {
    return /^\d+$/.test(value);
  }
  function idCard(value) {
    return /^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(
      value
    );
  }
  function carNo(value) {
    const xreg = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/;
    const creg = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/;
    if (value.length === 7) {
      return creg.test(value);
    } else if (value.length === 8) {
      return xreg.test(value);
    } else {
      return false;
    }
  }
  function amount(value) {
    return /^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(value);
  }
  function chinese(value) {
    let reg = /^[\u4e00-\u9fa5]+$/gi;
    return reg.test(value);
  }
  function letter(value) {
    return /^[a-zA-Z]*$/.test(value);
  }
  function enOrNum(value) {
    let reg = /^[0-9a-zA-Z]*$/g;
    return reg.test(value);
  }
  function contains(value, param) {
    return value.indexOf(param) >= 0;
  }
  function range(value, param) {
    return value >= param[0] && value <= param[1];
  }
  function rangeLength(value, param) {
    return value.length >= param[0] && value.length <= param[1];
  }
  function landline(value) {
    let reg = /^\d{3,4}-\d{7,8}(-\d{3,4})?$/;
    return reg.test(value);
  }
  function empty(value) {
    switch (typeof value) {
      case "undefined":
        return true;
      case "string":
        if (value.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g, "").length == 0)
          return true;
        break;
      case "boolean":
        if (!value)
          return true;
        break;
      case "number":
        if (0 === value || isNaN(value))
          return true;
        break;
      case "object":
        if (null === value || value.length === 0)
          return true;
        for (var i in value) {
          return false;
        }
        return true;
    }
    return false;
  }
  function jsonString(value) {
    if (typeof value == "string") {
      try {
        var obj = JSON.parse(value);
        if (typeof obj == "object" && obj) {
          return true;
        } else {
          return false;
        }
      } catch (e) {
        return false;
      }
    }
    return false;
  }
  function array(value) {
    if (typeof Array.isArray === "function") {
      return Array.isArray(value);
    } else {
      return Object.prototype.toString.call(value) === "[object Array]";
    }
  }
  function object(value) {
    return Object.prototype.toString.call(value) === "[object Object]";
  }
  function code(value, len = 6) {
    return new RegExp(`^\\d{${len}}$`).test(value);
  }
  const test = {
    email,
    mobile,
    url,
    date,
    dateISO,
    number,
    digits,
    idCard,
    carNo,
    amount,
    chinese,
    letter,
    enOrNum,
    contains,
    range,
    rangeLength,
    empty,
    isEmpty: empty,
    jsonString,
    landline,
    object,
    array,
    code
  };
  class Request {
    // 设置全局默认配置
    setConfig(customConfig) {
      this.config = deepMerge(this.config, customConfig);
    }
    // 主要请求部分
    request(options = {}) {
      if (this.interceptor.request && typeof this.interceptor.request === "function") {
        let interceptorRequest = this.interceptor.request(options);
        if (interceptorRequest === false) {
          return new Promise(() => {
          });
        }
        this.options = interceptorRequest;
      }
      options.dataType = options.dataType || this.config.dataType;
      options.responseType = options.responseType || this.config.responseType;
      options.url = options.url || "";
      options.params = options.params || {};
      options.header = Object.assign({}, this.config.header, options.header);
      options.method = options.method || this.config.method;
      return new Promise((resolve, reject) => {
        options.complete = (response) => {
          uni.hideLoading();
          clearTimeout(this.config.timer);
          this.config.timer = null;
          if (this.config.originalData) {
            if (this.interceptor.response && typeof this.interceptor.response === "function") {
              let resInterceptors = this.interceptor.response(response);
              if (resInterceptors !== false) {
                resolve(resInterceptors);
              } else {
                reject(response);
              }
            } else {
              resolve(response);
            }
          } else {
            if (response.statusCode == 200) {
              if (this.interceptor.response && typeof this.interceptor.response === "function") {
                let resInterceptors = this.interceptor.response(response.data);
                if (resInterceptors !== false) {
                  resolve(resInterceptors);
                } else {
                  reject(response.data);
                }
              } else {
                resolve(response.data);
              }
            } else {
              reject(response);
            }
          }
        };
        options.url = test.url(options.url) ? options.url : this.config.baseUrl + (options.url.indexOf("/") == 0 ? options.url : "/" + options.url);
        if (this.config.showLoading && !this.config.timer) {
          this.config.timer = setTimeout(() => {
            uni.showLoading({
              title: this.config.loadingText,
              mask: this.config.loadingMask
            });
            this.config.timer = null;
          }, this.config.loadingTime);
        }
        uni.request(options);
      });
    }
    constructor() {
      this.config = {
        baseUrl: "",
        // 请求的根域名
        // 默认的请求头
        header: {},
        method: "POST",
        // 设置为json，返回后uni.request会对数据进行一次JSON.parse
        dataType: "json",
        // 此参数无需处理，因为5+和支付宝小程序不支持，默认为text即可
        responseType: "text",
        showLoading: true,
        // 是否显示请求中的loading
        loadingText: "请求中...",
        loadingTime: 800,
        // 在此时间内，请求还没回来的话，就显示加载中动画，单位ms
        timer: null,
        // 定时器
        originalData: false,
        // 是否在拦截器中返回服务端的原始数据，见文档说明
        loadingMask: true
        // 展示loading的时候，是否给一个透明的蒙层，防止触摸穿透
      };
      this.interceptor = {
        // 请求前的拦截
        request: null,
        // 请求后的拦截
        response: null
      };
      this.get = (url2, data = {}, header = {}) => {
        return this.request({
          method: "GET",
          url: url2,
          header,
          data
        });
      };
      this.post = (url2, data = {}, header = {}) => {
        return this.request({
          url: url2,
          method: "POST",
          header,
          data
        });
      };
      this.put = (url2, data = {}, header = {}) => {
        return this.request({
          url: url2,
          method: "PUT",
          header,
          data
        });
      };
      this.delete = (url2, data = {}, header = {}) => {
        return this.request({
          url: url2,
          method: "DELETE",
          header,
          data
        });
      };
    }
  }
  const http = new Request();
  function queryParams(data = {}, isPrefix = true, arrayFormat = "brackets") {
    let prefix = isPrefix ? "?" : "";
    let _result = [];
    if (["indices", "brackets", "repeat", "comma"].indexOf(arrayFormat) == -1)
      arrayFormat = "brackets";
    for (let key in data) {
      let value = data[key];
      if (["", void 0, null].indexOf(value) >= 0) {
        continue;
      }
      if (value.constructor === Array) {
        switch (arrayFormat) {
          case "indices":
            for (let i = 0; i < value.length; i++) {
              _result.push(key + "[" + i + "]=" + value[i]);
            }
            break;
          case "brackets":
            value.forEach((_value) => {
              _result.push(key + "[]=" + _value);
            });
            break;
          case "repeat":
            value.forEach((_value) => {
              _result.push(key + "=" + _value);
            });
            break;
          case "comma":
            let commaStr = "";
            value.forEach((_value) => {
              commaStr += (commaStr ? "," : "") + _value;
            });
            _result.push(key + "=" + commaStr);
            break;
          default:
            value.forEach((_value) => {
              _result.push(key + "[]=" + _value);
            });
        }
      } else {
        _result.push(key + "=" + value);
      }
    }
    return _result.length ? prefix + _result.join("&") : "";
  }
  class Router {
    constructor() {
      this.config = {
        type: "navigateTo",
        url: "",
        delta: 1,
        // navigateBack页面后退时,回退的层数
        params: {},
        // 传递的参数
        animationType: "pop-in",
        // 窗口动画,只在APP有效
        animationDuration: 300,
        // 窗口动画持续时间,单位毫秒,只在APP有效
        intercept: false
        // 是否需要拦截
      };
      this.route = this.route.bind(this);
    }
    // 判断url前面是否有"/"，如果没有则加上，否则无法跳转
    addRootPath(url2) {
      return url2[0] === "/" ? url2 : `/${url2}`;
    }
    // 整合路由参数
    mixinParam(url2, params) {
      url2 = url2 && this.addRootPath(url2);
      let query = "";
      if (/.*\/.*\?.*=.*/.test(url2)) {
        query = uni.$u.queryParams(params, false);
        return url2 += "&" + query;
      } else {
        query = uni.$u.queryParams(params);
        return url2 += query;
      }
    }
    // 对外的方法名称
    async route(options = {}, params = {}) {
      let mergeConfig = {};
      if (typeof options === "string") {
        mergeConfig.url = this.mixinParam(options, params);
        mergeConfig.type = "navigateTo";
      } else {
        mergeConfig = uni.$u.deepClone(options, this.config);
        mergeConfig.url = this.mixinParam(options.url, options.params);
      }
      if (params.intercept) {
        this.config.intercept = params.intercept;
      }
      mergeConfig.params = params;
      mergeConfig = uni.$u.deepMerge(this.config, mergeConfig);
      if (typeof uni.$u.routeIntercept === "function") {
        const isNext = await new Promise((resolve, reject) => {
          uni.$u.routeIntercept(mergeConfig, resolve);
        });
        isNext && this.openPage(mergeConfig);
      } else {
        this.openPage(mergeConfig);
      }
    }
    // 执行路由跳转
    openPage(config2) {
      const {
        url: url2,
        type,
        delta,
        animationType,
        animationDuration
      } = config2;
      if (config2.type == "navigateTo" || config2.type == "to") {
        uni.navigateTo({
          url: url2,
          animationType,
          animationDuration
        });
      }
      if (config2.type == "redirectTo" || config2.type == "redirect") {
        uni.redirectTo({
          url: url2
        });
      }
      if (config2.type == "switchTab" || config2.type == "tab") {
        uni.switchTab({
          url: url2
        });
      }
      if (config2.type == "reLaunch" || config2.type == "launch") {
        uni.reLaunch({
          url: url2
        });
      }
      if (config2.type == "navigateBack" || config2.type == "back") {
        uni.navigateBack({
          delta
        });
      }
    }
  }
  const route = new Router().route;
  if (!String.prototype.padStart) {
    String.prototype.padStart = function(maxLength, fillString = " ") {
      if (Object.prototype.toString.call(fillString) !== "[object String]")
        throw new TypeError(
          "fillString must be String"
        );
      let str = this;
      if (str.length >= maxLength)
        return String(str);
      let fillLength = maxLength - str.length, times = Math.ceil(fillLength / fillString.length);
      while (times >>= 1) {
        fillString += fillString;
        if (times === 1) {
          fillString += fillString;
        }
      }
      return fillString.slice(0, fillLength) + str;
    };
  }
  function timeFormat(dateTime = null, fmt = "yyyy-mm-dd") {
    if (!dateTime)
      dateTime = Number(/* @__PURE__ */ new Date());
    if (dateTime.toString().length == 10)
      dateTime *= 1e3;
    let date2 = new Date(dateTime);
    let ret;
    let opt = {
      "y+": date2.getFullYear().toString(),
      // 年
      "m+": (date2.getMonth() + 1).toString(),
      // 月
      "d+": date2.getDate().toString(),
      // 日
      "h+": date2.getHours().toString(),
      // 时
      "M+": date2.getMinutes().toString(),
      // 分
      "s+": date2.getSeconds().toString()
      // 秒
      // 有其他格式化字符需求可以继续添加，必须转化成字符串
    };
    for (let k in opt) {
      ret = new RegExp("(" + k + ")").exec(fmt);
      if (ret) {
        fmt = fmt.replace(ret[1], ret[1].length == 1 ? opt[k] : opt[k].padStart(ret[1].length, "0"));
      }
    }
    return fmt;
  }
  function timeFrom(dateTime = null, format2 = "yyyy-mm-dd") {
    if (!dateTime)
      dateTime = Number(/* @__PURE__ */ new Date());
    if (dateTime.toString().length == 10)
      dateTime *= 1e3;
    let timestamp = +new Date(Number(dateTime));
    let timer = (Number(/* @__PURE__ */ new Date()) - timestamp) / 1e3;
    let tips = "";
    switch (true) {
      case timer < 300:
        tips = "刚刚";
        break;
      case (timer >= 300 && timer < 3600):
        tips = parseInt(timer / 60) + "分钟前";
        break;
      case (timer >= 3600 && timer < 86400):
        tips = parseInt(timer / 3600) + "小时前";
        break;
      case (timer >= 86400 && timer < 2592e3):
        tips = parseInt(timer / 86400) + "天前";
        break;
      default:
        if (format2 === false) {
          if (timer >= 2592e3 && timer < 365 * 86400) {
            tips = parseInt(timer / (86400 * 30)) + "个月前";
          } else {
            tips = parseInt(timer / (86400 * 365)) + "年前";
          }
        } else {
          tips = timeFormat(timestamp, format2);
        }
    }
    return tips;
  }
  function colorGradient(startColor = "rgb(0, 0, 0)", endColor = "rgb(255, 255, 255)", step = 10) {
    let startRGB = hexToRgb(startColor, false);
    let startR = startRGB[0];
    let startG = startRGB[1];
    let startB = startRGB[2];
    let endRGB = hexToRgb(endColor, false);
    let endR = endRGB[0];
    let endG = endRGB[1];
    let endB = endRGB[2];
    let sR = (endR - startR) / step;
    let sG = (endG - startG) / step;
    let sB = (endB - startB) / step;
    let colorArr = [];
    for (let i = 0; i < step; i++) {
      let hex = rgbToHex("rgb(" + Math.round(sR * i + startR) + "," + Math.round(sG * i + startG) + "," + Math.round(sB * i + startB) + ")");
      colorArr.push(hex);
    }
    return colorArr;
  }
  function hexToRgb(sColor, str = true) {
    let reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;
    sColor = sColor.toLowerCase();
    if (sColor && reg.test(sColor)) {
      if (sColor.length === 4) {
        let sColorNew = "#";
        for (let i = 1; i < 4; i += 1) {
          sColorNew += sColor.slice(i, i + 1).concat(sColor.slice(i, i + 1));
        }
        sColor = sColorNew;
      }
      let sColorChange = [];
      for (let i = 1; i < 7; i += 2) {
        sColorChange.push(parseInt("0x" + sColor.slice(i, i + 2)));
      }
      if (!str) {
        return sColorChange;
      } else {
        return `rgb(${sColorChange[0]},${sColorChange[1]},${sColorChange[2]})`;
      }
    } else if (/^(rgb|RGB)/.test(sColor)) {
      let arr = sColor.replace(/(?:\(|\)|rgb|RGB)*/g, "").split(",");
      return arr.map((val) => Number(val));
    } else {
      return sColor;
    }
  }
  function rgbToHex(rgb) {
    let _this = rgb;
    let reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;
    if (/^(rgb|RGB)/.test(_this)) {
      let aColor = _this.replace(/(?:\(|\)|rgb|RGB)*/g, "").split(",");
      let strHex = "#";
      for (let i = 0; i < aColor.length; i++) {
        let hex = Number(aColor[i]).toString(16);
        hex = String(hex).length == 1 ? "0" + hex : hex;
        if (hex === "0") {
          hex += hex;
        }
        strHex += hex;
      }
      if (strHex.length !== 7) {
        strHex = _this;
      }
      return strHex;
    } else if (reg.test(_this)) {
      let aNum = _this.replace(/#/, "").split("");
      if (aNum.length === 6) {
        return _this;
      } else if (aNum.length === 3) {
        let numHex = "#";
        for (let i = 0; i < aNum.length; i += 1) {
          numHex += aNum[i] + aNum[i];
        }
        return numHex;
      }
    } else {
      return _this;
    }
  }
  function colorToRgba(color2, alpha = 0.3) {
    color2 = rgbToHex(color2);
    var reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;
    let sColor = color2.toLowerCase();
    if (sColor && reg.test(sColor)) {
      if (sColor.length === 4) {
        var sColorNew = "#";
        for (let i = 1; i < 4; i += 1) {
          sColorNew += sColor.slice(i, i + 1).concat(sColor.slice(i, i + 1));
        }
        sColor = sColorNew;
      }
      var sColorChange = [];
      for (let i = 1; i < 7; i += 2) {
        sColorChange.push(parseInt("0x" + sColor.slice(i, i + 2)));
      }
      return "rgba(" + sColorChange.join(",") + "," + alpha + ")";
    } else {
      return sColor;
    }
  }
  const colorGradient$1 = {
    colorGradient,
    hexToRgb,
    rgbToHex,
    colorToRgba
  };
  function guid(len = 32, firstU = true, radix = null) {
    let chars = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");
    let uuid = [];
    radix = radix || chars.length;
    if (len) {
      for (let i = 0; i < len; i++)
        uuid[i] = chars[0 | Math.random() * radix];
    } else {
      let r;
      uuid[8] = uuid[13] = uuid[18] = uuid[23] = "-";
      uuid[14] = "4";
      for (let i = 0; i < 36; i++) {
        if (!uuid[i]) {
          r = 0 | Math.random() * 16;
          uuid[i] = chars[i == 19 ? r & 3 | 8 : r];
        }
      }
    }
    if (firstU) {
      uuid.shift();
      return "u" + uuid.join("");
    } else {
      return uuid.join("");
    }
  }
  let color = {
    primary: "#2979ff",
    primaryDark: "#2b85e4",
    primaryDisabled: "#a0cfff",
    primaryLight: "#ecf5ff",
    bgColor: "#f3f4f6",
    info: "#909399",
    infoDark: "#82848a",
    infoDisabled: "#c8c9cc",
    infoLight: "#f4f4f5",
    warning: "#ff9900",
    warningDark: "#f29100",
    warningDisabled: "#fcbd71",
    warningLight: "#fdf6ec",
    error: "#fa3534",
    errorDark: "#dd6161",
    errorDisabled: "#fab6b6",
    errorLight: "#fef0f0",
    success: "#19be6b",
    successDark: "#18b566",
    successDisabled: "#71d5a1",
    successLight: "#dbf1e1",
    mainColor: "#303133",
    contentColor: "#606266",
    tipsColor: "#909399",
    lightColor: "#c0c4cc",
    borderColor: "#e4e7ed"
  };
  function type2icon(type = "success", fill = false) {
    if (["primary", "info", "error", "warning", "success"].indexOf(type) == -1)
      type = "success";
    let iconName = "";
    switch (type) {
      case "primary":
        iconName = "info-circle";
        break;
      case "info":
        iconName = "info-circle";
        break;
      case "error":
        iconName = "close-circle";
        break;
      case "warning":
        iconName = "error-circle";
        break;
      case "success":
        iconName = "checkmark-circle";
        break;
      default:
        iconName = "checkmark-circle";
    }
    if (fill)
      iconName += "-fill";
    return iconName;
  }
  function randomArray(array2 = []) {
    return array2.sort(() => Math.random() - 0.5);
  }
  function addUnit(value = "auto", unit = "rpx") {
    value = String(value);
    return test.number(value) ? `${value}${unit}` : value;
  }
  function random(min, max) {
    if (min >= 0 && max > 0 && max >= min) {
      let gab = max - min + 1;
      return Math.floor(Math.random() * gab + min);
    } else {
      return 0;
    }
  }
  function trim(str, pos = "both") {
    if (pos == "both") {
      return str.replace(/^\s+|\s+$/g, "");
    } else if (pos == "left") {
      return str.replace(/^\s*/, "");
    } else if (pos == "right") {
      return str.replace(/(\s*$)/g, "");
    } else if (pos == "all") {
      return str.replace(/\s+/g, "");
    } else {
      return str;
    }
  }
  function toast(title, duration = 1500) {
    uni.showToast({
      title,
      icon: "none",
      duration
    });
  }
  function getParent(name2, keys) {
    let parent = this.$parent;
    while (parent) {
      if (parent.$options.name !== name2) {
        parent = parent.$parent;
      } else {
        let data = {};
        if (Array.isArray(keys)) {
          keys.map((val) => {
            data[val] = parent[val] ? parent[val] : "";
          });
        } else {
          for (let i in keys) {
            if (Array.isArray(keys[i])) {
              if (keys[i].length) {
                data[i] = keys[i];
              } else {
                data[i] = parent[i];
              }
            } else if (keys[i].constructor === Object) {
              if (Object.keys(keys[i]).length) {
                data[i] = keys[i];
              } else {
                data[i] = parent[i];
              }
            } else {
              data[i] = keys[i] || keys[i] === false ? keys[i] : parent[i];
            }
          }
        }
        return data;
      }
    }
    return {};
  }
  function $parent(name2 = void 0) {
    let parent = this.$parent;
    while (parent) {
      if (parent.$options && parent.$options.name !== name2) {
        parent = parent.$parent;
      } else {
        return parent;
      }
    }
    return false;
  }
  function os() {
    return uni.getSystemInfoSync().platform;
  }
  function sys() {
    return uni.getSystemInfoSync();
  }
  let timeout = null;
  function debounce(func, wait = 500, immediate = false) {
    if (timeout !== null)
      clearTimeout(timeout);
    if (immediate) {
      var callNow = !timeout;
      timeout = setTimeout(function() {
        timeout = null;
      }, wait);
      if (callNow)
        typeof func === "function" && func();
    } else {
      timeout = setTimeout(function() {
        typeof func === "function" && func();
      }, wait);
    }
  }
  let timeoutArr = [];
  let flagArr = [];
  function throttle(fn, time = 500, isImmediate = true, timeoutName = "default") {
    if (!timeoutArr[timeoutName])
      timeoutArr[timeoutName] = null;
    if (isImmediate) {
      if (!flagArr[timeoutName]) {
        flagArr[timeoutName] = true;
        if (typeof fn === "function")
          fn();
        timeoutArr[timeoutName] = setTimeout(() => {
          flagArr[timeoutName] = false;
        }, time);
      }
    } else {
      if (!flagArr[timeoutName]) {
        flagArr[timeoutName] = true;
        timeoutArr[timeoutName] = setTimeout(() => {
          flagArr[timeoutName] = false;
          if (typeof fn === "function")
            fn();
        }, time);
      }
    }
  }
  let version = "1.10.1";
  const config = {
    v: version,
    version,
    // 主题名称
    type: [
      "primary",
      "success",
      "info",
      "error",
      "warning"
    ]
  };
  const zIndex = {
    toast: 10090,
    noNetwork: 10080,
    // popup包含popup，actionsheet，keyboard，picker的值
    popup: 10075,
    mask: 10070,
    navbar: 980,
    topTips: 975,
    sticky: 970,
    indexListSticky: 965
  };
  function wranning(str) {
    {
      formatAppLog("warn", "at node_modules/vk-uview-ui/index.js:13", str);
    }
  }
  const $u = {
    queryParams,
    route,
    timeFormat,
    date: timeFormat,
    // 另名date
    timeFrom,
    colorGradient: colorGradient$1.colorGradient,
    colorToRgba: colorGradient$1.colorToRgba,
    guid,
    color,
    sys,
    os,
    type2icon,
    randomArray,
    wranning,
    get: http.get,
    post: http.post,
    put: http.put,
    "delete": http.delete,
    hexToRgb: colorGradient$1.hexToRgb,
    rgbToHex: colorGradient$1.rgbToHex,
    test,
    random,
    deepClone,
    deepMerge,
    getParent,
    $parent,
    addUnit,
    trim,
    type: ["primary", "success", "error", "warning", "info"],
    http,
    toast,
    config,
    // uView配置信息相关，比如版本号
    zIndex,
    debounce,
    throttle
  };
  uni.$u = $u;
  const install = (Vue2) => {
    Vue2.mixin(mixin);
    Vue2.config.globalProperties.$u = $u;
  };
  const uView = {
    install
  };
  const _sfc_main = /* @__PURE__ */ vue.defineComponent({
    __name: "App",
    setup(__props) {
      class AppShareContent {
        static create() {
          return new AppShareContent();
        }
      }
      onLaunch(() => {
      });
      onShow(() => {
      });
      onHide(() => {
      });
      onThemeChange((options) => {
        formatAppLog("log", "at App.vue:32", "系统主题变化:" + options.theme);
      });
      onShareAppMessage((options) => {
        if (options.webViewUrl)
          ;
        return AppShareContent.create();
      });
      onShareTimeline(() => ({
        title: "",
        query: "from=app",
        imageUrl: ""
      }));
      return () => {
      };
    }
  });
  const App = /* @__PURE__ */ _export_sfc(_sfc_main, [["__file", "E:/lotaway/project/uni-social/App.vue"]]);
  const uniLocale = Uni.getLocale();
  const locale = uniLocale || navigator.language || navigator.browserLanguage || "en", i18n = createI18n({
    silentFallbackWarn: false,
    fallbackWarn: false,
    legacy: false,
    globalInjection: true,
    //  全局注入，才能在App和小程序里让$t('name')语法生效，对H5没影响
    locale,
    messages
  });
  uniLocale !== locale && Uni.setLocale(locale);
  function createApp() {
    const app = vue.createVueApp(App);
    app.use(i18n);
    app.use(store);
    app.use(uView);
    app.config.globalProperties.$filters = {};
    return {
      app
    };
  }
  const { app: __app__, Vuex: __Vuex__, Pinia: __Pinia__ } = createApp();
  uni.Vuex = __Vuex__;
  uni.Pinia = __Pinia__;
  __app__.provide("__globalStyles", __uniConfig.styles);
  __app__._component.mpType = "app";
  __app__._component.render = () => {
  };
  __app__.mount("#app");
})(Vue, uni.VueShared);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLXNlcnZpY2UuanMiLCJzb3VyY2VzIjpbInVuaS1hcHA6Ly8vRDovUHJvZ3JhbSBGaWxlcy9IQnVpbGRlclgvcGx1Z2lucy91bmlhcHAtY2xpLXZpdGUvbm9kZV9tb2R1bGVzL0BkY2xvdWRpby91bmktc2hhcmVkL2Rpc3QvdW5pLXNoYXJlZC5lcy5qcyIsInVuaS1hcHA6Ly8vRDovUHJvZ3JhbSBGaWxlcy9IQnVpbGRlclgvcGx1Z2lucy91bmlhcHAtY2xpLXZpdGUvbm9kZV9tb2R1bGVzL0BkY2xvdWRpby91bmktYXBwL2Rpc3QvdW5pLWFwcC5lcy5qcyIsInVuaS1hcHA6Ly8vbm9kZV9tb2R1bGVzL3ZrLXV2aWV3LXVpL2NvbXBvbmVudHMvdS1tYXNrL3UtbWFzay52dWUiLCJ1bmktYXBwOi8vL25vZGVfbW9kdWxlcy92ay11dmlldy11aS9jb21wb25lbnRzL3UtaWNvbi91LWljb24udnVlIiwidW5pLWFwcDovLy9ub2RlX21vZHVsZXMvdmstdXZpZXctdWkvY29tcG9uZW50cy91LXBvcHVwL3UtcG9wdXAudnVlIiwidW5pLWFwcDovLy9ub2RlX21vZHVsZXMvdmstdXZpZXctdWkvY29tcG9uZW50cy91LWFjdGlvbi1zaGVldC91LWFjdGlvbi1zaGVldC52dWUiLCJ1bmktYXBwOi8vL0Q6L1Byb2dyYW0gRmlsZXMvSEJ1aWxkZXJYL3BsdWdpbnMvdW5pYXBwLWNsaS12aXRlL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL2Vudi5qcyIsInVuaS1hcHA6Ly8vRDovUHJvZ3JhbSBGaWxlcy9IQnVpbGRlclgvcGx1Z2lucy91bmlhcHAtY2xpLXZpdGUvbm9kZV9tb2R1bGVzL0B2dWUvZGV2dG9vbHMtYXBpL2xpYi9lc20vY29uc3QuanMiLCJ1bmktYXBwOi8vL0Q6L1Byb2dyYW0gRmlsZXMvSEJ1aWxkZXJYL3BsdWdpbnMvdW5pYXBwLWNsaS12aXRlL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL3Byb3h5LmpzIiwidW5pLWFwcDovLy9EOi9Qcm9ncmFtIEZpbGVzL0hCdWlsZGVyWC9wbHVnaW5zL3VuaWFwcC1jbGktdml0ZS9ub2RlX21vZHVsZXMvQHZ1ZS9kZXZ0b29scy1hcGkvbGliL2VzbS9pbmRleC5qcyIsInVuaS1hcHA6Ly8vRDovUHJvZ3JhbSBGaWxlcy9IQnVpbGRlclgvcGx1Z2lucy91bmlhcHAtY2xpLXZpdGUvbm9kZV9tb2R1bGVzL3Z1ZXgvZGlzdC92dWV4LmVzbS1idW5kbGVyLmpzIiwidW5pLWFwcDovLy9EOi9Qcm9ncmFtIEZpbGVzL0hCdWlsZGVyWC9wbHVnaW5zL3VuaWFwcC1jbGktdml0ZS9ub2RlX21vZHVsZXMvQGludGxpZnkvc2hhcmVkL2Rpc3Qvc2hhcmVkLmVzbS1idW5kbGVyLmpzIiwidW5pLWFwcDovLy9EOi9Qcm9ncmFtIEZpbGVzL0hCdWlsZGVyWC9wbHVnaW5zL3VuaWFwcC1jbGktdml0ZS9ub2RlX21vZHVsZXMvQGludGxpZnkvbWVzc2FnZS1yZXNvbHZlci9kaXN0L21lc3NhZ2UtcmVzb2x2ZXIuZXNtLWJ1bmRsZXIuanMiLCJ1bmktYXBwOi8vL0Q6L1Byb2dyYW0gRmlsZXMvSEJ1aWxkZXJYL3BsdWdpbnMvdW5pYXBwLWNsaS12aXRlL25vZGVfbW9kdWxlcy9AaW50bGlmeS9ydW50aW1lL2Rpc3QvcnVudGltZS5lc20tYnVuZGxlci5qcyIsInVuaS1hcHA6Ly8vRDovUHJvZ3JhbSBGaWxlcy9IQnVpbGRlclgvcGx1Z2lucy91bmlhcHAtY2xpLXZpdGUvbm9kZV9tb2R1bGVzL0BpbnRsaWZ5L21lc3NhZ2UtY29tcGlsZXIvZGlzdC9tZXNzYWdlLWNvbXBpbGVyLmVzbS1idW5kbGVyLmpzIiwidW5pLWFwcDovLy9EOi9Qcm9ncmFtIEZpbGVzL0hCdWlsZGVyWC9wbHVnaW5zL3VuaWFwcC1jbGktdml0ZS9ub2RlX21vZHVsZXMvQGludGxpZnkvZGV2dG9vbHMtaWYvZGlzdC9kZXZ0b29scy1pZi5lc20tYnVuZGxlci5qcyIsInVuaS1hcHA6Ly8vRDovUHJvZ3JhbSBGaWxlcy9IQnVpbGRlclgvcGx1Z2lucy91bmlhcHAtY2xpLXZpdGUvbm9kZV9tb2R1bGVzL0BpbnRsaWZ5L2NvcmUtYmFzZS9kaXN0L2NvcmUtYmFzZS5lc20tYnVuZGxlci5qcyIsInVuaS1hcHA6Ly8vRDovUHJvZ3JhbSBGaWxlcy9IQnVpbGRlclgvcGx1Z2lucy91bmlhcHAtY2xpLXZpdGUvbm9kZV9tb2R1bGVzL0BpbnRsaWZ5L3Z1ZS1kZXZ0b29scy9kaXN0L3Z1ZS1kZXZ0b29scy5lc20tYnVuZGxlci5qcyIsInVuaS1hcHA6Ly8vRDovUHJvZ3JhbSBGaWxlcy9IQnVpbGRlclgvcGx1Z2lucy91bmlhcHAtY2xpLXZpdGUvbm9kZV9tb2R1bGVzL0BkY2xvdWRpby91bmktY2xpLXNoYXJlZC9saWIvdnVlLWkxOG4vZGlzdC92dWUtaTE4bi5ydW50aW1lLmVzbS1idW5kbGVyLmpzIiwidW5pLWFwcDovLy9EOi9Qcm9ncmFtIEZpbGVzL0hCdWlsZGVyWC9wbHVnaW5zL3VuaWFwcC1jbGktdml0ZS9ub2RlX21vZHVsZXMvQGRjbG91ZGlvL3VuaS1jbGktc2hhcmVkL2xpYi9jcnlwdG8uanMiLCJ1bmktYXBwOi8vL25vZGVfbW9kdWxlcy9yZWZsZWN0LW1ldGFkYXRhL1JlZmxlY3QuanMiLCJ1bmktYXBwOi8vL3V0aWxzL3VuaS50cyIsInVuaS1hcHA6Ly8vY29tcG9uZW50cy9Db250YWluZXIudnVlIiwidW5pLWFwcDovLy9wYWdlcy9jaGF0L3Jvb21MaXN0LnZ1ZSIsInVuaS1hcHA6Ly8vcGFnZXMvY2hhdC9jaGF0TGlzdC52dWUiLCJ1bmktYXBwOi8vL2NvbXBvbmVudHMvQXVkaW9UYXBlLnZ1ZSIsInVuaS1hcHA6Ly8vcGFnZXMvZmluZC9zcXVhcmUudnVlIiwidW5pLWFwcDovLy9wYWdlcy91c2VyL3NpZ25Jbi52dWUiLCJ1bmktYXBwOi8vL3BhZ2VzL3VzZXIvdXNlci52dWUiLCJ1bmktYXBwOi8vL3BhZ2VzL2V4dHJhL2Jyb3dzZXIudnVlIiwidW5pLWFwcDovLy9jb25maWcvaW5pdF9jb25maWcudHMiLCJ1bmktYXBwOi8vL25vZGVfbW9kdWxlcy92dWV4LW1vZHVsZS1kZWNvcmF0b3JzL2Rpc3QvZXNtL2luZGV4LmpzIiwidW5pLWFwcDovLy91dGlscy9sb2dnZXIudHMiLCJ1bmktYXBwOi8vL3Byb3ZpZGVyL2Jhc2UudHMiLCJ1bmktYXBwOi8vL3Byb3ZpZGVyL2NoYXQudHMiLCJ1bmktYXBwOi8vL3N0b3JlL21vZHVsZXMvcm9vbS50cyIsInVuaS1hcHA6Ly8vc3RvcmUvbW9kdWxlcy91c2VyLnRzIiwidW5pLWFwcDovLy9zdG9yZS9pbmRleC50cyIsInVuaS1hcHA6Ly8vbG9jYWxlL2luZGV4LmpzIiwidW5pLWFwcDovLy9ub2RlX21vZHVsZXMvdmstdXZpZXctdWkvbGlicy9taXhpbi9taXhpbi5qcyIsInVuaS1hcHA6Ly8vbm9kZV9tb2R1bGVzL3ZrLXV2aWV3LXVpL2xpYnMvZnVuY3Rpb24vZGVlcENsb25lLmpzIiwidW5pLWFwcDovLy9ub2RlX21vZHVsZXMvdmstdXZpZXctdWkvbGlicy9mdW5jdGlvbi9kZWVwTWVyZ2UuanMiLCJ1bmktYXBwOi8vL25vZGVfbW9kdWxlcy92ay11dmlldy11aS9saWJzL2Z1bmN0aW9uL3Rlc3QuanMiLCJ1bmktYXBwOi8vL25vZGVfbW9kdWxlcy92ay11dmlldy11aS9saWJzL3JlcXVlc3QvaW5kZXguanMiLCJ1bmktYXBwOi8vL25vZGVfbW9kdWxlcy92ay11dmlldy11aS9saWJzL2Z1bmN0aW9uL3F1ZXJ5UGFyYW1zLmpzIiwidW5pLWFwcDovLy9ub2RlX21vZHVsZXMvdmstdXZpZXctdWkvbGlicy9mdW5jdGlvbi9yb3V0ZS5qcyIsInVuaS1hcHA6Ly8vbm9kZV9tb2R1bGVzL3ZrLXV2aWV3LXVpL2xpYnMvZnVuY3Rpb24vdGltZUZvcm1hdC5qcyIsInVuaS1hcHA6Ly8vbm9kZV9tb2R1bGVzL3ZrLXV2aWV3LXVpL2xpYnMvZnVuY3Rpb24vdGltZUZyb20uanMiLCJ1bmktYXBwOi8vL25vZGVfbW9kdWxlcy92ay11dmlldy11aS9saWJzL2Z1bmN0aW9uL2NvbG9yR3JhZGllbnQuanMiLCJ1bmktYXBwOi8vL25vZGVfbW9kdWxlcy92ay11dmlldy11aS9saWJzL2Z1bmN0aW9uL2d1aWQuanMiLCJ1bmktYXBwOi8vL25vZGVfbW9kdWxlcy92ay11dmlldy11aS9saWJzL2Z1bmN0aW9uL2NvbG9yLmpzIiwidW5pLWFwcDovLy9ub2RlX21vZHVsZXMvdmstdXZpZXctdWkvbGlicy9mdW5jdGlvbi90eXBlMmljb24uanMiLCJ1bmktYXBwOi8vL25vZGVfbW9kdWxlcy92ay11dmlldy11aS9saWJzL2Z1bmN0aW9uL3JhbmRvbUFycmF5LmpzIiwidW5pLWFwcDovLy9ub2RlX21vZHVsZXMvdmstdXZpZXctdWkvbGlicy9mdW5jdGlvbi9hZGRVbml0LmpzIiwidW5pLWFwcDovLy9ub2RlX21vZHVsZXMvdmstdXZpZXctdWkvbGlicy9mdW5jdGlvbi9yYW5kb20uanMiLCJ1bmktYXBwOi8vL25vZGVfbW9kdWxlcy92ay11dmlldy11aS9saWJzL2Z1bmN0aW9uL3RyaW0uanMiLCJ1bmktYXBwOi8vL25vZGVfbW9kdWxlcy92ay11dmlldy11aS9saWJzL2Z1bmN0aW9uL3RvYXN0LmpzIiwidW5pLWFwcDovLy9ub2RlX21vZHVsZXMvdmstdXZpZXctdWkvbGlicy9mdW5jdGlvbi9nZXRQYXJlbnQuanMiLCJ1bmktYXBwOi8vL25vZGVfbW9kdWxlcy92ay11dmlldy11aS9saWJzL2Z1bmN0aW9uLyRwYXJlbnQuanMiLCJ1bmktYXBwOi8vL25vZGVfbW9kdWxlcy92ay11dmlldy11aS9saWJzL2Z1bmN0aW9uL3N5cy5qcyIsInVuaS1hcHA6Ly8vbm9kZV9tb2R1bGVzL3ZrLXV2aWV3LXVpL2xpYnMvZnVuY3Rpb24vZGVib3VuY2UuanMiLCJ1bmktYXBwOi8vL25vZGVfbW9kdWxlcy92ay11dmlldy11aS9saWJzL2Z1bmN0aW9uL3Rocm90dGxlLmpzIiwidW5pLWFwcDovLy9ub2RlX21vZHVsZXMvdmstdXZpZXctdWkvbGlicy9jb25maWcvY29uZmlnLmpzIiwidW5pLWFwcDovLy9ub2RlX21vZHVsZXMvdmstdXZpZXctdWkvbGlicy9jb25maWcvekluZGV4LmpzIiwidW5pLWFwcDovLy9ub2RlX21vZHVsZXMvdmstdXZpZXctdWkvaW5kZXguanMiLCJ1bmktYXBwOi8vL0FwcC52dWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNIVE1MVGFnLCBpc1NWR1RhZywgaHlwaGVuYXRlLCBjYW1lbGl6ZSwgaXNTdHJpbmcsIGlzRnVuY3Rpb24sIGlzUGxhaW5PYmplY3QsIGV4dGVuZCwgaXNBcnJheSwgY2FwaXRhbGl6ZSB9IGZyb20gJ0B2dWUvc2hhcmVkJztcclxuXHJcbmNvbnN0IEJVSUxUX0lOX1RBR19OQU1FUyA9IFtcclxuICAgICdhZCcsXHJcbiAgICAnYWQtY29udGVudC1wYWdlJyxcclxuICAgICdhZC1kcmF3JyxcclxuICAgICdhdWRpbycsXHJcbiAgICAnYnV0dG9uJyxcclxuICAgICdjYW1lcmEnLFxyXG4gICAgJ2NhbnZhcycsXHJcbiAgICAnY2hlY2tib3gnLFxyXG4gICAgJ2NoZWNrYm94LWdyb3VwJyxcclxuICAgICdjb3Zlci1pbWFnZScsXHJcbiAgICAnY292ZXItdmlldycsXHJcbiAgICAnZWRpdG9yJyxcclxuICAgICdmb3JtJyxcclxuICAgICdmdW5jdGlvbmFsLXBhZ2UtbmF2aWdhdG9yJyxcclxuICAgICdpY29uJyxcclxuICAgICdpbWFnZScsXHJcbiAgICAnaW5wdXQnLFxyXG4gICAgJ2xhYmVsJyxcclxuICAgICdsaXZlLXBsYXllcicsXHJcbiAgICAnbGl2ZS1wdXNoZXInLFxyXG4gICAgJ21hcCcsXHJcbiAgICAnbW92YWJsZS1hcmVhJyxcclxuICAgICdtb3ZhYmxlLXZpZXcnLFxyXG4gICAgJ25hdmlnYXRvcicsXHJcbiAgICAnb2ZmaWNpYWwtYWNjb3VudCcsXHJcbiAgICAnb3Blbi1kYXRhJyxcclxuICAgICdwaWNrZXInLFxyXG4gICAgJ3BpY2tlci12aWV3JyxcclxuICAgICdwaWNrZXItdmlldy1jb2x1bW4nLFxyXG4gICAgJ3Byb2dyZXNzJyxcclxuICAgICdyYWRpbycsXHJcbiAgICAncmFkaW8tZ3JvdXAnLFxyXG4gICAgJ3JpY2gtdGV4dCcsXHJcbiAgICAnc2Nyb2xsLXZpZXcnLFxyXG4gICAgJ3NsaWRlcicsXHJcbiAgICAnc3dpcGVyJyxcclxuICAgICdzd2lwZXItaXRlbScsXHJcbiAgICAnc3dpdGNoJyxcclxuICAgICd0ZXh0JyxcclxuICAgICd0ZXh0YXJlYScsXHJcbiAgICAndmlkZW8nLFxyXG4gICAgJ3ZpZXcnLFxyXG4gICAgJ3dlYi12aWV3JyxcclxuXTtcclxuY29uc3QgQlVJTFRfSU5fVEFHUyA9IEJVSUxUX0lOX1RBR19OQU1FUy5tYXAoKHRhZykgPT4gJ3VuaS0nICsgdGFnKTtcclxuY29uc3QgVEFHUyA9IFtcclxuICAgICdhcHAnLFxyXG4gICAgJ2xheW91dCcsXHJcbiAgICAnY29udGVudCcsXHJcbiAgICAnbWFpbicsXHJcbiAgICAndG9wLXdpbmRvdycsXHJcbiAgICAnbGVmdC13aW5kb3cnLFxyXG4gICAgJ3JpZ2h0LXdpbmRvdycsXHJcbiAgICAndGFiYmFyJyxcclxuICAgICdwYWdlJyxcclxuICAgICdwYWdlLWhlYWQnLFxyXG4gICAgJ3BhZ2Utd3JhcHBlcicsXHJcbiAgICAncGFnZS1ib2R5JyxcclxuICAgICdwYWdlLXJlZnJlc2gnLFxyXG4gICAgJ2FjdGlvbnNoZWV0JyxcclxuICAgICdtb2RhbCcsXHJcbiAgICAndG9hc3QnLFxyXG4gICAgJ3Jlc2l6ZS1zZW5zb3InLFxyXG4gICAgJ3NoYWRvdy1yb290JyxcclxuXS5tYXAoKHRhZykgPT4gJ3VuaS0nICsgdGFnKTtcclxuY29uc3QgTlZVRV9CVUlMVF9JTl9UQUdTID0gW1xyXG4gICAgJ3N2ZycsXHJcbiAgICAndmlldycsXHJcbiAgICAnYScsXHJcbiAgICAnZGl2JyxcclxuICAgICdpbWcnLFxyXG4gICAgJ2ltYWdlJyxcclxuICAgICd0ZXh0JyxcclxuICAgICdzcGFuJyxcclxuICAgICdpbnB1dCcsXHJcbiAgICAndGV4dGFyZWEnLFxyXG4gICAgJ3NwaW5uZXInLFxyXG4gICAgJ3NlbGVjdCcsXHJcbiAgICAvLyBzbGlkZXIg6KKr6Ieq5a6a5LmJIHUtc2xpZGVyIOabv+S7o1xyXG4gICAgLy8gJ3NsaWRlcicsXHJcbiAgICAnc2xpZGVyLW5laWdoYm9yJyxcclxuICAgICdpbmRpY2F0b3InLFxyXG4gICAgJ2NhbnZhcycsXHJcbiAgICAnbGlzdCcsXHJcbiAgICAnY2VsbCcsXHJcbiAgICAnaGVhZGVyJyxcclxuICAgICdsb2FkaW5nJyxcclxuICAgICdsb2FkaW5nLWluZGljYXRvcicsXHJcbiAgICAncmVmcmVzaCcsXHJcbiAgICAnc2Nyb2xsYWJsZScsXHJcbiAgICAnc2Nyb2xsZXInLFxyXG4gICAgJ3ZpZGVvJyxcclxuICAgICd3ZWInLFxyXG4gICAgJ2VtYmVkJyxcclxuICAgICd0YWJiYXInLFxyXG4gICAgJ3RhYmhlYWRlcicsXHJcbiAgICAnZGF0ZXBpY2tlcicsXHJcbiAgICAndGltZXBpY2tlcicsXHJcbiAgICAnbWFycXVlZScsXHJcbiAgICAnY291bnRkb3duJyxcclxuICAgICdkYy1zd2l0Y2gnLFxyXG4gICAgJ3dhdGVyZmFsbCcsXHJcbiAgICAncmljaHRleHQnLFxyXG4gICAgJ3JlY3ljbGUtbGlzdCcsXHJcbiAgICAndS1zY2FsYWJsZScsXHJcbiAgICAnYmFyY29kZScsXHJcbiAgICAnZ2NhbnZhcycsXHJcbl07XHJcbmNvbnN0IFVWVUVfQlVJTFRfSU5fVEFHUyA9IFsnbG9hZGluZy1pbmRpY2F0b3InXTtcclxuY29uc3QgTlZVRV9VX0JVSUxUX0lOX1RBR1MgPSBbXHJcbiAgICAndS10ZXh0JyxcclxuICAgICd1LWltYWdlJyxcclxuICAgICd1LWlucHV0JyxcclxuICAgICd1LXRleHRhcmVhJyxcclxuICAgICd1LXZpZGVvJyxcclxuICAgICd1LXdlYi12aWV3JyxcclxuICAgICd1LXNsaWRlcicsXHJcbiAgICAndS1hZCcsXHJcbiAgICAndS1hZC1kcmF3JyxcclxuICAgICd1LXJpY2gtdGV4dCcsXHJcbl07XHJcbmZ1bmN0aW9uIGlzQnVpbHRJbkNvbXBvbmVudCh0YWcpIHtcclxuICAgIC8vIGg1IOW5s+WPsOS8muiiq+i9rOaNouS4uiB2LXVuaS1cclxuICAgIHJldHVybiBCVUlMVF9JTl9UQUdTLmluZGV4T2YoJ3VuaS0nICsgdGFnLnJlcGxhY2UoJ3YtdW5pLScsICcnKSkgIT09IC0xO1xyXG59XHJcbmZ1bmN0aW9uIGlzSDVDdXN0b21FbGVtZW50KHRhZykge1xyXG4gICAgcmV0dXJuIFRBR1MuaW5kZXhPZih0YWcpICE9PSAtMSB8fCBCVUlMVF9JTl9UQUdTLmluZGV4T2YodGFnKSAhPT0gLTE7XHJcbn1cclxuZnVuY3Rpb24gaXNINU5hdGl2ZVRhZyh0YWcpIHtcclxuICAgIHJldHVybiAodGFnICE9PSAnaGVhZCcgJiZcclxuICAgICAgICAoaXNIVE1MVGFnKHRhZykgfHwgaXNTVkdUYWcodGFnKSkgJiZcclxuICAgICAgICAhaXNCdWlsdEluQ29tcG9uZW50KHRhZykpO1xyXG59XHJcbmZ1bmN0aW9uIGlzQXBwTmF0aXZlVGFnKHRhZykge1xyXG4gICAgcmV0dXJuIGlzSFRNTFRhZyh0YWcpIHx8IGlzU1ZHVGFnKHRhZykgfHwgaXNCdWlsdEluQ29tcG9uZW50KHRhZyk7XHJcbn1cclxuY29uc3QgTlZVRV9DVVNUT01fQ09NUE9ORU5UUyA9IFtcclxuICAgICdhZCcsXHJcbiAgICAnYWQtZHJhdycsXHJcbiAgICAnYnV0dG9uJyxcclxuICAgICdjaGVja2JveC1ncm91cCcsXHJcbiAgICAnY2hlY2tib3gnLFxyXG4gICAgJ2Zvcm0nLFxyXG4gICAgJ2ljb24nLFxyXG4gICAgJ2xhYmVsJyxcclxuICAgICdtb3ZhYmxlLWFyZWEnLFxyXG4gICAgJ21vdmFibGUtdmlldycsXHJcbiAgICAnbmF2aWdhdG9yJyxcclxuICAgICdwaWNrZXInLFxyXG4gICAgJ3Byb2dyZXNzJyxcclxuICAgICdyYWRpby1ncm91cCcsXHJcbiAgICAncmFkaW8nLFxyXG4gICAgJ3JpY2gtdGV4dCcsXHJcbiAgICAnc3dpcGVyLWl0ZW0nLFxyXG4gICAgJ3N3aXBlcicsXHJcbiAgICAnc3dpdGNoJyxcclxuICAgICdzbGlkZXInLFxyXG4gICAgJ3BpY2tlci12aWV3JyxcclxuICAgICdwaWNrZXItdmlldy1jb2x1bW4nLFxyXG5dO1xyXG5mdW5jdGlvbiBpc0FwcFVWdWVOYXRpdmVUYWcodGFnKSB7XHJcbiAgICBpZiAoVVZVRV9CVUlMVF9JTl9UQUdTLmluY2x1ZGVzKHRhZykpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChOVlVFX0NVU1RPTV9DT01QT05FTlRTLmluY2x1ZGVzKHRhZykpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNCdWlsdEluQ29tcG9uZW50KHRhZykpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIHUtdGV4dCx1LXZpZGVvLi4uXHJcbiAgICBpZiAoTlZVRV9VX0JVSUxUX0lOX1RBR1MuaW5jbHVkZXModGFnKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIGlzQXBwTlZ1ZU5hdGl2ZVRhZyh0YWcpIHtcclxuICAgIGlmIChOVlVFX0JVSUxUX0lOX1RBR1MuaW5jbHVkZXModGFnKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKE5WVUVfQ1VTVE9NX0NPTVBPTkVOVFMuaW5jbHVkZXModGFnKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChpc0J1aWx0SW5Db21wb25lbnQodGFnKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gdS10ZXh0LHUtdmlkZW8uLi5cclxuICAgIGlmIChOVlVFX1VfQlVJTFRfSU5fVEFHUy5pbmNsdWRlcyh0YWcpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gaXNNaW5pUHJvZ3JhbU5hdGl2ZVRhZyh0YWcpIHtcclxuICAgIHJldHVybiBpc0J1aWx0SW5Db21wb25lbnQodGFnKTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVJc0N1c3RvbUVsZW1lbnQodGFncyA9IFtdKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gaXNDdXN0b21FbGVtZW50KHRhZykge1xyXG4gICAgICAgIHJldHVybiB0YWdzLmluY2x1ZGVzKHRhZyk7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGlzQ29tcG9uZW50VGFnKHRhZykge1xyXG4gICAgcmV0dXJuIHRhZ1swXS50b0xvd2VyQ2FzZSgpICsgdGFnLnNsaWNlKDEpID09PSAnY29tcG9uZW50JztcclxufVxyXG5jb25zdCBDT01QT05FTlRfU0VMRUNUT1JfUFJFRklYID0gJ3VuaS0nO1xyXG5jb25zdCBDT01QT05FTlRfUFJFRklYID0gJ3YtJyArIENPTVBPTkVOVF9TRUxFQ1RPUl9QUkVGSVg7XHJcblxyXG5jb25zdCBMSU5FRkVFRCA9ICdcXG4nO1xyXG5jb25zdCBOQVZCQVJfSEVJR0hUID0gNDQ7XHJcbmNvbnN0IFRBQkJBUl9IRUlHSFQgPSA1MDtcclxuY29uc3QgT05fUkVBQ0hfQk9UVE9NX0RJU1RBTkNFID0gNTA7XHJcbmNvbnN0IFJFU1BPTlNJVkVfTUlOX1dJRFRIID0gNzY4O1xyXG5jb25zdCBVTklfU1RPUkFHRV9MT0NBTEUgPSAnVU5JX0xPQ0FMRSc7XHJcbi8vIHF1aWNrYXBwLXdlYnZpZXcg5LiN6IO95L2/55SoIGRlZmF1bHQg5L2c5Li65o+S5qe95ZCN56ewXHJcbmNvbnN0IFNMT1RfREVGQVVMVF9OQU1FID0gJ2QnO1xyXG5jb25zdCBDT01QT05FTlRfTkFNRV9QUkVGSVggPSAnVlVuaSc7XHJcbmNvbnN0IEkxOE5fSlNPTl9ERUxJTUlURVJTID0gWyclJywgJyUnXTtcclxuY29uc3QgUFJJTUFSWV9DT0xPUiA9ICcjMDA3YWZmJztcclxuY29uc3QgU0VMRUNURURfQ09MT1IgPSAnIzAwNjJjYyc7IC8vIOmAieS4reeahOminOiJsu+8jOWmgumAiemhueWNoem7mOiupOeahOmAieS4reminOiJslxyXG5jb25zdCBCQUNLR1JPVU5EX0NPTE9SID0gJyNmN2Y3ZjcnOyAvLyDog4zmma/oibLvvIzlpoLmoIfpopjmoI/pu5jorqTog4zmma/oibJcclxuY29uc3QgVU5JX1NTUiA9ICdfX3VuaVNTUic7XHJcbmNvbnN0IFVOSV9TU1JfVElUTEUgPSAndGl0bGUnO1xyXG5jb25zdCBVTklfU1NSX1NUT1JFID0gJ3N0b3JlJztcclxuY29uc3QgVU5JX1NTUl9EQVRBID0gJ2RhdGEnO1xyXG5jb25zdCBVTklfU1NSX0dMT0JBTF9EQVRBID0gJ2dsb2JhbERhdGEnO1xyXG5jb25zdCBTQ0hFTUVfUkUgPSAvXihbYS16LV0rOik/XFwvXFwvL2k7XHJcbmNvbnN0IERBVEFfUkUgPSAvXmRhdGE6LiosLiovO1xyXG5jb25zdCBXRUJfSU5WT0tFX0FQUFNFUlZJQ0UgPSAnV0VCX0lOVk9LRV9BUFBTRVJWSUNFJztcclxuY29uc3QgV1hTX1BST1RPQ09MID0gJ3d4czovLyc7XHJcbmNvbnN0IEpTT05fUFJPVE9DT0wgPSAnanNvbjovLyc7XHJcbmNvbnN0IFdYU19NT0RVTEVTID0gJ3d4c01vZHVsZXMnO1xyXG5jb25zdCBSRU5ERVJKU19NT0RVTEVTID0gJ3JlbmRlcmpzTW9kdWxlcyc7XHJcbi8vIGxpZmVjeWNsZVxyXG4vLyBBcHAgYW5kIFBhZ2VcclxuY29uc3QgT05fU0hPVyA9ICdvblNob3cnO1xyXG5jb25zdCBPTl9ISURFID0gJ29uSGlkZSc7XHJcbi8vQXBwXHJcbmNvbnN0IE9OX0xBVU5DSCA9ICdvbkxhdW5jaCc7XHJcbmNvbnN0IE9OX0VSUk9SID0gJ29uRXJyb3InO1xyXG5jb25zdCBPTl9USEVNRV9DSEFOR0UgPSAnb25UaGVtZUNoYW5nZSc7XHJcbmNvbnN0IE9GRl9USEVNRV9DSEFOR0UgPSAnb2ZmVGhlbWVDaGFuZ2UnO1xyXG5jb25zdCBPTl9LRVlCT0FSRF9IRUlHSFRfQ0hBTkdFID0gJ29uS2V5Ym9hcmRIZWlnaHRDaGFuZ2UnO1xyXG5jb25zdCBPTl9QQUdFX05PVF9GT1VORCA9ICdvblBhZ2VOb3RGb3VuZCc7XHJcbmNvbnN0IE9OX1VOSEFORExFX1JFSkVDVElPTiA9ICdvblVuaGFuZGxlZFJlamVjdGlvbic7XHJcbi8vUGFnZVxyXG5jb25zdCBPTl9MT0FEID0gJ29uTG9hZCc7XHJcbmNvbnN0IE9OX1JFQURZID0gJ29uUmVhZHknO1xyXG5jb25zdCBPTl9VTkxPQUQgPSAnb25VbmxvYWQnO1xyXG4vLyDnmb7luqbnibnmnIlcclxuY29uc3QgT05fSU5JVCA9ICdvbkluaXQnO1xyXG4vLyDlvq7kv6HnibnmnIlcclxuY29uc3QgT05fU0FWRV9FWElUX1NUQVRFID0gJ29uU2F2ZUV4aXRTdGF0ZSc7XHJcbmNvbnN0IE9OX1JFU0laRSA9ICdvblJlc2l6ZSc7XHJcbmNvbnN0IE9OX0JBQ0tfUFJFU1MgPSAnb25CYWNrUHJlc3MnO1xyXG5jb25zdCBPTl9QQUdFX1NDUk9MTCA9ICdvblBhZ2VTY3JvbGwnO1xyXG5jb25zdCBPTl9UQUJfSVRFTV9UQVAgPSAnb25UYWJJdGVtVGFwJztcclxuY29uc3QgT05fUkVBQ0hfQk9UVE9NID0gJ29uUmVhY2hCb3R0b20nO1xyXG5jb25zdCBPTl9QVUxMX0RPV05fUkVGUkVTSCA9ICdvblB1bGxEb3duUmVmcmVzaCc7XHJcbmNvbnN0IE9OX1NIQVJFX1RJTUVMSU5FID0gJ29uU2hhcmVUaW1lbGluZSc7XHJcbmNvbnN0IE9OX0FERF9UT19GQVZPUklURVMgPSAnb25BZGRUb0Zhdm9yaXRlcyc7XHJcbmNvbnN0IE9OX1NIQVJFX0FQUF9NRVNTQUdFID0gJ29uU2hhcmVBcHBNZXNzYWdlJztcclxuLy8gbmF2aWdhdGlvbkJhclxyXG5jb25zdCBPTl9OQVZJR0FUSU9OX0JBUl9CVVRUT05fVEFQID0gJ29uTmF2aWdhdGlvbkJhckJ1dHRvblRhcCc7XHJcbmNvbnN0IE9OX05BVklHQVRJT05fQkFSX0NIQU5HRSA9ICdvbk5hdmlnYXRpb25CYXJDaGFuZ2UnO1xyXG5jb25zdCBPTl9OQVZJR0FUSU9OX0JBUl9TRUFSQ0hfSU5QVVRfQ0xJQ0tFRCA9ICdvbk5hdmlnYXRpb25CYXJTZWFyY2hJbnB1dENsaWNrZWQnO1xyXG5jb25zdCBPTl9OQVZJR0FUSU9OX0JBUl9TRUFSQ0hfSU5QVVRfQ0hBTkdFRCA9ICdvbk5hdmlnYXRpb25CYXJTZWFyY2hJbnB1dENoYW5nZWQnO1xyXG5jb25zdCBPTl9OQVZJR0FUSU9OX0JBUl9TRUFSQ0hfSU5QVVRfQ09ORklSTUVEID0gJ29uTmF2aWdhdGlvbkJhclNlYXJjaElucHV0Q29uZmlybWVkJztcclxuY29uc3QgT05fTkFWSUdBVElPTl9CQVJfU0VBUkNIX0lOUFVUX0ZPQ1VTX0NIQU5HRUQgPSAnb25OYXZpZ2F0aW9uQmFyU2VhcmNoSW5wdXRGb2N1c0NoYW5nZWQnO1xyXG4vLyBmcmFtZXdvcmtcclxuY29uc3QgT05fQVBQX0VOVEVSX0ZPUkVHUk9VTkQgPSAnb25BcHBFbnRlckZvcmVncm91bmQnO1xyXG5jb25zdCBPTl9BUFBfRU5URVJfQkFDS0dST1VORCA9ICdvbkFwcEVudGVyQmFja2dyb3VuZCc7XHJcbmNvbnN0IE9OX1dFQl9JTlZPS0VfQVBQX1NFUlZJQ0UgPSAnb25XZWJJbnZva2VBcHBTZXJ2aWNlJztcclxuY29uc3QgT05fV1hTX0lOVk9LRV9DQUxMX01FVEhPRCA9ICdvbld4c0ludm9rZUNhbGxNZXRob2QnO1xyXG5cclxuZnVuY3Rpb24gaXNDb21wb25lbnRJbnRlcm5hbEluc3RhbmNlKHZtKSB7XHJcbiAgICByZXR1cm4gISF2bS5hcHBDb250ZXh0O1xyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmVDb21wb25lbnRJbnN0YW5jZShpbnN0YW5jZSkge1xyXG4gICAgcmV0dXJuIChpbnN0YW5jZSAmJlxyXG4gICAgICAgIChpc0NvbXBvbmVudEludGVybmFsSW5zdGFuY2UoaW5zdGFuY2UpID8gaW5zdGFuY2UucHJveHkgOiBpbnN0YW5jZSkpO1xyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmVPd25lclZtKHZtKSB7XHJcbiAgICBpZiAoIXZtKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IGNvbXBvbmVudE5hbWUgPSB2bS50eXBlLm5hbWU7XHJcbiAgICB3aGlsZSAoY29tcG9uZW50TmFtZSAmJiBpc0J1aWx0SW5Db21wb25lbnQoaHlwaGVuYXRlKGNvbXBvbmVudE5hbWUpKSkge1xyXG4gICAgICAgIC8vIG93bmVySW5zdGFuY2Ug5YaF572u57uE5Lu26ZyA6KaB5L2/55So54i2IHZtXHJcbiAgICAgICAgdm0gPSB2bS5wYXJlbnQ7XHJcbiAgICAgICAgY29tcG9uZW50TmFtZSA9IHZtLnR5cGUubmFtZTtcclxuICAgIH1cclxuICAgIHJldHVybiB2bS5wcm94eTtcclxufVxyXG5mdW5jdGlvbiBpc0VsZW1lbnQoZWwpIHtcclxuICAgIC8vIEVsZW1lbnRcclxuICAgIHJldHVybiBlbC5ub2RlVHlwZSA9PT0gMTtcclxufVxyXG5mdW5jdGlvbiByZXNvbHZlT3duZXJFbChpbnN0YW5jZSwgbXVsdGkgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgeyB2bm9kZSB9ID0gaW5zdGFuY2U7XHJcbiAgICBpZiAoaXNFbGVtZW50KHZub2RlLmVsKSkge1xyXG4gICAgICAgIHJldHVybiBtdWx0aSA/ICh2bm9kZS5lbCA/IFt2bm9kZS5lbF0gOiBbXSkgOiB2bm9kZS5lbDtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgc3ViVHJlZSB9ID0gaW5zdGFuY2U7XHJcbiAgICAvLyBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOID0gMTw8NFxyXG4gICAgaWYgKHN1YlRyZWUuc2hhcGVGbGFnICYgMTYpIHtcclxuICAgICAgICBjb25zdCBlbGVtVk5vZGVzID0gc3ViVHJlZS5jaGlsZHJlbi5maWx0ZXIoKHZub2RlKSA9PiB2bm9kZS5lbCAmJiBpc0VsZW1lbnQodm5vZGUuZWwpKTtcclxuICAgICAgICBpZiAoZWxlbVZOb2Rlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGlmIChtdWx0aSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1WTm9kZXMubWFwKChub2RlKSA9PiBub2RlLmVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZWxlbVZOb2Rlc1swXS5lbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbXVsdGkgPyAodm5vZGUuZWwgPyBbdm5vZGUuZWxdIDogW10pIDogdm5vZGUuZWw7XHJcbn1cclxuZnVuY3Rpb24gZHluYW1pY1Nsb3ROYW1lKG5hbWUpIHtcclxuICAgIHJldHVybiBuYW1lID09PSAnZGVmYXVsdCcgPyBTTE9UX0RFRkFVTFRfTkFNRSA6IG5hbWU7XHJcbn1cclxuY29uc3QgY3VzdG9taXplUkUgPSAvOi9nO1xyXG5mdW5jdGlvbiBjdXN0b21pemVFdmVudChzdHIpIHtcclxuICAgIHJldHVybiBjYW1lbGl6ZShzdHIucmVwbGFjZShjdXN0b21pemVSRSwgJy0nKSk7XHJcbn1cclxuXHJcbmxldCBsYXN0TG9nVGltZSA9IDA7XHJcbmZ1bmN0aW9uIGZvcm1hdExvZyhtb2R1bGUsIC4uLmFyZ3MpIHtcclxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCBkaWZmID0gbGFzdExvZ1RpbWUgPyBub3cgLSBsYXN0TG9nVGltZSA6IDA7XHJcbiAgICBsYXN0TG9nVGltZSA9IG5vdztcclxuICAgIHJldHVybiBgWyR7bm93fV1bJHtkaWZmfW1zXVske21vZHVsZX1d77yaJHthcmdzXHJcbiAgICAgICAgLm1hcCgoYXJnKSA9PiBKU09OLnN0cmluZ2lmeShhcmcpKVxyXG4gICAgICAgIC5qb2luKCcgJyl9YDtcclxufVxyXG5cclxuZnVuY3Rpb24gY2FjaGUoZm4pIHtcclxuICAgIGNvbnN0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHJldHVybiAoc3RyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaGl0ID0gY2FjaGVbc3RyXTtcclxuICAgICAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSk7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGNhY2hlU3RyaW5nRnVuY3Rpb24oZm4pIHtcclxuICAgIHJldHVybiBjYWNoZShmbik7XHJcbn1cclxuZnVuY3Rpb24gZ2V0TGVuKHN0ciA9ICcnKSB7XHJcbiAgICByZXR1cm4gKCcnICsgc3RyKS5yZXBsYWNlKC9bXlxceDAwLVxceGZmXS9nLCAnKionKS5sZW5ndGg7XHJcbn1cclxuZnVuY3Rpb24gaGFzTGVhZGluZ1NsYXNoKHN0cikge1xyXG4gICAgcmV0dXJuIHN0ci5pbmRleE9mKCcvJykgPT09IDA7XHJcbn1cclxuZnVuY3Rpb24gYWRkTGVhZGluZ1NsYXNoKHN0cikge1xyXG4gICAgcmV0dXJuIGhhc0xlYWRpbmdTbGFzaChzdHIpID8gc3RyIDogJy8nICsgc3RyO1xyXG59XHJcbmZ1bmN0aW9uIHJlbW92ZUxlYWRpbmdTbGFzaChzdHIpIHtcclxuICAgIHJldHVybiBoYXNMZWFkaW5nU2xhc2goc3RyKSA/IHN0ci5zbGljZSgxKSA6IHN0cjtcclxufVxyXG5jb25zdCBpbnZva2VBcnJheUZucyA9IChmbnMsIGFyZykgPT4ge1xyXG4gICAgbGV0IHJldDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgcmV0ID0gZm5zW2ldKGFyZyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0O1xyXG59O1xyXG5mdW5jdGlvbiB1cGRhdGVFbGVtZW50U3R5bGUoZWxlbWVudCwgc3R5bGVzKSB7XHJcbiAgICBmb3IgKGNvbnN0IGF0dHJOYW1lIGluIHN0eWxlcykge1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGVbYXR0ck5hbWVdID0gc3R5bGVzW2F0dHJOYW1lXTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBvbmNlKGZuLCBjdHggPSBudWxsKSB7XHJcbiAgICBsZXQgcmVzO1xyXG4gICAgcmV0dXJuICgoLi4uYXJncykgPT4ge1xyXG4gICAgICAgIGlmIChmbikge1xyXG4gICAgICAgICAgICByZXMgPSBmbi5hcHBseShjdHgsIGFyZ3MpO1xyXG4gICAgICAgICAgICBmbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9KTtcclxufVxyXG5jb25zdCBzYW5pdGlzZSA9ICh2YWwpID0+ICh2YWwgJiYgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2YWwpKSkgfHwgdmFsO1xyXG5jb25zdCBfY29tcGxldGVWYWx1ZSA9ICh2YWx1ZSkgPT4gKHZhbHVlID4gOSA/IHZhbHVlIDogJzAnICsgdmFsdWUpO1xyXG5mdW5jdGlvbiBmb3JtYXREYXRlVGltZSh7IGRhdGUgPSBuZXcgRGF0ZSgpLCBtb2RlID0gJ2RhdGUnIH0pIHtcclxuICAgIGlmIChtb2RlID09PSAndGltZScpIHtcclxuICAgICAgICByZXR1cm4gKF9jb21wbGV0ZVZhbHVlKGRhdGUuZ2V0SG91cnMoKSkgKyAnOicgKyBfY29tcGxldGVWYWx1ZShkYXRlLmdldE1pbnV0ZXMoKSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIChkYXRlLmdldEZ1bGxZZWFyKCkgK1xyXG4gICAgICAgICAgICAnLScgK1xyXG4gICAgICAgICAgICBfY29tcGxldGVWYWx1ZShkYXRlLmdldE1vbnRoKCkgKyAxKSArXHJcbiAgICAgICAgICAgICctJyArXHJcbiAgICAgICAgICAgIF9jb21wbGV0ZVZhbHVlKGRhdGUuZ2V0RGF0ZSgpKSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2FsbE9wdGlvbnMob3B0aW9ucywgZGF0YSkge1xyXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICBpZiAoaXNTdHJpbmcoZGF0YSkpIHtcclxuICAgICAgICBkYXRhID0ge1xyXG4gICAgICAgICAgICBlcnJNc2c6IGRhdGEsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGlmICgvOm9rJC8udGVzdChkYXRhLmVyck1zZykpIHtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLnN1Y2Nlc3MpKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuc3VjY2VzcyhkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLmZhaWwpKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuZmFpbChkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLmNvbXBsZXRlKSkge1xyXG4gICAgICAgIG9wdGlvbnMuY29tcGxldGUoZGF0YSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0VmFsdWVCeURhdGFQYXRoKG9iaiwgcGF0aCkge1xyXG4gICAgaWYgKCFpc1N0cmluZyhwYXRoKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL1xcWyhcXGQrKVxcXS9nLCAnLiQxJyk7XHJcbiAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoJy4nKTtcclxuICAgIGxldCBrZXkgPSBwYXJ0c1swXTtcclxuICAgIGlmICghb2JqKSB7XHJcbiAgICAgICAgb2JqID0ge307XHJcbiAgICB9XHJcbiAgICBpZiAocGFydHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIG9ialtrZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdldFZhbHVlQnlEYXRhUGF0aChvYmpba2V5XSwgcGFydHMuc2xpY2UoMSkuam9pbignLicpKTtcclxufVxyXG5mdW5jdGlvbiBzb3J0T2JqZWN0KG9iaikge1xyXG4gICAgbGV0IHNvcnRPYmogPSB7fTtcclxuICAgIGlmIChpc1BsYWluT2JqZWN0KG9iaikpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhvYmopXHJcbiAgICAgICAgICAgIC5zb3J0KClcclxuICAgICAgICAgICAgLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBfa2V5ID0ga2V5O1xyXG4gICAgICAgICAgICBzb3J0T2JqW19rZXldID0gb2JqW19rZXldO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICFPYmplY3Qua2V5cyhzb3J0T2JqKSA/IG9iaiA6IHNvcnRPYmo7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1hdEtleShrZXkpIHtcclxuICAgIHJldHVybiBjYW1lbGl6ZShrZXkuc3Vic3RyaW5nKDUpKTtcclxufVxyXG4vLyBxdWVzdGlvbi8xMzkxODHvvIzlop7liqDlia/kvZznlKjvvIzpgb/lhY0gaW5pdEN1c3RvbURhdGFzZXQg5ZyoIGJ1aWxkIOS4i+iiqyB0cmVlLXNoYWtpbmdcclxuY29uc3QgaW5pdEN1c3RvbURhdGFzZXRPbmNlID0gLyojX19QVVJFX18qLyBvbmNlKCgpID0+IHtcclxuICAgIGNvbnN0IHByb3RvdHlwZSA9IEhUTUxFbGVtZW50LnByb3RvdHlwZTtcclxuICAgIGNvbnN0IHNldEF0dHJpYnV0ZSA9IHByb3RvdHlwZS5zZXRBdHRyaWJ1dGU7XHJcbiAgICBwcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ2RhdGEtJykgJiYgdGhpcy50YWdOYW1lLnN0YXJ0c1dpdGgoJ1VOSS0nKSkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhc2V0ID0gdGhpcy5fX3VuaURhdGFzZXQgfHxcclxuICAgICAgICAgICAgICAgICh0aGlzLl9fdW5pRGF0YXNldCA9IHt9KTtcclxuICAgICAgICAgICAgZGF0YXNldFtmb3JtYXRLZXkoa2V5KV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0QXR0cmlidXRlLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVtb3ZlQXR0cmlidXRlID0gcHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZTtcclxuICAgIHByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX191bmlEYXRhc2V0ICYmXHJcbiAgICAgICAgICAgIGtleS5zdGFydHNXaXRoKCdkYXRhLScpICYmXHJcbiAgICAgICAgICAgIHRoaXMudGFnTmFtZS5zdGFydHNXaXRoKCdVTkktJykpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX191bmlEYXRhc2V0W2Zvcm1hdEtleShrZXkpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVtb3ZlQXR0cmlidXRlLmNhbGwodGhpcywga2V5KTtcclxuICAgIH07XHJcbn0pO1xyXG5mdW5jdGlvbiBnZXRDdXN0b21EYXRhc2V0KGVsKSB7XHJcbiAgICByZXR1cm4gZXh0ZW5kKHt9LCBlbC5kYXRhc2V0LCBlbC5fX3VuaURhdGFzZXQpO1xyXG59XHJcblxyXG5jb25zdCB1bml0UkUgPSBuZXcgUmVnRXhwKGBcIlteXCJdK1wifCdbXiddKyd8dXJsXFxcXChbXildK1xcXFwpfChcXFxcZCpcXFxcLj9cXFxcZCspW3J8dV1weGAsICdnJyk7XHJcbmZ1bmN0aW9uIHRvRml4ZWQobnVtYmVyLCBwcmVjaXNpb24pIHtcclxuICAgIGNvbnN0IG11bHRpcGxpZXIgPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uICsgMSk7XHJcbiAgICBjb25zdCB3aG9sZU51bWJlciA9IE1hdGguZmxvb3IobnVtYmVyICogbXVsdGlwbGllcik7XHJcbiAgICByZXR1cm4gKE1hdGgucm91bmQod2hvbGVOdW1iZXIgLyAxMCkgKiAxMCkgLyBtdWx0aXBsaWVyO1xyXG59XHJcbmNvbnN0IGRlZmF1bHRScHgyVW5pdCA9IHtcclxuICAgIHVuaXQ6ICdyZW0nLFxyXG4gICAgdW5pdFJhdGlvOiAxMCAvIDMyMCxcclxuICAgIHVuaXRQcmVjaXNpb246IDUsXHJcbn07XHJcbmNvbnN0IGRlZmF1bHRNaW5pUHJvZ3JhbVJweDJVbml0ID0ge1xyXG4gICAgdW5pdDogJ3JweCcsXHJcbiAgICB1bml0UmF0aW86IDEsXHJcbiAgICB1bml0UHJlY2lzaW9uOiAxLFxyXG59O1xyXG5jb25zdCBkZWZhdWx0TlZ1ZVJweDJVbml0ID0gZGVmYXVsdE1pbmlQcm9ncmFtUnB4MlVuaXQ7XHJcbmZ1bmN0aW9uIGNyZWF0ZVJweDJVbml0KHVuaXQsIHVuaXRSYXRpbywgdW5pdFByZWNpc2lvbikge1xyXG4gICAgLy8gaWdub3JlOiBycHhDYWxjSW5jbHVkZVdpZHRoXHJcbiAgICByZXR1cm4gKHZhbCkgPT4gdmFsLnJlcGxhY2UodW5pdFJFLCAobSwgJDEpID0+IHtcclxuICAgICAgICBpZiAoISQxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodW5pdFJhdGlvID09PSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHskMX0ke3VuaXR9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0b0ZpeGVkKHBhcnNlRmxvYXQoJDEpICogdW5pdFJhdGlvLCB1bml0UHJlY2lzaW9uKTtcclxuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyAnMCcgOiBgJHt2YWx1ZX0ke3VuaXR9YDtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXNzaXZlKHBhc3NpdmUpIHtcclxuICAgIHJldHVybiB7IHBhc3NpdmUgfTtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVEYXRhc2V0KGVsKSB7XHJcbiAgICAvLyBUT0RPXHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlbC5kYXRhc2V0IHx8IHt9KSk7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplVGFyZ2V0KGVsKSB7XHJcbiAgICBjb25zdCB7IGlkLCBvZmZzZXRUb3AsIG9mZnNldExlZnQgfSA9IGVsO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpZCxcclxuICAgICAgICBkYXRhc2V0OiBnZXRDdXN0b21EYXRhc2V0KGVsKSxcclxuICAgICAgICBvZmZzZXRUb3AsXHJcbiAgICAgICAgb2Zmc2V0TGVmdCxcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gYWRkRm9udChmYW1pbHksIHNvdXJjZSwgZGVzYykge1xyXG4gICAgY29uc3QgZm9udHMgPSBkb2N1bWVudC5mb250cztcclxuICAgIGlmIChmb250cykge1xyXG4gICAgICAgIGNvbnN0IGZvbnRGYWNlID0gbmV3IEZvbnRGYWNlKGZhbWlseSwgc291cmNlLCBkZXNjKTtcclxuICAgICAgICByZXR1cm4gZm9udEZhY2UubG9hZCgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBmb250cy5hZGQgJiYgZm9udHMuYWRkKGZvbnRGYWNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcclxuICAgICAgICBpZiAoZGVzYykge1xyXG4gICAgICAgICAgICBjb25zdCB7IHN0eWxlLCB3ZWlnaHQsIHN0cmV0Y2gsIHVuaWNvZGVSYW5nZSwgdmFyaWFudCwgZmVhdHVyZVNldHRpbmdzIH0gPSBkZXNjO1xyXG4gICAgICAgICAgICBzdHlsZSAmJiB2YWx1ZXMucHVzaChgZm9udC1zdHlsZToke3N0eWxlfWApO1xyXG4gICAgICAgICAgICB3ZWlnaHQgJiYgdmFsdWVzLnB1c2goYGZvbnQtd2VpZ2h0OiR7d2VpZ2h0fWApO1xyXG4gICAgICAgICAgICBzdHJldGNoICYmIHZhbHVlcy5wdXNoKGBmb250LXN0cmV0Y2g6JHtzdHJldGNofWApO1xyXG4gICAgICAgICAgICB1bmljb2RlUmFuZ2UgJiYgdmFsdWVzLnB1c2goYHVuaWNvZGUtcmFuZ2U6JHt1bmljb2RlUmFuZ2V9YCk7XHJcbiAgICAgICAgICAgIHZhcmlhbnQgJiYgdmFsdWVzLnB1c2goYGZvbnQtdmFyaWFudDoke3ZhcmlhbnR9YCk7XHJcbiAgICAgICAgICAgIGZlYXR1cmVTZXR0aW5ncyAmJiB2YWx1ZXMucHVzaChgZm9udC1mZWF0dXJlLXNldHRpbmdzOiR7ZmVhdHVyZVNldHRpbmdzfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdHlsZS5pbm5lclRleHQgPSBgQGZvbnQtZmFjZXtmb250LWZhbWlseTpcIiR7ZmFtaWx5fVwiO3NyYzoke3NvdXJjZX07JHt2YWx1ZXMuam9pbignOycpfX1gO1xyXG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHNjcm9sbFRvKHNjcm9sbFRvcCwgZHVyYXRpb24sIGlzSDUpIHtcclxuICAgIGlmIChpc1N0cmluZyhzY3JvbGxUb3ApKSB7XHJcbiAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNjcm9sbFRvcCk7XHJcbiAgICAgICAgaWYgKGVsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgaGVpZ2h0LCB0b3AgfSA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICBzY3JvbGxUb3AgPSB0b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQ7XHJcbiAgICAgICAgICAgIGlmIChpc0g1KSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUb3AgLT0gaGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNjcm9sbFRvcCA8IDApIHtcclxuICAgICAgICBzY3JvbGxUb3AgPSAwO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgY29uc3QgeyBjbGllbnRIZWlnaHQsIHNjcm9sbEhlaWdodCB9ID0gZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgc2Nyb2xsVG9wID0gTWF0aC5taW4oc2Nyb2xsVG9wLCBzY3JvbGxIZWlnaHQgLSBjbGllbnRIZWlnaHQpO1xyXG4gICAgaWYgKGR1cmF0aW9uID09PSAwKSB7XHJcbiAgICAgICAgLy8g6YOo5YiG5rWP6KeI5Zmo77yI5q+U5aaC5b6u5L+h77yJ5LitIHNjcm9sbFRvcCDnmoTlgLzpnIDopoHpgJrov4cgZG9jdW1lbnQuYm9keSDmnaXmjqfliLZcclxuICAgICAgICBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHdpbmRvdy5zY3JvbGxZID09PSBzY3JvbGxUb3ApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBzY3JvbGxUbyA9IChkdXJhdGlvbikgPT4ge1xyXG4gICAgICAgIGlmIChkdXJhdGlvbiA8PSAwKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCBzY3JvbGxUb3ApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRpc3RhaW5jZSA9IHNjcm9sbFRvcCAtIHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCB3aW5kb3cuc2Nyb2xsWSArIChkaXN0YWluY2UgLyBkdXJhdGlvbikgKiAxMCk7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvKGR1cmF0aW9uIC0gMTApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHNjcm9sbFRvKGR1cmF0aW9uKTtcclxufVxyXG5cclxuY29uc3QgZW5jb2RlID0gZW5jb2RlVVJJQ29tcG9uZW50O1xyXG5mdW5jdGlvbiBzdHJpbmdpZnlRdWVyeShvYmosIGVuY29kZVN0ciA9IGVuY29kZSkge1xyXG4gICAgY29uc3QgcmVzID0gb2JqXHJcbiAgICAgICAgPyBPYmplY3Qua2V5cyhvYmopXHJcbiAgICAgICAgICAgIC5tYXAoKGtleSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdmFsID0gb2JqW2tleV07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSB1bmRlZmluZWQgfHwgdmFsID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbCkpIHtcclxuICAgICAgICAgICAgICAgIHZhbCA9IEpTT04uc3RyaW5naWZ5KHZhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVuY29kZVN0cihrZXkpICsgJz0nICsgZW5jb2RlU3RyKHZhbCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmZpbHRlcigoeCkgPT4geC5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAuam9pbignJicpXHJcbiAgICAgICAgOiBudWxsO1xyXG4gICAgcmV0dXJuIHJlcyA/IGA/JHtyZXN9YCA6ICcnO1xyXG59XHJcbi8qKlxyXG4gKiBEZWNvZGUgdGV4dCB1c2luZyBgZGVjb2RlVVJJQ29tcG9uZW50YC4gUmV0dXJucyB0aGUgb3JpZ2luYWwgdGV4dCBpZiBpdFxyXG4gKiBmYWlscy5cclxuICpcclxuICogQHBhcmFtIHRleHQgLSBzdHJpbmcgdG8gZGVjb2RlXHJcbiAqIEByZXR1cm5zIGRlY29kZWQgc3RyaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWNvZGUodGV4dCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KCcnICsgdGV4dCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyKSB7IH1cclxuICAgIHJldHVybiAnJyArIHRleHQ7XHJcbn1cclxuZnVuY3Rpb24gZGVjb2RlZFF1ZXJ5KHF1ZXJ5ID0ge30pIHtcclxuICAgIGNvbnN0IGRlY29kZWRRdWVyeSA9IHt9O1xyXG4gICAgT2JqZWN0LmtleXMocXVlcnkpLmZvckVhY2goKG5hbWUpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBkZWNvZGVkUXVlcnlbbmFtZV0gPSBkZWNvZGUocXVlcnlbbmFtZV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBkZWNvZGVkUXVlcnlbbmFtZV0gPSBxdWVyeVtuYW1lXTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkZWNvZGVkUXVlcnk7XHJcbn1cclxuY29uc3QgUExVU19SRSA9IC9cXCsvZzsgLy8gJTJCXHJcbi8qKlxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVlLXJvdXRlci1uZXh0L2Jsb2IvbWFzdGVyL3NyYy9xdWVyeS50c1xyXG4gKiBAaW50ZXJuYWxcclxuICpcclxuICogQHBhcmFtIHNlYXJjaCAtIHNlYXJjaCBzdHJpbmcgdG8gcGFyc2VcclxuICogQHJldHVybnMgYSBxdWVyeSBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlUXVlcnkoc2VhcmNoKSB7XHJcbiAgICBjb25zdCBxdWVyeSA9IHt9O1xyXG4gICAgLy8gYXZvaWQgY3JlYXRpbmcgYW4gb2JqZWN0IHdpdGggYW4gZW1wdHkga2V5IGFuZCBlbXB0eSB2YWx1ZVxyXG4gICAgLy8gYmVjYXVzZSBvZiBzcGxpdCgnJicpXHJcbiAgICBpZiAoc2VhcmNoID09PSAnJyB8fCBzZWFyY2ggPT09ICc/JylcclxuICAgICAgICByZXR1cm4gcXVlcnk7XHJcbiAgICBjb25zdCBoYXNMZWFkaW5nSU0gPSBzZWFyY2hbMF0gPT09ICc/JztcclxuICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IChoYXNMZWFkaW5nSU0gPyBzZWFyY2guc2xpY2UoMSkgOiBzZWFyY2gpLnNwbGl0KCcmJyk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlYXJjaFBhcmFtcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIC8vIHByZSBkZWNvZGUgdGhlICsgaW50byBzcGFjZVxyXG4gICAgICAgIGNvbnN0IHNlYXJjaFBhcmFtID0gc2VhcmNoUGFyYW1zW2ldLnJlcGxhY2UoUExVU19SRSwgJyAnKTtcclxuICAgICAgICAvLyBhbGxvdyB0aGUgPSBjaGFyYWN0ZXJcclxuICAgICAgICBsZXQgZXFQb3MgPSBzZWFyY2hQYXJhbS5pbmRleE9mKCc9Jyk7XHJcbiAgICAgICAgbGV0IGtleSA9IGRlY29kZShlcVBvcyA8IDAgPyBzZWFyY2hQYXJhbSA6IHNlYXJjaFBhcmFtLnNsaWNlKDAsIGVxUG9zKSk7XHJcbiAgICAgICAgbGV0IHZhbHVlID0gZXFQb3MgPCAwID8gbnVsbCA6IGRlY29kZShzZWFyY2hQYXJhbS5zbGljZShlcVBvcyArIDEpKTtcclxuICAgICAgICBpZiAoa2V5IGluIHF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIC8vIGFuIGV4dHJhIHZhcmlhYmxlIGZvciB0cyB0eXBlc1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFZhbHVlID0gcXVlcnlba2V5XTtcclxuICAgICAgICAgICAgaWYgKCFpc0FycmF5KGN1cnJlbnRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IHF1ZXJ5W2tleV0gPSBbY3VycmVudFZhbHVlXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJyZW50VmFsdWUucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBxdWVyeVtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHF1ZXJ5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZVVybCh1cmwpIHtcclxuICAgIGNvbnN0IFtwYXRoLCBxdWVyeXN0cmluZ10gPSB1cmwuc3BsaXQoJz8nLCAyKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcGF0aCxcclxuICAgICAgICBxdWVyeTogcGFyc2VRdWVyeShxdWVyeXN0cmluZyB8fCAnJyksXHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZU5WdWVEYXRhc2V0KGF0dHIpIHtcclxuICAgIGNvbnN0IGRhdGFzZXQgPSB7fTtcclxuICAgIGlmIChhdHRyKSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMoYXR0cikuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignZGF0YS0nKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZGF0YXNldFtrZXkucmVwbGFjZSgnZGF0YS0nLCAnJyldID0gYXR0cltrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YXNldDtcclxufVxyXG5cclxuZnVuY3Rpb24gcGx1c1JlYWR5KGNhbGxiYWNrKSB7XHJcbiAgICBpZiAoIWlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHdpbmRvdy5wbHVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XHJcbiAgICB9XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwbHVzcmVhZHknLCBjYWxsYmFjayk7XHJcbn1cclxuXHJcbmNsYXNzIERPTUV4Y2VwdGlvbiBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcclxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSAnRE9NRXhjZXB0aW9uJztcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbm9ybWFsaXplRXZlbnRUeXBlKHR5cGUsIG9wdGlvbnMpIHtcclxuICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuY2FwdHVyZSkge1xyXG4gICAgICAgICAgICB0eXBlICs9ICdDYXB0dXJlJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnMub25jZSkge1xyXG4gICAgICAgICAgICB0eXBlICs9ICdPbmNlJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnMucGFzc2l2ZSkge1xyXG4gICAgICAgICAgICB0eXBlICs9ICdQYXNzaXZlJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYG9uJHtjYXBpdGFsaXplKGNhbWVsaXplKHR5cGUpKX1gO1xyXG59XHJcbmNsYXNzIFVuaUV2ZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHR5cGUsIG9wdHMpIHtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRpbWVTdGFtcCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy5fc3RvcCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2VuZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5idWJibGVzID0gISFvcHRzLmJ1YmJsZXM7XHJcbiAgICAgICAgdGhpcy5jYW5jZWxhYmxlID0gISFvcHRzLmNhbmNlbGFibGU7XHJcbiAgICB9XHJcbiAgICBwcmV2ZW50RGVmYXVsdCgpIHtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX2VuZCA9IHRoaXMuX3N0b3AgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgc3RvcFByb3BhZ2F0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX3N0b3AgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVVuaUV2ZW50KGV2dCkge1xyXG4gICAgaWYgKGV2dCBpbnN0YW5jZW9mIFVuaUV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGV2dDtcclxuICAgIH1cclxuICAgIGNvbnN0IFt0eXBlXSA9IHBhcnNlRXZlbnROYW1lKGV2dC50eXBlKTtcclxuICAgIGNvbnN0IHVuaUV2ZW50ID0gbmV3IFVuaUV2ZW50KHR5cGUsIHtcclxuICAgICAgICBidWJibGVzOiBmYWxzZSxcclxuICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gICAgZXh0ZW5kKHVuaUV2ZW50LCBldnQpO1xyXG4gICAgcmV0dXJuIHVuaUV2ZW50O1xyXG59XHJcbmNsYXNzIFVuaUV2ZW50VGFyZ2V0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIH1cclxuICAgIGRpc3BhdGNoRXZlbnQoZXZ0KSB7XHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbZXZ0LnR5cGVdO1xyXG4gICAgICAgIGlmICghbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZm9ybWF0TG9nKCdkaXNwYXRjaEV2ZW50JywgdGhpcy5ub2RlSWQpLCBldnQudHlwZSwgJ25vdCBmb3VuZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5qC85byP5YyW5LqL5Lu257G75Z6LXHJcbiAgICAgICAgY29uc3QgZXZlbnQgPSBjcmVhdGVVbmlFdmVudChldnQpO1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcnNbaV0uY2FsbCh0aGlzLCBldmVudCk7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5fZW5kKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZXZlbnQuY2FuY2VsYWJsZSAmJiBldmVudC5kZWZhdWx0UHJldmVudGVkO1xyXG4gICAgfVxyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xyXG4gICAgICAgIHR5cGUgPSBub3JtYWxpemVFdmVudFR5cGUodHlwZSwgb3B0aW9ucyk7XHJcbiAgICAgICAgKHRoaXMubGlzdGVuZXJzW3R5cGVdIHx8ICh0aGlzLmxpc3RlbmVyc1t0eXBlXSA9IFtdKSkucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcbiAgICByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdHlwZSA9IG5vcm1hbGl6ZUV2ZW50VHlwZSh0eXBlLCBvcHRpb25zKTtcclxuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc1t0eXBlXTtcclxuICAgICAgICBpZiAoIWxpc3RlbmVycykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5jb25zdCBvcHRpb25zTW9kaWZpZXJSRSA9IC8oPzpPbmNlfFBhc3NpdmV8Q2FwdHVyZSkkLztcclxuZnVuY3Rpb24gcGFyc2VFdmVudE5hbWUobmFtZSkge1xyXG4gICAgbGV0IG9wdGlvbnM7XHJcbiAgICBpZiAob3B0aW9uc01vZGlmaWVyUkUudGVzdChuYW1lKSkge1xyXG4gICAgICAgIG9wdGlvbnMgPSB7fTtcclxuICAgICAgICBsZXQgbTtcclxuICAgICAgICB3aGlsZSAoKG0gPSBuYW1lLm1hdGNoKG9wdGlvbnNNb2RpZmllclJFKSkpIHtcclxuICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMCwgbmFtZS5sZW5ndGggLSBtWzBdLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIG9wdGlvbnNbbVswXS50b0xvd2VyQ2FzZSgpXSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtoeXBoZW5hdGUobmFtZS5zbGljZSgyKSksIG9wdGlvbnNdO1xyXG59XHJcblxyXG5jb25zdCBFdmVudE1vZGlmaWVyRmxhZ3MgPSAvKiNfX1BVUkVfXyovICgoKSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHN0b3A6IDEsXHJcbiAgICAgICAgcHJldmVudDogMSA8PCAxLFxyXG4gICAgICAgIHNlbGY6IDEgPDwgMixcclxuICAgIH07XHJcbn0pKCk7XHJcbmZ1bmN0aW9uIGVuY29kZU1vZGlmaWVyKG1vZGlmaWVycykge1xyXG4gICAgbGV0IGZsYWcgPSAwO1xyXG4gICAgaWYgKG1vZGlmaWVycy5pbmNsdWRlcygnc3RvcCcpKSB7XHJcbiAgICAgICAgZmxhZyB8PSBFdmVudE1vZGlmaWVyRmxhZ3Muc3RvcDtcclxuICAgIH1cclxuICAgIGlmIChtb2RpZmllcnMuaW5jbHVkZXMoJ3ByZXZlbnQnKSkge1xyXG4gICAgICAgIGZsYWcgfD0gRXZlbnRNb2RpZmllckZsYWdzLnByZXZlbnQ7XHJcbiAgICB9XHJcbiAgICBpZiAobW9kaWZpZXJzLmluY2x1ZGVzKCdzZWxmJykpIHtcclxuICAgICAgICBmbGFnIHw9IEV2ZW50TW9kaWZpZXJGbGFncy5zZWxmO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZsYWc7XHJcbn1cclxuXHJcbmNvbnN0IE5PREVfVFlQRV9QQUdFID0gMDtcclxuY29uc3QgTk9ERV9UWVBFX0VMRU1FTlQgPSAxO1xyXG5jb25zdCBOT0RFX1RZUEVfVEVYVCA9IDM7XHJcbmNvbnN0IE5PREVfVFlQRV9DT01NRU5UID0gODtcclxuZnVuY3Rpb24gc2libGluZyhub2RlLCB0eXBlKSB7XHJcbiAgICBjb25zdCB7IHBhcmVudE5vZGUgfSA9IG5vZGU7XHJcbiAgICBpZiAoIXBhcmVudE5vZGUpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgY2hpbGROb2RlcyB9ID0gcGFyZW50Tm9kZTtcclxuICAgIHJldHVybiBjaGlsZE5vZGVzW2NoaWxkTm9kZXMuaW5kZXhPZihub2RlKSArICh0eXBlID09PSAnbicgPyAxIDogLTEpXSB8fCBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkge1xyXG4gICAgY29uc3QgeyBwYXJlbnROb2RlIH0gPSBub2RlO1xyXG4gICAgaWYgKHBhcmVudE5vZGUpIHtcclxuICAgICAgICBjb25zdCB7IGNoaWxkTm9kZXMgfSA9IHBhcmVudE5vZGU7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSBjaGlsZE5vZGVzLmluZGV4T2Yobm9kZSk7XHJcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlID0gbnVsbDtcclxuICAgICAgICAgICAgY2hpbGROb2Rlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjaGVja05vZGVJZChub2RlKSB7XHJcbiAgICBpZiAoIW5vZGUubm9kZUlkICYmIG5vZGUucGFnZU5vZGUpIHtcclxuICAgICAgICBub2RlLm5vZGVJZCA9IG5vZGUucGFnZU5vZGUuZ2VuSWQoKTtcclxuICAgIH1cclxufVxyXG4vLyDkuLrkvJjljJbmgKfog73vvIzlkITlubPlj7DkuI3kvb/nlKhwcm94eeadpeWunueOsG5vZGXnmoTmk43kvZzmi6bmiKrvvIzogIzmmK/nm7TmjqXpgJrov4dwYWdlTm9kZeWumuWItlxyXG5jbGFzcyBVbmlOb2RlIGV4dGVuZHMgVW5pRXZlbnRUYXJnZXQge1xyXG4gICAgY29uc3RydWN0b3Iobm9kZVR5cGUsIG5vZGVOYW1lLCBjb250YWluZXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucGFnZU5vZGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucGFyZW50Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IG51bGw7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBjb25zdCB7IHBhZ2VOb2RlIH0gPSBjb250YWluZXI7XHJcbiAgICAgICAgICAgIGlmIChwYWdlTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlTm9kZSA9IHBhZ2VOb2RlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlSWQgPSBwYWdlTm9kZS5nZW5JZCgpO1xyXG4gICAgICAgICAgICAgICAgIXBhZ2VOb2RlLmlzVW5tb3VudGVkICYmIHBhZ2VOb2RlLm9uQ3JlYXRlKHRoaXMsIG5vZGVOYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5vZGVUeXBlID0gbm9kZVR5cGU7XHJcbiAgICAgICAgdGhpcy5ub2RlTmFtZSA9IG5vZGVOYW1lO1xyXG4gICAgICAgIHRoaXMuY2hpbGROb2RlcyA9IFtdO1xyXG4gICAgfVxyXG4gICAgZ2V0IGZpcnN0Q2hpbGQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGROb2Rlc1swXSB8fCBudWxsO1xyXG4gICAgfVxyXG4gICAgZ2V0IGxhc3RDaGlsZCgpIHtcclxuICAgICAgICBjb25zdCB7IGNoaWxkTm9kZXMgfSA9IHRoaXM7XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gY2hpbGROb2Rlcy5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIGxlbmd0aCA/IGNoaWxkTm9kZXNbbGVuZ3RoIC0gMV0gOiBudWxsO1xyXG4gICAgfVxyXG4gICAgZ2V0IG5leHRTaWJsaW5nKCkge1xyXG4gICAgICAgIHJldHVybiBzaWJsaW5nKHRoaXMsICduJyk7XHJcbiAgICB9XHJcbiAgICBnZXQgbm9kZVZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgc2V0IG5vZGVWYWx1ZShfdmFsKSB7IH1cclxuICAgIGdldCB0ZXh0Q29udGVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dCB8fCAnJztcclxuICAgIH1cclxuICAgIHNldCB0ZXh0Q29udGVudCh0ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XHJcbiAgICAgICAgaWYgKHRoaXMucGFnZU5vZGUgJiYgIXRoaXMucGFnZU5vZGUuaXNVbm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWdlTm9kZS5vblRleHRDb250ZW50KHRoaXMsIHRleHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCBwYXJlbnRFbGVtZW50KCkge1xyXG4gICAgICAgIGNvbnN0IHsgcGFyZW50Tm9kZSB9ID0gdGhpcztcclxuICAgICAgICBpZiAocGFyZW50Tm9kZSAmJiBwYXJlbnROb2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyZW50Tm9kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBnZXQgcHJldmlvdXNTaWJsaW5nKCkge1xyXG4gICAgICAgIHJldHVybiBzaWJsaW5nKHRoaXMsICdwJyk7XHJcbiAgICB9XHJcbiAgICBhcHBlbmRDaGlsZChuZXdDaGlsZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluc2VydEJlZm9yZShuZXdDaGlsZCwgbnVsbCk7XHJcbiAgICB9XHJcbiAgICBjbG9uZU5vZGUoZGVlcCkge1xyXG4gICAgICAgIGNvbnN0IGNsb25lZCA9IGV4dGVuZChPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSksIHRoaXMpO1xyXG4gICAgICAgIGNvbnN0IHsgYXR0cmlidXRlcyB9ID0gY2xvbmVkO1xyXG4gICAgICAgIGlmIChhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgIGNsb25lZC5hdHRyaWJ1dGVzID0gZXh0ZW5kKHt9LCBhdHRyaWJ1dGVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRlZXApIHtcclxuICAgICAgICAgICAgY2xvbmVkLmNoaWxkTm9kZXMgPSBjbG9uZWQuY2hpbGROb2Rlcy5tYXAoKGNoaWxkTm9kZSkgPT4gY2hpbGROb2RlLmNsb25lTm9kZSh0cnVlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjbG9uZWQ7XHJcbiAgICB9XHJcbiAgICBpbnNlcnRCZWZvcmUobmV3Q2hpbGQsIHJlZkNoaWxkKSB7XHJcbiAgICAgICAgLy8g5YWI5LuO546w5Zyo55qE54i26IqC54K556e76Zmk77yI5rOo5oSP77ya5LiN6IO96Kem5Y+Rb25SZW1vdmVDaGlsZO+8jOWQpuWImeS8mueUn+aIkOWFiHJlbW92ZeivpSBpZO+8jOWGjSBpbnNlcnTvvIlcclxuICAgICAgICByZW1vdmVOb2RlKG5ld0NoaWxkKTtcclxuICAgICAgICBuZXdDaGlsZC5wYWdlTm9kZSA9IHRoaXMucGFnZU5vZGU7XHJcbiAgICAgICAgbmV3Q2hpbGQucGFyZW50Tm9kZSA9IHRoaXM7XHJcbiAgICAgICAgY2hlY2tOb2RlSWQobmV3Q2hpbGQpO1xyXG4gICAgICAgIGNvbnN0IHsgY2hpbGROb2RlcyB9ID0gdGhpcztcclxuICAgICAgICBpZiAocmVmQ2hpbGQpIHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjaGlsZE5vZGVzLmluZGV4T2YocmVmQ2hpbGQpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKGBGYWlsZWQgdG8gZXhlY3V0ZSAnaW5zZXJ0QmVmb3JlJyBvbiAnTm9kZSc6IFRoZSBub2RlIGJlZm9yZSB3aGljaCB0aGUgbmV3IG5vZGUgaXMgdG8gYmUgaW5zZXJ0ZWQgaXMgbm90IGEgY2hpbGQgb2YgdGhpcyBub2RlLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoaWxkTm9kZXMuc3BsaWNlKGluZGV4LCAwLCBuZXdDaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjaGlsZE5vZGVzLnB1c2gobmV3Q2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5wYWdlTm9kZSAmJiAhdGhpcy5wYWdlTm9kZS5pc1VubW91bnRlZFxyXG4gICAgICAgICAgICA/IHRoaXMucGFnZU5vZGUub25JbnNlcnRCZWZvcmUodGhpcywgbmV3Q2hpbGQsIHJlZkNoaWxkKVxyXG4gICAgICAgICAgICA6IG5ld0NoaWxkO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlQ2hpbGQob2xkQ2hpbGQpIHtcclxuICAgICAgICBjb25zdCB7IGNoaWxkTm9kZXMgfSA9IHRoaXM7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSBjaGlsZE5vZGVzLmluZGV4T2Yob2xkQ2hpbGQpO1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihgRmFpbGVkIHRvIGV4ZWN1dGUgJ3JlbW92ZUNoaWxkJyBvbiAnTm9kZSc6IFRoZSBub2RlIHRvIGJlIHJlbW92ZWQgaXMgbm90IGEgY2hpbGQgb2YgdGhpcyBub2RlLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvbGRDaGlsZC5wYXJlbnROb2RlID0gbnVsbDtcclxuICAgICAgICBjaGlsZE5vZGVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFnZU5vZGUgJiYgIXRoaXMucGFnZU5vZGUuaXNVbm1vdW50ZWRcclxuICAgICAgICAgICAgPyB0aGlzLnBhZ2VOb2RlLm9uUmVtb3ZlQ2hpbGQob2xkQ2hpbGQpXHJcbiAgICAgICAgICAgIDogb2xkQ2hpbGQ7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgQVRUUl9DTEFTUyA9ICdjbGFzcyc7XHJcbmNvbnN0IEFUVFJfU1RZTEUgPSAnc3R5bGUnO1xyXG5jb25zdCBBVFRSX0lOTkVSX0hUTUwgPSAnaW5uZXJIVE1MJztcclxuY29uc3QgQVRUUl9URVhUX0NPTlRFTlQgPSAndGV4dENvbnRlbnQnO1xyXG5jb25zdCBBVFRSX1ZfU0hPVyA9ICcudlNob3cnO1xyXG5jb25zdCBBVFRSX1ZfT1dORVJfSUQgPSAnLnZPd25lcklkJztcclxuY29uc3QgQVRUUl9WX1JFTkRFUkpTID0gJy52UmVuZGVyanMnO1xyXG5jb25zdCBBVFRSX0NIQU5HRV9QUkVGSVggPSAnY2hhbmdlOic7XHJcbmNsYXNzIFVuaUJhc2VOb2RlIGV4dGVuZHMgVW5pTm9kZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihub2RlVHlwZSwgbm9kZU5hbWUsIGNvbnRhaW5lcikge1xyXG4gICAgICAgIHN1cGVyKG5vZGVUeXBlLCBub2RlTmFtZSwgY29udGFpbmVyKTtcclxuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgICAgIHRoaXMuc3R5bGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudlNob3cgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2h0bWwgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgZ2V0IGNsYXNzTmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuYXR0cmlidXRlc1tBVFRSX0NMQVNTXSB8fCAnJyk7XHJcbiAgICB9XHJcbiAgICBzZXQgY2xhc3NOYW1lKHZhbCkge1xyXG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKEFUVFJfQ0xBU1MsIHZhbCk7XHJcbiAgICB9XHJcbiAgICBnZXQgaW5uZXJIVE1MKCkge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICAgIHNldCBpbm5lckhUTUwoaHRtbCkge1xyXG4gICAgICAgIHRoaXMuX2h0bWwgPSBodG1sO1xyXG4gICAgfVxyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xyXG4gICAgICAgIHN1cGVyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xyXG4gICAgICAgIGlmICh0aGlzLnBhZ2VOb2RlICYmICF0aGlzLnBhZ2VOb2RlLmlzVW5tb3VudGVkKSB7XHJcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci53eHNFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlTm9kZS5vbkFkZFd4c0V2ZW50KHRoaXMsIG5vcm1hbGl6ZUV2ZW50VHlwZSh0eXBlLCBvcHRpb25zKSwgbGlzdGVuZXIud3hzRXZlbnQsIGVuY29kZU1vZGlmaWVyKGxpc3RlbmVyLm1vZGlmaWVycyB8fCBbXSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlTm9kZS5vbkFkZEV2ZW50KHRoaXMsIG5vcm1hbGl6ZUV2ZW50VHlwZSh0eXBlLCBvcHRpb25zKSwgZW5jb2RlTW9kaWZpZXIobGlzdGVuZXIubW9kaWZpZXJzIHx8IFtdKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrLCBvcHRpb25zKSB7XHJcbiAgICAgICAgc3VwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaywgb3B0aW9ucyk7XHJcbiAgICAgICAgaWYgKHRoaXMucGFnZU5vZGUgJiYgIXRoaXMucGFnZU5vZGUuaXNVbm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWdlTm9kZS5vblJlbW92ZUV2ZW50KHRoaXMsIG5vcm1hbGl6ZUV2ZW50VHlwZSh0eXBlLCBvcHRpb25zKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0QXR0cmlidXRlKHF1YWxpZmllZE5hbWUpIHtcclxuICAgICAgICBpZiAocXVhbGlmaWVkTmFtZSA9PT0gQVRUUl9TVFlMRSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHlsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlc1txdWFsaWZpZWROYW1lXTtcclxuICAgIH1cclxuICAgIHJlbW92ZUF0dHJpYnV0ZShxdWFsaWZpZWROYW1lKSB7XHJcbiAgICAgICAgaWYgKHF1YWxpZmllZE5hbWUgPT0gQVRUUl9TVFlMRSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0eWxlID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbcXVhbGlmaWVkTmFtZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnBhZ2VOb2RlICYmICF0aGlzLnBhZ2VOb2RlLmlzVW5tb3VudGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZU5vZGUub25SZW1vdmVBdHRyaWJ1dGUodGhpcywgcXVhbGlmaWVkTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0QXR0cmlidXRlKHF1YWxpZmllZE5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHF1YWxpZmllZE5hbWUgPT09IEFUVFJfU1RZTEUpIHtcclxuICAgICAgICAgICAgdGhpcy5zdHlsZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW3F1YWxpZmllZE5hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnBhZ2VOb2RlICYmICF0aGlzLnBhZ2VOb2RlLmlzVW5tb3VudGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZU5vZGUub25TZXRBdHRyaWJ1dGUodGhpcywgcXVhbGlmaWVkTmFtZSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHRvSlNPTih7IGF0dHIsIG5vcm1hbGl6ZSwgfSA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgeyBhdHRyaWJ1dGVzLCBzdHlsZSwgbGlzdGVuZXJzLCBfdGV4dCB9ID0gdGhpcztcclxuICAgICAgICBjb25zdCByZXMgPSB7fTtcclxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoYXR0cmlidXRlcykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJlcy5hID0gbm9ybWFsaXplID8gbm9ybWFsaXplKGF0dHJpYnV0ZXMpIDogYXR0cmlidXRlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZXZlbnRzID0gT2JqZWN0LmtleXMobGlzdGVuZXJzKTtcclxuICAgICAgICBpZiAoZXZlbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBsZXQgdyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgY29uc3QgZSA9IHt9O1xyXG4gICAgICAgICAgICBldmVudHMuZm9yRWFjaCgobmFtZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlcnMgPSBsaXN0ZW5lcnNbbmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5Y+v6IO95a2Y5Zyo5aSa5LiqIGhhbmRsZXIg5LiU5LiN5ZCMIG1vZGlmaWVycyDlkJfvvJ9cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHd4c0V2ZW50LCBtb2RpZmllcnMgfSA9IGhhbmRsZXJzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVyID0gZW5jb2RlTW9kaWZpZXIobW9kaWZpZXJzIHx8IFtdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXd4c0V2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVbbmFtZV0gPSBtb2RpZmllcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdbbmFtZV0gPSBbbm9ybWFsaXplID8gbm9ybWFsaXplKHd4c0V2ZW50KSA6IHd4c0V2ZW50LCBtb2RpZmllcl07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmVzLmUgPSBub3JtYWxpemUgPyBub3JtYWxpemUoZSwgZmFsc2UpIDogZTtcclxuICAgICAgICAgICAgaWYgKHcpIHtcclxuICAgICAgICAgICAgICAgIHJlcy53ID0gbm9ybWFsaXplID8gbm9ybWFsaXplKHcsIGZhbHNlKSA6IHc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0eWxlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJlcy5zID0gbm9ybWFsaXplID8gbm9ybWFsaXplKHN0eWxlKSA6IHN0eWxlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWF0dHIpIHtcclxuICAgICAgICAgICAgcmVzLmkgPSB0aGlzLm5vZGVJZDtcclxuICAgICAgICAgICAgcmVzLm4gPSB0aGlzLm5vZGVOYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoX3RleHQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmVzLnQgPSBub3JtYWxpemUgPyBub3JtYWxpemUoX3RleHQpIDogX3RleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFVuaUNvbW1lbnROb2RlIGV4dGVuZHMgVW5pTm9kZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCBjb250YWluZXIpIHtcclxuICAgICAgICBzdXBlcihOT0RFX1RZUEVfQ09NTUVOVCwgJyNjb21tZW50JywgY29udGFpbmVyKTtcclxuICAgICAgICB0aGlzLl90ZXh0ID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gdGV4dCA6ICcnO1xyXG4gICAgfVxyXG4gICAgdG9KU09OKG9wdHMgPSB7fSkge1xyXG4gICAgICAgIC8vIOaaguaXtuS4jeS8oOmAkiB0ZXh0IOWIsCB2aWV3IOWxgu+8jOayoeWVpeaEj+S5ie+8jOiKguecgeeCueaVsOaNrumHj1xyXG4gICAgICAgIHJldHVybiBvcHRzLmF0dHJcclxuICAgICAgICAgICAgPyB7fVxyXG4gICAgICAgICAgICA6IHtcclxuICAgICAgICAgICAgICAgIGk6IHRoaXMubm9kZUlkLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIC8vIHJldHVybiBvcHRzLmF0dHJcclxuICAgICAgICAvLyAgID8geyB0OiB0aGlzLl90ZXh0IGFzIHN0cmluZyB9XHJcbiAgICAgICAgLy8gICA6IHtcclxuICAgICAgICAvLyAgICAgICBpOiB0aGlzLm5vZGVJZCEsXHJcbiAgICAgICAgLy8gICAgICAgdDogdGhpcy5fdGV4dCBhcyBzdHJpbmcsXHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgVW5pRWxlbWVudCBleHRlbmRzIFVuaUJhc2VOb2RlIHtcclxuICAgIGNvbnN0cnVjdG9yKG5vZGVOYW1lLCBjb250YWluZXIpIHtcclxuICAgICAgICBzdXBlcihOT0RFX1RZUEVfRUxFTUVOVCwgbm9kZU5hbWUudG9VcHBlckNhc2UoKSwgY29udGFpbmVyKTtcclxuICAgICAgICB0aGlzLnRhZ05hbWUgPSB0aGlzLm5vZGVOYW1lO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFVuaUlucHV0RWxlbWVudCBleHRlbmRzIFVuaUVsZW1lbnQge1xyXG4gICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcclxuICAgIH1cclxuICAgIHNldCB2YWx1ZSh2YWwpIHtcclxuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgndmFsdWUnLCB2YWwpO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFVuaVRleHRBcmVhRWxlbWVudCBleHRlbmRzIFVuaUlucHV0RWxlbWVudCB7XHJcbn1cclxuXHJcbmNsYXNzIFVuaVRleHROb2RlIGV4dGVuZHMgVW5pQmFzZU5vZGUge1xyXG4gICAgY29uc3RydWN0b3IodGV4dCwgY29udGFpbmVyKSB7XHJcbiAgICAgICAgc3VwZXIoTk9ERV9UWVBFX1RFWFQsICcjdGV4dCcsIGNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XHJcbiAgICB9XHJcbiAgICBnZXQgbm9kZVZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0IHx8ICcnO1xyXG4gICAgfVxyXG4gICAgc2V0IG5vZGVWYWx1ZSh0ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XHJcbiAgICAgICAgaWYgKHRoaXMucGFnZU5vZGUgJiYgIXRoaXMucGFnZU5vZGUuaXNVbm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWdlTm9kZS5vbk5vZGVWYWx1ZSh0aGlzLCB0ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGZvcmNlUGF0Y2hQcm9wcyA9IHtcclxuICAgIEFEOiBbJ2RhdGEnXSxcclxuICAgICdBRC1EUkFXJzogWydkYXRhJ10sXHJcbiAgICAnTElWRS1QTEFZRVInOiBbJ3BpY3R1cmUtaW4tcGljdHVyZS1tb2RlJ10sXHJcbiAgICBNQVA6IFtcclxuICAgICAgICAnbWFya2VycycsXHJcbiAgICAgICAgJ3BvbHlsaW5lJyxcclxuICAgICAgICAnY2lyY2xlcycsXHJcbiAgICAgICAgJ2NvbnRyb2xzJyxcclxuICAgICAgICAnaW5jbHVkZS1wb2ludHMnLFxyXG4gICAgICAgICdwb2x5Z29ucycsXHJcbiAgICBdLFxyXG4gICAgUElDS0VSOiBbJ3JhbmdlJywgJ3ZhbHVlJ10sXHJcbiAgICAnUElDS0VSLVZJRVcnOiBbJ3ZhbHVlJ10sXHJcbiAgICAnUklDSC1URVhUJzogWydub2RlcyddLFxyXG4gICAgVklERU86IFsnZGFubXUtbGlzdCcsICdoZWFkZXInXSxcclxuICAgICdXRUItVklFVyc6IFsnd2Vidmlldy1zdHlsZXMnXSxcclxufTtcclxuY29uc3QgZm9yY2VQYXRjaFByb3BLZXlzID0gWydhbmltYXRpb24nXTtcclxuXHJcbmNvbnN0IGZvcmNlUGF0Y2hQcm9wID0gKGVsLCBrZXkpID0+IHtcclxuICAgIGlmIChmb3JjZVBhdGNoUHJvcEtleXMuaW5kZXhPZihrZXkpID4gLTEpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGtleXMgPSBmb3JjZVBhdGNoUHJvcHNbZWwubm9kZU5hbWVdO1xyXG4gICAgaWYgKGtleXMgJiYga2V5cy5pbmRleE9mKGtleSkgPiAtMSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59O1xyXG5cclxuY29uc3QgQUNUSU9OX1RZUEVfUEFHRV9DUkVBVEUgPSAxO1xyXG5jb25zdCBBQ1RJT05fVFlQRV9QQUdFX0NSRUFURUQgPSAyO1xyXG5jb25zdCBBQ1RJT05fVFlQRV9DUkVBVEUgPSAzO1xyXG5jb25zdCBBQ1RJT05fVFlQRV9JTlNFUlQgPSA0O1xyXG5jb25zdCBBQ1RJT05fVFlQRV9SRU1PVkUgPSA1O1xyXG5jb25zdCBBQ1RJT05fVFlQRV9TRVRfQVRUUklCVVRFID0gNjtcclxuY29uc3QgQUNUSU9OX1RZUEVfUkVNT1ZFX0FUVFJJQlVURSA9IDc7XHJcbmNvbnN0IEFDVElPTl9UWVBFX0FERF9FVkVOVCA9IDg7XHJcbmNvbnN0IEFDVElPTl9UWVBFX1JFTU9WRV9FVkVOVCA9IDk7XHJcbmNvbnN0IEFDVElPTl9UWVBFX1NFVF9URVhUID0gMTA7XHJcbmNvbnN0IEFDVElPTl9UWVBFX0FERF9XWFNfRVZFTlQgPSAxMjtcclxuY29uc3QgQUNUSU9OX1RZUEVfUEFHRV9TQ1JPTEwgPSAxNTtcclxuY29uc3QgQUNUSU9OX1RZUEVfRVZFTlQgPSAyMDtcclxuXHJcbi8qKlxyXG4gKiDpnIDopoHmiYvliqjkvKDlhaUgdGltZXIs5Li76KaB5piv6Kej5YazIEFwcCDlubPlj7DnmoTlrprliLYgdGltZXJcclxuICovXHJcbmZ1bmN0aW9uIGRlYm91bmNlKGZuLCBkZWxheSwgeyBjbGVhclRpbWVvdXQsIHNldFRpbWVvdXQgfSkge1xyXG4gICAgbGV0IHRpbWVvdXQ7XHJcbiAgICBjb25zdCBuZXdGbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgY29uc3QgdGltZXJGbiA9ICgpID0+IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQodGltZXJGbiwgZGVsYXkpO1xyXG4gICAgfTtcclxuICAgIG5ld0ZuLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIG5ld0ZuO1xyXG59XHJcblxyXG5jbGFzcyBFdmVudENoYW5uZWwge1xyXG4gICAgY29uc3RydWN0b3IoaWQsIGV2ZW50cykge1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLmxpc3RlbmVyID0ge307XHJcbiAgICAgICAgdGhpcy5lbWl0Q2FjaGUgPSBbXTtcclxuICAgICAgICBpZiAoZXZlbnRzKSB7XHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGV2ZW50cykuZm9yRWFjaCgobmFtZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbihuYW1lLCBldmVudHNbbmFtZV0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbWl0KGV2ZW50TmFtZSwgLi4uYXJncykge1xyXG4gICAgICAgIGNvbnN0IGZucyA9IHRoaXMubGlzdGVuZXJbZXZlbnROYW1lXTtcclxuICAgICAgICBpZiAoIWZucykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0Q2FjaGUucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBldmVudE5hbWUsXHJcbiAgICAgICAgICAgICAgICBhcmdzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm5zLmZvckVhY2goKG9wdCkgPT4ge1xyXG4gICAgICAgICAgICBvcHQuZm4uYXBwbHkob3B0LmZuLCBhcmdzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxpc3RlbmVyW2V2ZW50TmFtZV0gPSBmbnMuZmlsdGVyKChvcHQpID0+IG9wdC50eXBlICE9PSAnb25jZScpO1xyXG4gICAgfVxyXG4gICAgb24oZXZlbnROYW1lLCBmbikge1xyXG4gICAgICAgIHRoaXMuX2FkZExpc3RlbmVyKGV2ZW50TmFtZSwgJ29uJywgZm4pO1xyXG4gICAgICAgIHRoaXMuX2NsZWFyQ2FjaGUoZXZlbnROYW1lKTtcclxuICAgIH1cclxuICAgIG9uY2UoZXZlbnROYW1lLCBmbikge1xyXG4gICAgICAgIHRoaXMuX2FkZExpc3RlbmVyKGV2ZW50TmFtZSwgJ29uY2UnLCBmbik7XHJcbiAgICAgICAgdGhpcy5fY2xlYXJDYWNoZShldmVudE5hbWUpO1xyXG4gICAgfVxyXG4gICAgb2ZmKGV2ZW50TmFtZSwgZm4pIHtcclxuICAgICAgICBjb25zdCBmbnMgPSB0aGlzLmxpc3RlbmVyW2V2ZW50TmFtZV07XHJcbiAgICAgICAgaWYgKCFmbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZm4pIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbnMubGVuZ3RoOykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZuc1tpXS5mbiA9PT0gZm4pIHtcclxuICAgICAgICAgICAgICAgICAgICBmbnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubGlzdGVuZXJbZXZlbnROYW1lXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfY2xlYXJDYWNoZShldmVudE5hbWUpIHtcclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5lbWl0Q2FjaGUubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5lbWl0Q2FjaGVbaW5kZXhdO1xyXG4gICAgICAgICAgICBjb25zdCBfbmFtZSA9IGV2ZW50TmFtZVxyXG4gICAgICAgICAgICAgICAgPyBjYWNoZS5ldmVudE5hbWUgPT09IGV2ZW50TmFtZVxyXG4gICAgICAgICAgICAgICAgICAgID8gZXZlbnROYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsXHJcbiAgICAgICAgICAgICAgICA6IGNhY2hlLmV2ZW50TmFtZTtcclxuICAgICAgICAgICAgaWYgKCFfbmFtZSlcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMuZW1pdC5hcHBseSh0aGlzLCBbX25hbWUsIC4uLmNhY2hlLmFyZ3NdKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdENhY2hlLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5lbWl0Q2FjaGUuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgaW5kZXgtLTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfYWRkTGlzdGVuZXIoZXZlbnROYW1lLCB0eXBlLCBmbikge1xyXG4gICAgICAgICh0aGlzLmxpc3RlbmVyW2V2ZW50TmFtZV0gfHwgKHRoaXMubGlzdGVuZXJbZXZlbnROYW1lXSA9IFtdKSkucHVzaCh7XHJcbiAgICAgICAgICAgIGZuLFxyXG4gICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBQQUdFX0hPT0tTID0gW1xyXG4gICAgT05fSU5JVCxcclxuICAgIE9OX0xPQUQsXHJcbiAgICBPTl9TSE9XLFxyXG4gICAgT05fSElERSxcclxuICAgIE9OX1VOTE9BRCxcclxuICAgIE9OX0JBQ0tfUFJFU1MsXHJcbiAgICBPTl9QQUdFX1NDUk9MTCxcclxuICAgIE9OX1RBQl9JVEVNX1RBUCxcclxuICAgIE9OX1JFQUNIX0JPVFRPTSxcclxuICAgIE9OX1BVTExfRE9XTl9SRUZSRVNILFxyXG4gICAgT05fU0hBUkVfVElNRUxJTkUsXHJcbiAgICBPTl9TSEFSRV9BUFBfTUVTU0FHRSxcclxuICAgIE9OX0FERF9UT19GQVZPUklURVMsXHJcbiAgICBPTl9TQVZFX0VYSVRfU1RBVEUsXHJcbiAgICBPTl9OQVZJR0FUSU9OX0JBUl9CVVRUT05fVEFQLFxyXG4gICAgT05fTkFWSUdBVElPTl9CQVJfU0VBUkNIX0lOUFVUX0NMSUNLRUQsXHJcbiAgICBPTl9OQVZJR0FUSU9OX0JBUl9TRUFSQ0hfSU5QVVRfQ0hBTkdFRCxcclxuICAgIE9OX05BVklHQVRJT05fQkFSX1NFQVJDSF9JTlBVVF9DT05GSVJNRUQsXHJcbiAgICBPTl9OQVZJR0FUSU9OX0JBUl9TRUFSQ0hfSU5QVVRfRk9DVVNfQ0hBTkdFRCxcclxuXTtcclxuY29uc3QgUEFHRV9TWU5DX0hPT0tTID0gW09OX0xPQUQsIE9OX1NIT1ddO1xyXG5mdW5jdGlvbiBpc1Jvb3RJbW1lZGlhdGVIb29rKG5hbWUpIHtcclxuICAgIHJldHVybiBQQUdFX1NZTkNfSE9PS1MuaW5kZXhPZihuYW1lKSA+IC0xO1xyXG59XHJcbmZ1bmN0aW9uIGlzUm9vdEhvb2sobmFtZSkge1xyXG4gICAgcmV0dXJuIFBBR0VfSE9PS1MuaW5kZXhPZihuYW1lKSA+IC0xO1xyXG59XHJcbmNvbnN0IFVuaUxpZmVjeWNsZUhvb2tzID0gW1xyXG4gICAgT05fU0hPVyxcclxuICAgIE9OX0hJREUsXHJcbiAgICBPTl9MQVVOQ0gsXHJcbiAgICBPTl9FUlJPUixcclxuICAgIE9OX1RIRU1FX0NIQU5HRSxcclxuICAgIE9OX1BBR0VfTk9UX0ZPVU5ELFxyXG4gICAgT05fVU5IQU5ETEVfUkVKRUNUSU9OLFxyXG4gICAgT05fSU5JVCxcclxuICAgIE9OX0xPQUQsXHJcbiAgICBPTl9SRUFEWSxcclxuICAgIE9OX1VOTE9BRCxcclxuICAgIE9OX1JFU0laRSxcclxuICAgIE9OX0JBQ0tfUFJFU1MsXHJcbiAgICBPTl9QQUdFX1NDUk9MTCxcclxuICAgIE9OX1RBQl9JVEVNX1RBUCxcclxuICAgIE9OX1JFQUNIX0JPVFRPTSxcclxuICAgIE9OX1BVTExfRE9XTl9SRUZSRVNILFxyXG4gICAgT05fU0hBUkVfVElNRUxJTkUsXHJcbiAgICBPTl9BRERfVE9fRkFWT1JJVEVTLFxyXG4gICAgT05fU0hBUkVfQVBQX01FU1NBR0UsXHJcbiAgICBPTl9TQVZFX0VYSVRfU1RBVEUsXHJcbiAgICBPTl9OQVZJR0FUSU9OX0JBUl9CVVRUT05fVEFQLFxyXG4gICAgT05fTkFWSUdBVElPTl9CQVJfU0VBUkNIX0lOUFVUX0NMSUNLRUQsXHJcbiAgICBPTl9OQVZJR0FUSU9OX0JBUl9TRUFSQ0hfSU5QVVRfQ0hBTkdFRCxcclxuICAgIE9OX05BVklHQVRJT05fQkFSX1NFQVJDSF9JTlBVVF9DT05GSVJNRUQsXHJcbiAgICBPTl9OQVZJR0FUSU9OX0JBUl9TRUFSQ0hfSU5QVVRfRk9DVVNfQ0hBTkdFRCxcclxuXTtcclxuY29uc3QgTUlOSV9QUk9HUkFNX1BBR0VfUlVOVElNRV9IT09LUyA9IC8qI19fUFVSRV9fKi8gKCgpID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgb25QYWdlU2Nyb2xsOiAxLFxyXG4gICAgICAgIG9uU2hhcmVBcHBNZXNzYWdlOiAxIDw8IDEsXHJcbiAgICAgICAgb25TaGFyZVRpbWVsaW5lOiAxIDw8IDIsXHJcbiAgICB9O1xyXG59KSgpO1xyXG5mdW5jdGlvbiBpc1VuaUxpZmVjeWNsZUhvb2sobmFtZSwgdmFsdWUsIGNoZWNrVHlwZSA9IHRydWUpIHtcclxuICAgIC8vIOajgOafpeexu+Wei1xyXG4gICAgaWYgKGNoZWNrVHlwZSAmJiAhaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoVW5pTGlmZWN5Y2xlSG9va3MuaW5kZXhPZihuYW1lKSA+IC0xKSB7XHJcbiAgICAgICAgLy8g5bey6aKE5a6a5LmJXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChuYW1lLmluZGV4T2YoJ29uJykgPT09IDApIHtcclxuICAgICAgICAvLyDku6Ugb24g5byA5aS0XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmxldCB2dWVBcHA7XHJcbmNvbnN0IGNyZWF0ZVZ1ZUFwcEhvb2tzID0gW107XHJcbi8qKlxyXG4gKiDmj5DkvpsgY3JlYXRlQXBwIOeahOWbnuiwg+S6i+S7tu+8jOaWueS+v+S4ieaWueaPkuS7tuaOpeaUtiBBcHAg5a+56LGh77yM5aSE55CG5oyC6Z2g5YWo5bGAIG1peGluIOS5i+exu+eahOmAu+i+kVxyXG4gKi9cclxuZnVuY3Rpb24gb25DcmVhdGVWdWVBcHAoaG9vaykge1xyXG4gICAgLy8gVE9ETyDmr4/kuKogbnZ1ZSDpobXpnaLpg73kvJrop6blj5FcclxuICAgIGlmICh2dWVBcHApIHtcclxuICAgICAgICByZXR1cm4gaG9vayh2dWVBcHApO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlVnVlQXBwSG9va3MucHVzaChob29rKTtcclxufVxyXG5mdW5jdGlvbiBpbnZva2VDcmVhdGVWdWVBcHBIb29rKGFwcCkge1xyXG4gICAgdnVlQXBwID0gYXBwO1xyXG4gICAgY3JlYXRlVnVlQXBwSG9va3MuZm9yRWFjaCgoaG9vaykgPT4gaG9vayhhcHApKTtcclxufVxyXG5jb25zdCBpbnZva2VDcmVhdGVFcnJvckhhbmRsZXIgPSBvbmNlKChhcHAsIGNyZWF0ZUVycm9ySGFuZGxlcikgPT4ge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oYXBwLl9jb21wb25lbnQub25FcnJvcikpIHtcclxuICAgICAgICByZXR1cm4gY3JlYXRlRXJyb3JIYW5kbGVyKGFwcCk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgRSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIEtlZXAgdGhpcyBlbXB0eSBzbyBpdCdzIGVhc2llciB0byBpbmhlcml0IGZyb21cclxuICAgIC8vICh2aWEgaHR0cHM6Ly9naXRodWIuY29tL2xpcHNtYWNrIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9pc3N1ZXMvMylcclxufTtcclxuRS5wcm90b3R5cGUgPSB7XHJcbiAgICBvbjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcclxuICAgICAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xyXG4gICAgICAgIChlW25hbWVdIHx8IChlW25hbWVdID0gW10pKS5wdXNoKHtcclxuICAgICAgICAgICAgZm46IGNhbGxiYWNrLFxyXG4gICAgICAgICAgICBjdHg6IGN0eCxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0sXHJcbiAgICBvbmNlOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBmdW5jdGlvbiBsaXN0ZW5lcigpIHtcclxuICAgICAgICAgICAgc2VsZi5vZmYobmFtZSwgbGlzdGVuZXIpO1xyXG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseShjdHgsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxpc3RlbmVyLl8gPSBjYWxsYmFjaztcclxuICAgICAgICByZXR1cm4gdGhpcy5vbihuYW1lLCBsaXN0ZW5lciwgY3R4KTtcclxuICAgIH0sXHJcbiAgICBlbWl0OiBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHZhciBkYXRhID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG4gICAgICAgIHZhciBldnRBcnIgPSAoKHRoaXMuZSB8fCAodGhpcy5lID0ge30pKVtuYW1lXSB8fCBbXSkuc2xpY2UoKTtcclxuICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgdmFyIGxlbiA9IGV2dEFyci5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChpOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgZXZ0QXJyW2ldLmZuLmFwcGx5KGV2dEFycltpXS5jdHgsIGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0sXHJcbiAgICBvZmY6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XHJcbiAgICAgICAgdmFyIGV2dHMgPSBlW25hbWVdO1xyXG4gICAgICAgIHZhciBsaXZlRXZlbnRzID0gW107XHJcbiAgICAgICAgaWYgKGV2dHMgJiYgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV2dHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChldnRzW2ldLmZuICE9PSBjYWxsYmFjayAmJiBldnRzW2ldLmZuLl8gIT09IGNhbGxiYWNrKVxyXG4gICAgICAgICAgICAgICAgICAgIGxpdmVFdmVudHMucHVzaChldnRzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmUgZXZlbnQgZnJvbSBxdWV1ZSB0byBwcmV2ZW50IG1lbW9yeSBsZWFrXHJcbiAgICAgICAgLy8gU3VnZ2VzdGVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9sYXpkXHJcbiAgICAgICAgLy8gUmVmOiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2NvbW1pdC9jNmViZmFhOWJjOTczYjMzZDExMGE4NGEzMDc3NDJiN2NmOTRjOTUzI2NvbW1pdGNvbW1lbnQtNTAyNDkxMFxyXG4gICAgICAgIGxpdmVFdmVudHMubGVuZ3RoID8gKGVbbmFtZV0gPSBsaXZlRXZlbnRzKSA6IGRlbGV0ZSBlW25hbWVdO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSxcclxufTtcclxudmFyIEUkMSA9IEU7XHJcblxyXG5jb25zdCBib3JkZXJTdHlsZXMgPSB7XHJcbiAgICBibGFjazogJ3JnYmEoMCwwLDAsMC40KScsXHJcbiAgICB3aGl0ZTogJ3JnYmEoMjU1LDI1NSwyNTUsMC40KScsXHJcbn07XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVRhYkJhclN0eWxlcyhib3JkZXJTdHlsZSkge1xyXG4gICAgaWYgKGJvcmRlclN0eWxlICYmIGJvcmRlclN0eWxlIGluIGJvcmRlclN0eWxlcykge1xyXG4gICAgICAgIHJldHVybiBib3JkZXJTdHlsZXNbYm9yZGVyU3R5bGVdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJvcmRlclN0eWxlO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVRpdGxlQ29sb3IodGl0bGVDb2xvcikge1xyXG4gICAgcmV0dXJuIHRpdGxlQ29sb3IgPT09ICdibGFjaycgPyAnIzAwMDAwMCcgOiAnI2ZmZmZmZic7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplU3R5bGVzKHBhZ2VTdHlsZSwgdGhlbWVDb25maWcgPSB7fSwgbW9kZSA9ICdsaWdodCcpIHtcclxuICAgIGNvbnN0IG1vZGVTdHlsZSA9IHRoZW1lQ29uZmlnW21vZGVdO1xyXG4gICAgY29uc3Qgc3R5bGVzID0ge307XHJcbiAgICBpZiAoIW1vZGVTdHlsZSkge1xyXG4gICAgICAgIHJldHVybiBwYWdlU3R5bGU7XHJcbiAgICB9XHJcbiAgICBPYmplY3Qua2V5cyhwYWdlU3R5bGUpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgIGxldCBzdHlsZUl0ZW0gPSBwYWdlU3R5bGVba2V5XSAvLyBPYmplY3QgQXJyYXkgU3RyaW5nXHJcbiAgICAgICAgO1xyXG4gICAgICAgIHN0eWxlc1trZXldID0gKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGlzUGxhaW5PYmplY3Qoc3R5bGVJdGVtKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVN0eWxlcyhzdHlsZUl0ZW0sIHRoZW1lQ29uZmlnLCBtb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0FycmF5KHN0eWxlSXRlbSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZUl0ZW0ubWFwKChpdGVtKSA9PiBpc1BsYWluT2JqZWN0KGl0ZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgPyBub3JtYWxpemVTdHlsZXMoaXRlbSwgdGhlbWVDb25maWcsIG1vZGUpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBpdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1N0cmluZyhzdHlsZUl0ZW0pICYmIHN0eWxlSXRlbS5zdGFydHNXaXRoKCdAJykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IF9rZXkgPSBzdHlsZUl0ZW0ucmVwbGFjZSgnQCcsICcnKTtcclxuICAgICAgICAgICAgICAgIGxldCBfc3R5bGVJdGVtID0gbW9kZVN0eWxlW19rZXldIHx8IHN0eWxlSXRlbTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGl0bGVDb2xvcic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdHlsZUl0ZW0gPSBub3JtYWxpemVUaXRsZUNvbG9yKF9zdHlsZUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdib3JkZXJTdHlsZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdHlsZUl0ZW0gPSBub3JtYWxpemVUYWJCYXJTdHlsZXMoX3N0eWxlSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zdHlsZUl0ZW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN0eWxlSXRlbTtcclxuICAgICAgICB9KSgpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gc3R5bGVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRFbnZMb2NhbGUoKSB7XHJcbiAgICBjb25zdCB7IGVudiB9ID0gcHJvY2VzcztcclxuICAgIGNvbnN0IGxhbmcgPSBlbnYuTENfQUxMIHx8IGVudi5MQ19NRVNTQUdFUyB8fCBlbnYuTEFORyB8fCBlbnYuTEFOR1VBR0U7XHJcbiAgICByZXR1cm4gKGxhbmcgJiYgbGFuZy5yZXBsYWNlKC9bLjpdLiovLCAnJykpIHx8ICdlbic7XHJcbn1cclxuXHJcbmV4cG9ydCB7IEFDVElPTl9UWVBFX0FERF9FVkVOVCwgQUNUSU9OX1RZUEVfQUREX1dYU19FVkVOVCwgQUNUSU9OX1RZUEVfQ1JFQVRFLCBBQ1RJT05fVFlQRV9FVkVOVCwgQUNUSU9OX1RZUEVfSU5TRVJULCBBQ1RJT05fVFlQRV9QQUdFX0NSRUFURSwgQUNUSU9OX1RZUEVfUEFHRV9DUkVBVEVELCBBQ1RJT05fVFlQRV9QQUdFX1NDUk9MTCwgQUNUSU9OX1RZUEVfUkVNT1ZFLCBBQ1RJT05fVFlQRV9SRU1PVkVfQVRUUklCVVRFLCBBQ1RJT05fVFlQRV9SRU1PVkVfRVZFTlQsIEFDVElPTl9UWVBFX1NFVF9BVFRSSUJVVEUsIEFDVElPTl9UWVBFX1NFVF9URVhULCBBVFRSX0NIQU5HRV9QUkVGSVgsIEFUVFJfQ0xBU1MsIEFUVFJfSU5ORVJfSFRNTCwgQVRUUl9TVFlMRSwgQVRUUl9URVhUX0NPTlRFTlQsIEFUVFJfVl9PV05FUl9JRCwgQVRUUl9WX1JFTkRFUkpTLCBBVFRSX1ZfU0hPVywgQkFDS0dST1VORF9DT0xPUiwgQlVJTFRfSU5fVEFHUywgQlVJTFRfSU5fVEFHX05BTUVTLCBDT01QT05FTlRfTkFNRV9QUkVGSVgsIENPTVBPTkVOVF9QUkVGSVgsIENPTVBPTkVOVF9TRUxFQ1RPUl9QUkVGSVgsIERBVEFfUkUsIEUkMSBhcyBFbWl0dGVyLCBFdmVudENoYW5uZWwsIEV2ZW50TW9kaWZpZXJGbGFncywgSTE4Tl9KU09OX0RFTElNSVRFUlMsIEpTT05fUFJPVE9DT0wsIExJTkVGRUVELCBNSU5JX1BST0dSQU1fUEFHRV9SVU5USU1FX0hPT0tTLCBOQVZCQVJfSEVJR0hULCBOT0RFX1RZUEVfQ09NTUVOVCwgTk9ERV9UWVBFX0VMRU1FTlQsIE5PREVfVFlQRV9QQUdFLCBOT0RFX1RZUEVfVEVYVCwgTlZVRV9CVUlMVF9JTl9UQUdTLCBOVlVFX1VfQlVJTFRfSU5fVEFHUywgT0ZGX1RIRU1FX0NIQU5HRSwgT05fQUREX1RPX0ZBVk9SSVRFUywgT05fQVBQX0VOVEVSX0JBQ0tHUk9VTkQsIE9OX0FQUF9FTlRFUl9GT1JFR1JPVU5ELCBPTl9CQUNLX1BSRVNTLCBPTl9FUlJPUiwgT05fSElERSwgT05fSU5JVCwgT05fS0VZQk9BUkRfSEVJR0hUX0NIQU5HRSwgT05fTEFVTkNILCBPTl9MT0FELCBPTl9OQVZJR0FUSU9OX0JBUl9CVVRUT05fVEFQLCBPTl9OQVZJR0FUSU9OX0JBUl9DSEFOR0UsIE9OX05BVklHQVRJT05fQkFSX1NFQVJDSF9JTlBVVF9DSEFOR0VELCBPTl9OQVZJR0FUSU9OX0JBUl9TRUFSQ0hfSU5QVVRfQ0xJQ0tFRCwgT05fTkFWSUdBVElPTl9CQVJfU0VBUkNIX0lOUFVUX0NPTkZJUk1FRCwgT05fTkFWSUdBVElPTl9CQVJfU0VBUkNIX0lOUFVUX0ZPQ1VTX0NIQU5HRUQsIE9OX1BBR0VfTk9UX0ZPVU5ELCBPTl9QQUdFX1NDUk9MTCwgT05fUFVMTF9ET1dOX1JFRlJFU0gsIE9OX1JFQUNIX0JPVFRPTSwgT05fUkVBQ0hfQk9UVE9NX0RJU1RBTkNFLCBPTl9SRUFEWSwgT05fUkVTSVpFLCBPTl9TQVZFX0VYSVRfU1RBVEUsIE9OX1NIQVJFX0FQUF9NRVNTQUdFLCBPTl9TSEFSRV9USU1FTElORSwgT05fU0hPVywgT05fVEFCX0lURU1fVEFQLCBPTl9USEVNRV9DSEFOR0UsIE9OX1VOSEFORExFX1JFSkVDVElPTiwgT05fVU5MT0FELCBPTl9XRUJfSU5WT0tFX0FQUF9TRVJWSUNFLCBPTl9XWFNfSU5WT0tFX0NBTExfTUVUSE9ELCBQTFVTX1JFLCBQUklNQVJZX0NPTE9SLCBSRU5ERVJKU19NT0RVTEVTLCBSRVNQT05TSVZFX01JTl9XSURUSCwgU0NIRU1FX1JFLCBTRUxFQ1RFRF9DT0xPUiwgU0xPVF9ERUZBVUxUX05BTUUsIFRBQkJBUl9IRUlHSFQsIFRBR1MsIFVOSV9TU1IsIFVOSV9TU1JfREFUQSwgVU5JX1NTUl9HTE9CQUxfREFUQSwgVU5JX1NTUl9TVE9SRSwgVU5JX1NTUl9USVRMRSwgVU5JX1NUT1JBR0VfTE9DQUxFLCBVVlVFX0JVSUxUX0lOX1RBR1MsIFVuaUJhc2VOb2RlLCBVbmlDb21tZW50Tm9kZSwgVW5pRWxlbWVudCwgVW5pRXZlbnQsIFVuaUlucHV0RWxlbWVudCwgVW5pTGlmZWN5Y2xlSG9va3MsIFVuaU5vZGUsIFVuaVRleHRBcmVhRWxlbWVudCwgVW5pVGV4dE5vZGUsIFdFQl9JTlZPS0VfQVBQU0VSVklDRSwgV1hTX01PRFVMRVMsIFdYU19QUk9UT0NPTCwgYWRkRm9udCwgYWRkTGVhZGluZ1NsYXNoLCBib3JkZXJTdHlsZXMsIGNhY2hlLCBjYWNoZVN0cmluZ0Z1bmN0aW9uLCBjYWxsT3B0aW9ucywgY3JlYXRlSXNDdXN0b21FbGVtZW50LCBjcmVhdGVScHgyVW5pdCwgY3JlYXRlVW5pRXZlbnQsIGN1c3RvbWl6ZUV2ZW50LCBkZWJvdW5jZSwgZGVjb2RlLCBkZWNvZGVkUXVlcnksIGRlZmF1bHRNaW5pUHJvZ3JhbVJweDJVbml0LCBkZWZhdWx0TlZ1ZVJweDJVbml0LCBkZWZhdWx0UnB4MlVuaXQsIGR5bmFtaWNTbG90TmFtZSwgZm9yY2VQYXRjaFByb3AsIGZvcm1hdERhdGVUaW1lLCBmb3JtYXRMb2csIGdldEN1c3RvbURhdGFzZXQsIGdldEVudkxvY2FsZSwgZ2V0TGVuLCBnZXRWYWx1ZUJ5RGF0YVBhdGgsIGluaXRDdXN0b21EYXRhc2V0T25jZSwgaW52b2tlQXJyYXlGbnMsIGludm9rZUNyZWF0ZUVycm9ySGFuZGxlciwgaW52b2tlQ3JlYXRlVnVlQXBwSG9vaywgaXNBcHBOVnVlTmF0aXZlVGFnLCBpc0FwcE5hdGl2ZVRhZywgaXNBcHBVVnVlTmF0aXZlVGFnLCBpc0J1aWx0SW5Db21wb25lbnQsIGlzQ29tcG9uZW50SW50ZXJuYWxJbnN0YW5jZSwgaXNDb21wb25lbnRUYWcsIGlzSDVDdXN0b21FbGVtZW50LCBpc0g1TmF0aXZlVGFnLCBpc01pbmlQcm9ncmFtTmF0aXZlVGFnLCBpc1Jvb3RIb29rLCBpc1Jvb3RJbW1lZGlhdGVIb29rLCBpc1VuaUxpZmVjeWNsZUhvb2ssIG5vcm1hbGl6ZURhdGFzZXQsIG5vcm1hbGl6ZUV2ZW50VHlwZSwgbm9ybWFsaXplU3R5bGVzLCBub3JtYWxpemVUYWJCYXJTdHlsZXMsIG5vcm1hbGl6ZVRhcmdldCwgbm9ybWFsaXplVGl0bGVDb2xvciwgb25DcmVhdGVWdWVBcHAsIG9uY2UsIHBhcnNlRXZlbnROYW1lLCBwYXJzZU5WdWVEYXRhc2V0LCBwYXJzZVF1ZXJ5LCBwYXJzZVVybCwgcGFzc2l2ZSwgcGx1c1JlYWR5LCByZW1vdmVMZWFkaW5nU2xhc2gsIHJlc29sdmVDb21wb25lbnRJbnN0YW5jZSwgcmVzb2x2ZU93bmVyRWwsIHJlc29sdmVPd25lclZtLCBzYW5pdGlzZSwgc2Nyb2xsVG8sIHNvcnRPYmplY3QsIHN0cmluZ2lmeVF1ZXJ5LCB1cGRhdGVFbGVtZW50U3R5bGUgfTtcclxuIiwiaW1wb3J0IHsgc2hhbGxvd1JlZiwgcmVmLCBnZXRDdXJyZW50SW5zdGFuY2UsIGlzSW5TU1JDb21wb25lbnRTZXR1cCwgaW5qZWN0SG9vayB9IGZyb20gJ3Z1ZSc7XHJcbmltcG9ydCB7IGhhc093biwgaXNTdHJpbmcgfSBmcm9tICdAdnVlL3NoYXJlZCc7XHJcbmV4cG9ydCB7IGNhcGl0YWxpemUsIGV4dGVuZCwgaGFzT3duLCBpc1BsYWluT2JqZWN0IH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xyXG5pbXBvcnQgeyBzYW5pdGlzZSwgVU5JX1NTUl9EQVRBLCBVTklfU1NSX0dMT0JBTF9EQVRBLCBVTklfU1NSLCBPTl9TSE9XLCBPTl9ISURFLCBPTl9MQVVOQ0gsIE9OX0VSUk9SLCBPTl9USEVNRV9DSEFOR0UsIE9OX1BBR0VfTk9UX0ZPVU5ELCBPTl9VTkhBTkRMRV9SRUpFQ1RJT04sIE9OX0lOSVQsIE9OX0xPQUQsIE9OX1JFQURZLCBPTl9VTkxPQUQsIE9OX1JFU0laRSwgT05fQkFDS19QUkVTUywgT05fUEFHRV9TQ1JPTEwsIE9OX1RBQl9JVEVNX1RBUCwgT05fUkVBQ0hfQk9UVE9NLCBPTl9QVUxMX0RPV05fUkVGUkVTSCwgT05fU0FWRV9FWElUX1NUQVRFLCBPTl9TSEFSRV9USU1FTElORSwgT05fQUREX1RPX0ZBVk9SSVRFUywgT05fU0hBUkVfQVBQX01FU1NBR0UsIE9OX05BVklHQVRJT05fQkFSX0JVVFRPTl9UQVAsIE9OX05BVklHQVRJT05fQkFSX1NFQVJDSF9JTlBVVF9DSEFOR0VELCBPTl9OQVZJR0FUSU9OX0JBUl9TRUFSQ0hfSU5QVVRfQ0xJQ0tFRCwgT05fTkFWSUdBVElPTl9CQVJfU0VBUkNIX0lOUFVUX0NPTkZJUk1FRCwgT05fTkFWSUdBVElPTl9CQVJfU0VBUkNIX0lOUFVUX0ZPQ1VTX0NIQU5HRUQgfSBmcm9tICdAZGNsb3VkaW8vdW5pLXNoYXJlZCc7XHJcblxyXG5mdW5jdGlvbiBnZXRTU1JEYXRhVHlwZSgpIHtcclxuICAgIHJldHVybiBnZXRDdXJyZW50SW5zdGFuY2UoKSA/IFVOSV9TU1JfREFUQSA6IFVOSV9TU1JfR0xPQkFMX0RBVEE7XHJcbn1cclxuZnVuY3Rpb24gYXNzZXJ0S2V5KGtleSwgc2hhbGxvdyA9IGZhbHNlKSB7XHJcbiAgICBpZiAoIWtleSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtzaGFsbG93ID8gJ3NoYWxsb3dTc3JSZWYnIDogJ3NzclJlZid9OiBZb3UgbXVzdCBwcm92aWRlIGEga2V5LmApO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IHNzckNsaWVudFJlZiA9ICh2YWx1ZSwga2V5LCBzaGFsbG93ID0gZmFsc2UpID0+IHtcclxuICAgIGNvbnN0IHZhbFJlZiA9IHNoYWxsb3cgPyBzaGFsbG93UmVmKHZhbHVlKSA6IHJlZih2YWx1ZSk7XHJcbiAgICAvLyDpnZ4gaDUg5bmz5Y+wXHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gdmFsUmVmO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX191bmlTU1IgPSB3aW5kb3dbVU5JX1NTUl07XHJcbiAgICBpZiAoIV9fdW5pU1NSKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbFJlZjtcclxuICAgIH1cclxuICAgIGNvbnN0IHR5cGUgPSBnZXRTU1JEYXRhVHlwZSgpO1xyXG4gICAgYXNzZXJ0S2V5KGtleSwgc2hhbGxvdyk7XHJcbiAgICBpZiAoaGFzT3duKF9fdW5pU1NSW3R5cGVdLCBrZXkpKSB7XHJcbiAgICAgICAgdmFsUmVmLnZhbHVlID0gX191bmlTU1JbdHlwZV1ba2V5XTtcclxuICAgICAgICBpZiAodHlwZSA9PT0gVU5JX1NTUl9EQVRBKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBfX3VuaVNTUlt0eXBlXVtrZXldOyAvLyBUT0RPIOmdnuWFqOWxgOaVsOaNruS7heS9v+eUqOS4gOasoe+8n+WQpuWImeS4i+asoei/mOS8muWGjeasoeS9v+eUqOivpeaVsOaNrlxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWxSZWY7XHJcbn07XHJcbmNvbnN0IGdsb2JhbERhdGEgPSB7fTtcclxuY29uc3Qgc3NyUmVmID0gKHZhbHVlLCBrZXkpID0+IHtcclxuICAgIHJldHVybiBzc3JDbGllbnRSZWYodmFsdWUsIGtleSk7XHJcbn07XHJcbmNvbnN0IHNoYWxsb3dTc3JSZWYgPSAodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgcmV0dXJuIHNzckNsaWVudFJlZih2YWx1ZSwga2V5LCB0cnVlKTtcclxufTtcclxuZnVuY3Rpb24gZ2V0U3NyR2xvYmFsRGF0YSgpIHtcclxuICAgIHJldHVybiBzYW5pdGlzZShnbG9iYWxEYXRhKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIHVuaSDlr7nosaHmmK/ot6jlrp7kvovnmoTvvIzogIzmraTlpITliJfnmoQgQVBJIOWdh+aYr+mcgOimgei3n+W9k+WJjeWunuS+i+WFs+iBlOeahO+8jOavlOWmgiByZXF1aXJlTmF0aXZlUGx1Z2luIOiOt+WPliBkb20g5pe277yM5L6d6LWW5b2T5YmNIHdlZXgg5a6e5L6LXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRDdXJyZW50U3ViTlZ1ZSgpIHtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHJldHVybiB1bmkuZ2V0U3ViTlZ1ZUJ5SWQocGx1cy53ZWJ2aWV3LmN1cnJlbnRXZWJ2aWV3KCkuaWQpO1xyXG59XHJcbmZ1bmN0aW9uIHJlcXVpcmVOYXRpdmVQbHVnaW4obmFtZSkge1xyXG4gICAgcmV0dXJuIHdlZXgucmVxdWlyZU1vZHVsZShuYW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZm9ybWF0QXBwTG9nKHR5cGUsIGZpbGVuYW1lLCAuLi5hcmdzKSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBpZiAodW5pLl9fbG9nX18pIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgdW5pLl9fbG9nX18odHlwZSwgZmlsZW5hbWUsIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc29sZVt0eXBlXS5hcHBseShjb25zb2xlLCBbLi4uYXJncywgZmlsZW5hbWVdKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBmb3JtYXRINUxvZyh0eXBlLCBmaWxlbmFtZSwgLi4uYXJncykge1xyXG4gICAgY29uc29sZVt0eXBlXS5hcHBseShjb25zb2xlLCBbLi4uYXJncywgZmlsZW5hbWVdKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzb2x2ZUVhc3ljb20oY29tcG9uZW50LCBlYXN5Y29tKSB7XHJcbiAgICByZXR1cm4gaXNTdHJpbmcoY29tcG9uZW50KSA/IGVhc3ljb20gOiBjb21wb25lbnQ7XHJcbn1cclxuXHJcbi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwiQGRjbG91ZGlvL3R5cGVzXCIgLz5cclxuY29uc3QgY3JlYXRlSG9vayA9IChsaWZlY3ljbGUpID0+IChob29rLCB0YXJnZXQgPSBnZXRDdXJyZW50SW5zdGFuY2UoKSkgPT4ge1xyXG4gICAgLy8gcG9zdC1jcmVhdGUgbGlmZWN5Y2xlIHJlZ2lzdHJhdGlvbnMgYXJlIG5vb3BzIGR1cmluZyBTU1JcclxuICAgICFpc0luU1NSQ29tcG9uZW50U2V0dXAgJiYgaW5qZWN0SG9vayhsaWZlY3ljbGUsIGhvb2ssIHRhcmdldCk7XHJcbn07XHJcbmNvbnN0IG9uU2hvdyA9IC8qI19fUFVSRV9fKi8gY3JlYXRlSG9vayhPTl9TSE9XKTtcclxuY29uc3Qgb25IaWRlID0gLyojX19QVVJFX18qLyBjcmVhdGVIb29rKE9OX0hJREUpO1xyXG5jb25zdCBvbkxhdW5jaCA9IFxyXG4vKiNfX1BVUkVfXyovIGNyZWF0ZUhvb2soT05fTEFVTkNIKTtcclxuY29uc3Qgb25FcnJvciA9IFxyXG4vKiNfX1BVUkVfXyovIGNyZWF0ZUhvb2soT05fRVJST1IpO1xyXG5jb25zdCBvblRoZW1lQ2hhbmdlID0gXHJcbi8qI19fUFVSRV9fKi8gY3JlYXRlSG9vayhPTl9USEVNRV9DSEFOR0UpO1xyXG5jb25zdCBvblBhZ2VOb3RGb3VuZCA9IFxyXG4vKiNfX1BVUkVfXyovIGNyZWF0ZUhvb2soT05fUEFHRV9OT1RfRk9VTkQpO1xyXG5jb25zdCBvblVuaGFuZGxlZFJlamVjdGlvbiA9IC8qI19fUFVSRV9fKi8gY3JlYXRlSG9vayhPTl9VTkhBTkRMRV9SRUpFQ1RJT04pO1xyXG5jb25zdCBvbkluaXQgPSBcclxuLyojX19QVVJFX18qLyBjcmVhdGVIb29rKE9OX0lOSVQpO1xyXG4vLyDlsI/nqIvluo/lpoLmnpzmg7PlnKggc2V0dXAg55qEIHByb3BzIOS8oOmAkumhtemdouWPguaVsO+8jOmcgOimgeWumuS5iSBwcm9wc++8jOaVheWQjOaXtuaatOmcsiBvbkxvYWQg5ZCnXHJcbmNvbnN0IG9uTG9hZCA9IFxyXG4vKiNfX1BVUkVfXyovIGNyZWF0ZUhvb2soT05fTE9BRCk7XHJcbmNvbnN0IG9uUmVhZHkgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUhvb2soT05fUkVBRFkpO1xyXG5jb25zdCBvblVubG9hZCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlSG9vayhPTl9VTkxPQUQpO1xyXG5jb25zdCBvblJlc2l6ZSA9IFxyXG4vKiNfX1BVUkVfXyovIGNyZWF0ZUhvb2soT05fUkVTSVpFKTtcclxuY29uc3Qgb25CYWNrUHJlc3MgPSBcclxuLyojX19QVVJFX18qLyBjcmVhdGVIb29rKE9OX0JBQ0tfUFJFU1MpO1xyXG5jb25zdCBvblBhZ2VTY3JvbGwgPSBcclxuLyojX19QVVJFX18qLyBjcmVhdGVIb29rKE9OX1BBR0VfU0NST0xMKTtcclxuY29uc3Qgb25UYWJJdGVtVGFwID0gXHJcbi8qI19fUFVSRV9fKi8gY3JlYXRlSG9vayhPTl9UQUJfSVRFTV9UQVApO1xyXG5jb25zdCBvblJlYWNoQm90dG9tID0gLyojX19QVVJFX18qLyBjcmVhdGVIb29rKE9OX1JFQUNIX0JPVFRPTSk7XHJcbmNvbnN0IG9uUHVsbERvd25SZWZyZXNoID0gLyojX19QVVJFX18qLyBjcmVhdGVIb29rKE9OX1BVTExfRE9XTl9SRUZSRVNIKTtcclxuY29uc3Qgb25TYXZlRXhpdFN0YXRlID0gXHJcbi8qI19fUFVSRV9fKi8gY3JlYXRlSG9vayhPTl9TQVZFX0VYSVRfU1RBVEUpO1xyXG5jb25zdCBvblNoYXJlVGltZWxpbmUgPSBcclxuLyojX19QVVJFX18qLyBjcmVhdGVIb29rKE9OX1NIQVJFX1RJTUVMSU5FKTtcclxuY29uc3Qgb25BZGRUb0Zhdm9yaXRlcyA9IFxyXG4vKiNfX1BVUkVfXyovIGNyZWF0ZUhvb2soT05fQUREX1RPX0ZBVk9SSVRFUyk7XHJcbmNvbnN0IG9uU2hhcmVBcHBNZXNzYWdlID0gXHJcbi8qI19fUFVSRV9fKi8gY3JlYXRlSG9vayhPTl9TSEFSRV9BUFBfTUVTU0FHRSk7XHJcbmNvbnN0IG9uTmF2aWdhdGlvbkJhckJ1dHRvblRhcCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlSG9vayhPTl9OQVZJR0FUSU9OX0JBUl9CVVRUT05fVEFQKTtcclxuY29uc3Qgb25OYXZpZ2F0aW9uQmFyU2VhcmNoSW5wdXRDaGFuZ2VkID0gLyojX19QVVJFX18qLyBjcmVhdGVIb29rKE9OX05BVklHQVRJT05fQkFSX1NFQVJDSF9JTlBVVF9DSEFOR0VEKTtcclxuY29uc3Qgb25OYXZpZ2F0aW9uQmFyU2VhcmNoSW5wdXRDbGlja2VkID0gLyojX19QVVJFX18qLyBjcmVhdGVIb29rKE9OX05BVklHQVRJT05fQkFSX1NFQVJDSF9JTlBVVF9DTElDS0VEKTtcclxuY29uc3Qgb25OYXZpZ2F0aW9uQmFyU2VhcmNoSW5wdXRDb25maXJtZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUhvb2soT05fTkFWSUdBVElPTl9CQVJfU0VBUkNIX0lOUFVUX0NPTkZJUk1FRCk7XHJcbmNvbnN0IG9uTmF2aWdhdGlvbkJhclNlYXJjaElucHV0Rm9jdXNDaGFuZ2VkID0gXHJcbi8qI19fUFVSRV9fKi8gY3JlYXRlSG9vayhPTl9OQVZJR0FUSU9OX0JBUl9TRUFSQ0hfSU5QVVRfRk9DVVNfQ0hBTkdFRCk7XHJcblxyXG5leHBvcnQgeyBmb3JtYXRBcHBMb2csIGZvcm1hdEg1TG9nLCBnZXRDdXJyZW50U3ViTlZ1ZSwgZ2V0U3NyR2xvYmFsRGF0YSwgb25BZGRUb0Zhdm9yaXRlcywgb25CYWNrUHJlc3MsIG9uRXJyb3IsIG9uSGlkZSwgb25Jbml0LCBvbkxhdW5jaCwgb25Mb2FkLCBvbk5hdmlnYXRpb25CYXJCdXR0b25UYXAsIG9uTmF2aWdhdGlvbkJhclNlYXJjaElucHV0Q2hhbmdlZCwgb25OYXZpZ2F0aW9uQmFyU2VhcmNoSW5wdXRDbGlja2VkLCBvbk5hdmlnYXRpb25CYXJTZWFyY2hJbnB1dENvbmZpcm1lZCwgb25OYXZpZ2F0aW9uQmFyU2VhcmNoSW5wdXRGb2N1c0NoYW5nZWQsIG9uUGFnZU5vdEZvdW5kLCBvblBhZ2VTY3JvbGwsIG9uUHVsbERvd25SZWZyZXNoLCBvblJlYWNoQm90dG9tLCBvblJlYWR5LCBvblJlc2l6ZSwgb25TYXZlRXhpdFN0YXRlLCBvblNoYXJlQXBwTWVzc2FnZSwgb25TaGFyZVRpbWVsaW5lLCBvblNob3csIG9uVGFiSXRlbVRhcCwgb25UaGVtZUNoYW5nZSwgb25VbmhhbmRsZWRSZWplY3Rpb24sIG9uVW5sb2FkLCByZXF1aXJlTmF0aXZlUGx1Z2luLCByZXNvbHZlRWFzeWNvbSwgc2hhbGxvd1NzclJlZiwgc3NyUmVmIH07XHJcbiIsIjx0ZW1wbGF0ZT5cclxuXHQ8dmlldyBjbGFzcz1cInUtbWFza1wiIGhvdmVyLXN0b3AtcHJvcGFnYXRpb24gOnN0eWxlPVwiW21hc2tTdHlsZSwgem9vbVN0eWxlLCBmaWx0ZXJTdHlsZV1cIiBAdGFwPVwiY2xpY2tcIiBAdG91Y2htb3ZlLnN0b3AucHJldmVudD1cIigpID0+IHt9XCIgOmNsYXNzPVwie1xyXG5cdFx0J3UtbWFzay16b29tJzogem9vbSxcclxuXHRcdCd1LW1hc2stc2hvdyc6IHNob3dcclxuXHR9XCI+XHJcblx0XHQ8c2xvdCAvPlxyXG5cdDwvdmlldz5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQ+XHJcblx0LyoqXHJcblx0ICogbWFzayDpga7nvalcclxuXHQgKiBAZGVzY3JpcHRpb24g5Yib5bu65LiA5Liq6YGu572p5bGC77yM55So5LqO5by66LCD54m55a6a55qE6aG16Z2i5YWD57Sg77yM5bm26Zi75q2i55So5oi35a+56YGu572p5LiL5bGC55qE5YaF5a656L+b6KGM5pON5L2c77yM5LiA6Iis55So5LqO5by556qX5Zy65pmvXHJcblx0ICogQHR1dG9yaWFsIGh0dHBzOi8vd3d3LnV2aWV3dWkuY29tL2NvbXBvbmVudHMvbWFzay5odG1sXHJcblx0ICogQHByb3BlcnR5IHtCb29sZWFufSBzaG93IOaYr+WQpuaYvuekuumBrue9qe+8iOm7mOiupGZhbHNl77yJXHJcblx0ICogQHByb3BlcnR5IHtTdHJpbmcgTnVtYmVyfSB6LWluZGV4IHotaW5kZXgg5bGC57qn77yI6buY6K6kMTA3MO+8iVxyXG5cdCAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBjdXN0b20tc3R5bGUg6Ieq5a6a5LmJ5qC35byP5a+56LGh77yM6KeB5LiK5pa56K+05piOXHJcblx0ICogQHByb3BlcnR5IHtTdHJpbmcgTnVtYmVyfSBkdXJhdGlvbiDliqjnlLvml7bplb/vvIzljZXkvY3mr6vnp5LvvIjpu5jorqQzMDDvvIlcclxuXHQgKiBAcHJvcGVydHkge0Jvb2xlYW59IHpvb20g5piv5ZCm5L2/55Soc2NhbGXlr7npga7nvanov5vooYznvKnmlL7vvIjpu5jorqR0cnVl77yJXHJcblx0ICogQHByb3BlcnR5IHtCb29sZWFufSBtYXNrLWNsaWNrLWFibGUg6YGu572p5piv5ZCm5Y+v54K55Ye777yM5Li6ZmFsc2Xml7bngrnlh7vkuI3kvJrlj5HpgIFjbGlja+S6i+S7tu+8iOm7mOiupHRydWXvvIlcclxuXHQgKiBAZXZlbnQge0Z1bmN0aW9ufSBjbGljayBtYXNrLWNsaWNrLWFibGXkuLp0cnVl5pe277yM54K55Ye76YGu572p5Y+R6YCB5q2k5LqL5Lu2XHJcblx0ICogQGV4YW1wbGUgPHUtbWFzayA6c2hvdz1cInNob3dcIiBAY2xpY2s9XCJzaG93ID0gZmFsc2VcIj48L3UtbWFzaz5cclxuXHQgKi9cclxuXHRleHBvcnQgZGVmYXVsdCB7XHJcblx0XHRuYW1lOiBcInUtbWFza1wiLFxyXG5cdFx0ZW1pdHM6IFtcImNsaWNrXCJdLFxyXG5cdFx0cHJvcHM6IHtcclxuXHRcdFx0Ly8g5piv5ZCm5pi+56S66YGu572pXHJcblx0XHRcdHNob3c6IHtcclxuXHRcdFx0XHR0eXBlOiBCb29sZWFuLFxyXG5cdFx0XHRcdGRlZmF1bHQ6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdC8vIOWxgue6p3otaW5kZXhcclxuXHRcdFx0ekluZGV4OiB7XHJcblx0XHRcdFx0dHlwZTogW051bWJlciwgU3RyaW5nXSxcclxuXHRcdFx0XHRkZWZhdWx0OiAnJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHQvLyDnlKjmiLfoh6rlrprkuYnmoLflvI9cclxuXHRcdFx0Y3VzdG9tU3R5bGU6IHtcclxuXHRcdFx0XHR0eXBlOiBPYmplY3QsXHJcblx0XHRcdFx0ZGVmYXVsdCAoKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4ge31cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdC8vIOmBrue9qeeahOWKqOeUu+agt+W8j++8jCDmmK/lkKbkvb/nlKjkvb/nlKh6b29t6L+b6KGMc2NhbGXov5vooYznvKnmlL5cclxuXHRcdFx0em9vbToge1xyXG5cdFx0XHRcdHR5cGU6IEJvb2xlYW4sXHJcblx0XHRcdFx0ZGVmYXVsdDogdHJ1ZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvLyDpga7nvannmoTov4fmuKHml7bpl7TvvIzljZXkvY3kuLptc1xyXG5cdFx0XHRkdXJhdGlvbjoge1xyXG5cdFx0XHRcdHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXHJcblx0XHRcdFx0ZGVmYXVsdDogMzAwXHJcblx0XHRcdH0sXHJcblx0XHRcdC8vIOaYr+WQpuWPr+S7pemAmui/h+eCueWHu+mBrue9qei/m+ihjOWFs+mXrVxyXG5cdFx0XHRtYXNrQ2xpY2tBYmxlOiB7XHJcblx0XHRcdFx0dHlwZTogQm9vbGVhbixcclxuXHRcdFx0XHRkZWZhdWx0OiB0cnVlXHJcblx0XHRcdH0sXHJcblx0XHRcdC8vIOmBrue9qeeahOaooeeziuW6plxyXG5cdFx0XHRibHVyOiB7XHJcblx0XHRcdFx0dHlwZTogW051bWJlciwgU3RyaW5nXSxcclxuXHRcdFx0XHRkZWZhdWx0OiAwXHJcblx0XHRcdH0sXHJcblx0XHR9LFxyXG5cdFx0ZGF0YSgpIHtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHR6b29tU3R5bGU6IHtcclxuXHRcdFx0XHRcdHRyYW5zZm9ybTogJydcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHNjYWxlOiAnc2NhbGUoMS4yLCAxLjIpJ1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0d2F0Y2g6IHtcclxuXHRcdFx0c2hvdyhuKSB7XHJcblx0XHRcdFx0aWYobiAmJiB0aGlzLnpvb20pIHtcclxuXHRcdFx0XHRcdC8vIOW9k+WxleekuumBrue9qeeahOaXtuWAme+8jOiuvue9rnNjYWxl5Li6Me+8jOi+vuWIsOe8qeWwjyjljp/mnaXkuLoxLjIp55qE5pWI5p6cXHJcblx0XHRcdFx0XHR0aGlzLnpvb21TdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMSwgMSknO1xyXG5cdFx0XHRcdH0gZWxzZSBpZighbiAmJiB0aGlzLnpvb20pIHtcclxuXHRcdFx0XHRcdC8vIOW9k+makOiXj+mBrue9qeeahOaXtuWAme+8jOiuvue9rnNjYWxl5Li6MS4y77yM6L6+5Yiw5pS+5aSnKOWboOS4uuaYvuekuumBrue9qeaXtuW3sumHjee9ruS4ujEp55qE5pWI5p6cXHJcblx0XHRcdFx0XHR0aGlzLnpvb21TdHlsZS50cmFuc2Zvcm0gPSB0aGlzLnNjYWxlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGNvbXB1dGVkOiB7XHJcblx0XHRcdG1hc2tTdHlsZSgpIHtcclxuXHRcdFx0XHRsZXQgc3R5bGUgPSB7fTtcclxuXHRcdFx0XHRzdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYmEoMCwgMCwgMCwgMC42KVwiO1xyXG5cdFx0XHRcdGlmKHRoaXMuc2hvdykgc3R5bGUuekluZGV4ID0gdGhpcy56SW5kZXggPyB0aGlzLnpJbmRleCA6IHRoaXMuJHUuekluZGV4Lm1hc2s7XHJcblx0XHRcdFx0ZWxzZSBzdHlsZS56SW5kZXggPSAtMTtcclxuXHRcdFx0XHRzdHlsZS50cmFuc2l0aW9uID0gYGFsbCAke3RoaXMuZHVyYXRpb24gLyAxMDAwfXMgZWFzZS1pbi1vdXRgO1xyXG5cdFx0XHRcdC8vIOWIpOaWreeUqOaIt+S8oOmAkueahOWvueixoeaYr+WQpuS4uuepuu+8jOS4jeS4uuepuuWwsei/m+ihjOWQiOW5tlxyXG5cdFx0XHRcdGlmIChPYmplY3Qua2V5cyh0aGlzLmN1c3RvbVN0eWxlKS5sZW5ndGgpIHN0eWxlID0geyBcclxuXHRcdFx0XHRcdC4uLnN0eWxlLFxyXG5cdFx0XHRcdFx0Li4udGhpcy5jdXN0b21TdHlsZVxyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0cmV0dXJuIHN0eWxlO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRmaWx0ZXJTdHlsZSgpIHtcclxuXHRcdFx0XHRsZXQgeyBibHVyIH0gPSB0aGlzO1xyXG5cdFx0XHRcdGxldCBzdHlsZSA9IHt9O1xyXG5cdFx0XHRcdGlmIChibHVyKSB7XHJcblx0XHRcdFx0XHRzdHlsZS5iYWNrZHJvcEZpbHRlciA9IGBibHVyKCR7Ymx1cn1ycHgpYDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHN0eWxlO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0bWV0aG9kczoge1xyXG5cdFx0XHRjbGljaygpIHtcclxuXHRcdFx0XHRpZiAoIXRoaXMubWFza0NsaWNrQWJsZSkgcmV0dXJuO1xyXG5cdFx0XHRcdHRoaXMuJGVtaXQoJ2NsaWNrJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxyXG5cdEBpbXBvcnQgXCIuLi8uLi9saWJzL2Nzcy9zdHlsZS5jb21wb25lbnRzLnNjc3NcIjtcclxuXHRcclxuXHQudS1tYXNrIHtcclxuXHRcdHBvc2l0aW9uOiBmaXhlZDtcclxuXHRcdHRvcDogMDtcclxuXHRcdGxlZnQ6IDA7XHJcblx0XHRyaWdodDogMDtcclxuXHRcdGJvdHRvbTogMDtcclxuXHRcdG9wYWNpdHk6IDA7XHJcblx0XHR0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcztcclxuXHR9XHJcblxyXG5cdC51LW1hc2stc2hvdyB7XHJcblx0XHRvcGFjaXR5OiAxO1xyXG5cdH1cclxuXHRcclxuXHQudS1tYXNrLXpvb20ge1xyXG5cdFx0dHJhbnNmb3JtOiBzY2FsZSgxLjIsIDEuMik7XHJcblx0fVxyXG48L3N0eWxlPlxyXG4iLCI8dGVtcGxhdGU+XHJcblx0PHZpZXcgOnN0eWxlPVwiW2N1c3RvbVN0eWxlXVwiIGNsYXNzPVwidS1pY29uXCIgQHRhcD1cImNsaWNrXCIgOmNsYXNzPVwiWyd1LWljb24tLScgKyBsYWJlbFBvc11cIj5cclxuXHRcdDxpbWFnZSBjbGFzcz1cInUtaWNvbl9faW1nXCIgdi1pZj1cImlzSW1nXCIgOnNyYz1cIm5hbWVcIiA6bW9kZT1cImltZ01vZGVcIiA6c3R5bGU9XCJbaW1nU3R5bGVdXCI+PC9pbWFnZT5cclxuXHRcdDx2aWV3XHJcblx0XHRcdHYtZWxzZVxyXG5cdFx0XHRjbGFzcz1cInUtaWNvbl9faWNvblwiXHJcblx0XHRcdDpjbGFzcz1cImN1c3RvbUNsYXNzXCJcclxuXHRcdFx0OnN0eWxlPVwiW2ljb25TdHlsZV1cIlxyXG5cdFx0XHQ6aG92ZXItY2xhc3M9XCJob3ZlckNsYXNzXCJcclxuXHRcdFx0QHRvdWNoc3RhcnQ9XCJ0b3VjaHN0YXJ0XCJcclxuXHRcdD5cclxuXHRcdFx0PHRleHRcclxuXHRcdFx0XHR2LWlmPVwic2hvd0RlY2ltYWxJY29uXCJcclxuXHRcdFx0XHQ6c3R5bGU9XCJbZGVjaW1hbEljb25TdHlsZV1cIlxyXG5cdFx0XHRcdDpjbGFzcz1cImRlY2ltYWxJY29uQ2xhc3NcIlxyXG5cdFx0XHRcdDpob3Zlci1jbGFzcz1cImhvdmVyQ2xhc3NcIlxyXG5cdFx0XHRcdGNsYXNzPVwidS1pY29uX19kZWNpbWFsXCJcclxuXHRcdFx0PjwvdGV4dD5cclxuXHRcdDwvdmlldz5cclxuXHRcdDwhLS0g6L+Z6YeM6L+b6KGM56m65a2X56ym5Liy5Yik5pat77yM5aaC5p6c5LuF5LuF5pivdi1pZj1cImxhYmVsXCLvvIzlj6/og73kvJrlh7rnjrDkvKDpgJIw55qE5pe25YCZ77yM57uT5p6c5Lmf5peg5rOV5pi+56S677yM5b6u5L+h5bCP56iL5bqP5LiN5Lyg5YC86buY6K6k5Li6bnVsbO+8jOaVhemcgOimgeWinuWKoG51bGznmoTliKTmlq0gLS0+XHJcblx0XHQ8dGV4dFxyXG5cdFx0XHR2LWlmPVwibGFiZWwgIT09ICcnICYmIGxhYmVsICE9PSBudWxsXCJcclxuXHRcdFx0Y2xhc3M9XCJ1LWljb25fX2xhYmVsXCJcclxuXHRcdFx0OnN0eWxlPVwie1xyXG5cdFx0XHRcdGNvbG9yOiBsYWJlbENvbG9yLFxyXG5cdFx0XHRcdGZvbnRTaXplOiAkdS5hZGRVbml0KGxhYmVsU2l6ZSksXHJcblx0XHRcdFx0bWFyZ2luTGVmdDogbGFiZWxQb3MgPT0gJ3JpZ2h0JyA/ICR1LmFkZFVuaXQobWFyZ2luTGVmdCkgOiAwLFxyXG5cdFx0XHRcdG1hcmdpblRvcDogbGFiZWxQb3MgPT0gJ2JvdHRvbScgPyAkdS5hZGRVbml0KG1hcmdpblRvcCkgOiAwLFxyXG5cdFx0XHRcdG1hcmdpblJpZ2h0OiBsYWJlbFBvcyA9PSAnbGVmdCcgPyAkdS5hZGRVbml0KG1hcmdpblJpZ2h0KSA6IDAsXHJcblx0XHRcdFx0bWFyZ2luQm90dG9tOiBsYWJlbFBvcyA9PSAndG9wJyA/ICR1LmFkZFVuaXQobWFyZ2luQm90dG9tKSA6IDBcclxuXHRcdFx0fVwiXHJcblx0XHQ+XHJcblx0XHRcdHt7IGxhYmVsIH19XHJcblx0XHQ8L3RleHQ+XHJcblx0PC92aWV3PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuLyoqXHJcbiAqIGljb24g5Zu+5qCHXHJcbiAqIEBkZXNjcmlwdGlvbiDln7rkuo7lrZfkvZPnmoTlm77moIfpm4bvvIzljIXlkKvkuoblpKflpJrmlbDluLjop4HlnLrmma/nmoTlm77moIfjgIJcclxuICogQHR1dG9yaWFsIGh0dHBzOi8vd3d3LnV2aWV3dWkuY29tL2NvbXBvbmVudHMvaWNvbi5odG1sXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBuYW1lIOWbvuagh+WQjeensO+8jOingeekuuS+i+Wbvuagh+mbhlxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gY29sb3Ig5Zu+5qCH6aKc6Imy77yI6buY6K6kaW5oZXJpdO+8iVxyXG4gKiBAcHJvcGVydHkge1N0cmluZyB8IE51bWJlcn0gc2l6ZSDlm77moIflrZfkvZPlpKflsI/vvIzljZXkvY1ycHjvvIjpu5jorqQzMu+8iVxyXG4gKiBAcHJvcGVydHkge1N0cmluZyB8IE51bWJlcn0gbGFiZWwtc2l6ZSBsYWJlbOWtl+S9k+Wkp+Wwj++8jOWNleS9jXJweO+8iOm7mOiupDI477yJXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBsYWJlbCDlm77moIflj7PkvqfnmoRsYWJlbOaWh+Wtl++8iOm7mOiupDI477yJXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBsYWJlbC1wb3MgbGFiZWzmloflrZfnm7jlr7nkuo7lm77moIfnmoTkvY3nva7vvIzlj6rog71yaWdodOaIlmJvdHRvbe+8iOm7mOiupHJpZ2h077yJXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBsYWJlbC1jb2xvciBsYWJlbOWtl+S9k+minOiJsu+8iOm7mOiupCM2MDYyNjbvvIlcclxuICogQHByb3BlcnR5IHtPYmplY3R9IGN1c3RvbS1zdHlsZSBpY29u55qE5qC35byP77yM5a+56LGh5b2i5byPXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBjdXN0b20tcHJlZml4IOiHquWumuS5ieWtl+S9k+Wbvuagh+W6k+aXtu+8jOmcgOimgeWGmeS4iuatpOWAvFxyXG4gKiBAcHJvcGVydHkge1N0cmluZyB8IE51bWJlcn0gbWFyZ2luLWxlZnQgbGFiZWzlnKjlj7Pkvqfml7bkuI7lm77moIfnmoTot53nprvvvIzljZXkvY1ycHjvvIjpu5jorqQ277yJXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nIHwgTnVtYmVyfSBtYXJnaW4tdG9wIGxhYmVs5Zyo5LiL5pa55pe25LiO5Zu+5qCH55qE6Led56a777yM5Y2V5L2NcnB477yI6buY6K6kNu+8iVxyXG4gKiBAcHJvcGVydHkge1N0cmluZyB8IE51bWJlcn0gbWFyZ2luLWJvdHRvbSBsYWJlbOWcqOS4iuaWueaXtuS4juWbvuagh+eahOi3neemu++8jOWNleS9jXJweO+8iOm7mOiupDbvvIlcclxuICogQHByb3BlcnR5IHtTdHJpbmcgfCBOdW1iZXJ9IG1hcmdpbi1yaWdodCBsYWJlbOWcqOW3puS+p+aXtuS4juWbvuagh+eahOi3neemu++8jOWNleS9jXJweO+8iOm7mOiupDbvvIlcclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGxhYmVsLXBvcyBsYWJlbOebuOWvueS6juWbvuagh+eahOS9jee9ru+8jOWPquiDvXJpZ2h05oiWYm90dG9t77yI6buY6K6kcmlnaHTvvIlcclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGluZGV4IOS4gOS4queUqOS6juWMuuWIhuWkmuS4quWbvuagh+eahOWAvO+8jOeCueWHu+Wbvuagh+aXtumAmui/h2NsaWNr5LqL5Lu25Lyg5Ye6XHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBob3Zlci1jbGFzcyDlm77moIfmjInkuIvljrvnmoTmoLflvI/nsbvvvIznlKjms5XlkIx1bmnnmoR2aWV357uE5Lu255qEaG92ZXItY2xhc3Plj4LmlbDvvIzor6bmg4Xop4HlrpjnvZFcclxuICogQHByb3BlcnR5IHtTdHJpbmd9IHdpZHRoIOaYvuekuuWbvueJh+Wwj+Wbvuagh+aXtueahOWuveW6plxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gaGVpZ2h0IOaYvuekuuWbvueJh+Wwj+Wbvuagh+aXtueahOmrmOW6plxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gdG9wIOWbvuagh+WcqOWeguebtOaWueWQkeS4iueahOWumuS9jVxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gdG9wIOWbvuagh+WcqOWeguebtOaWueWQkeS4iueahOWumuS9jVxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gdG9wIOWbvuagh+WcqOWeguebtOaWueWQkeS4iueahOWumuS9jVxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IHNob3ctZGVjaW1hbC1pY29uIOaYr+WQpuS4ukRlY2ltYWxJY29uXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBpbmFjdGl2ZS1jb2xvciDog4zmma/popzoibLvvIzlj6/mjqXlj5fkuLvpopjoibLvvIzku4VEZWNpbWFs5pe25pyJ5pWIXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nIHwgTnVtYmVyfSBwZXJjZW50IOaYvuekuueahOeZvuWIhuavlO+8jOS7hURlY2ltYWzml7bmnInmlYhcclxuICogQGV2ZW50IHtGdW5jdGlvbn0gY2xpY2sg54K55Ye75Zu+5qCH5pe26Kem5Y+RXHJcbiAqIEBleGFtcGxlIDx1LWljb24gbmFtZT1cInBob3RvXCIgY29sb3I9XCIjMjk3OWZmXCIgc2l6ZT1cIjI4XCI+PC91LWljb24+XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCB7XHJcblx0bmFtZTogXCJ1LWljb25cIixcclxuXHRlbWl0czogW1wiY2xpY2tcIiwgXCJ0b3VjaHN0YXJ0XCJdLFxyXG5cdHByb3BzOiB7XHJcblx0XHQvLyDlm77moIfnsbvlkI1cclxuXHRcdG5hbWU6IHtcclxuXHRcdFx0dHlwZTogU3RyaW5nLFxyXG5cdFx0XHRkZWZhdWx0OiBcIlwiXHJcblx0XHR9LFxyXG5cdFx0Ly8g5Zu+5qCH6aKc6Imy77yM5Y+v5o6l5Y+X5Li76aKY6ImyXHJcblx0XHRjb2xvcjoge1xyXG5cdFx0XHR0eXBlOiBTdHJpbmcsXHJcblx0XHRcdGRlZmF1bHQ6IFwiXCJcclxuXHRcdH0sXHJcblx0XHQvLyDlrZfkvZPlpKflsI/vvIzljZXkvY1ycHhcclxuXHRcdHNpemU6IHtcclxuXHRcdFx0dHlwZTogW051bWJlciwgU3RyaW5nXSxcclxuXHRcdFx0ZGVmYXVsdDogXCJpbmhlcml0XCJcclxuXHRcdH0sXHJcblx0XHQvLyDmmK/lkKbmmL7npLrnspfkvZNcclxuXHRcdGJvbGQ6IHtcclxuXHRcdFx0dHlwZTogQm9vbGVhbixcclxuXHRcdFx0ZGVmYXVsdDogZmFsc2VcclxuXHRcdH0sXHJcblx0XHQvLyDngrnlh7vlm77moIfnmoTml7blgJnkvKDpgJLkuovku7blh7rljrvnmoRpbmRleO+8iOeUqOS6juWMuuWIhueCueWHu+S6huWTquS4gOS4qu+8iVxyXG5cdFx0aW5kZXg6IHtcclxuXHRcdFx0dHlwZTogW051bWJlciwgU3RyaW5nXSxcclxuXHRcdFx0ZGVmYXVsdDogXCJcIlxyXG5cdFx0fSxcclxuXHRcdC8vIOinpuaRuOWbvuagh+aXtueahOexu+WQjVxyXG5cdFx0aG92ZXJDbGFzczoge1xyXG5cdFx0XHR0eXBlOiBTdHJpbmcsXHJcblx0XHRcdGRlZmF1bHQ6IFwiXCJcclxuXHRcdH0sXHJcblx0XHQvLyDoh6rlrprkuYnmianlsZXliY3nvIDvvIzmlrnkvr/nlKjmiLfmianlsZXoh6rlt7HnmoTlm77moIflupNcclxuXHRcdGN1c3RvbVByZWZpeDoge1xyXG5cdFx0XHR0eXBlOiBTdHJpbmcsXHJcblx0XHRcdGRlZmF1bHQ6IFwidWljb25cIlxyXG5cdFx0fSxcclxuXHRcdC8vIOWbvuagh+WPs+i+ueaIluiAheS4i+mdoueahOaWh+Wtl1xyXG5cdFx0bGFiZWw6IHtcclxuXHRcdFx0dHlwZTogW1N0cmluZywgTnVtYmVyXSxcclxuXHRcdFx0ZGVmYXVsdDogXCJcIlxyXG5cdFx0fSxcclxuXHRcdC8vIGxhYmVs55qE5L2N572u77yM5Y+q6IO95Y+z6L655oiW6ICF5LiL6L65XHJcblx0XHRsYWJlbFBvczoge1xyXG5cdFx0XHR0eXBlOiBTdHJpbmcsXHJcblx0XHRcdGRlZmF1bHQ6IFwicmlnaHRcIlxyXG5cdFx0fSxcclxuXHRcdC8vIGxhYmVs55qE5aSn5bCPXHJcblx0XHRsYWJlbFNpemU6IHtcclxuXHRcdFx0dHlwZTogW1N0cmluZywgTnVtYmVyXSxcclxuXHRcdFx0ZGVmYXVsdDogXCIyOFwiXHJcblx0XHR9LFxyXG5cdFx0Ly8gbGFiZWznmoTpopzoibJcclxuXHRcdGxhYmVsQ29sb3I6IHtcclxuXHRcdFx0dHlwZTogU3RyaW5nLFxyXG5cdFx0XHRkZWZhdWx0OiBcIiM2MDYyNjZcIlxyXG5cdFx0fSxcclxuXHRcdC8vIGxhYmVs5LiO5Zu+5qCH55qE6Led56a7KOaoquWQkeaOkuWIlylcclxuXHRcdG1hcmdpbkxlZnQ6IHtcclxuXHRcdFx0dHlwZTogW1N0cmluZywgTnVtYmVyXSxcclxuXHRcdFx0ZGVmYXVsdDogXCI2XCJcclxuXHRcdH0sXHJcblx0XHQvLyBsYWJlbOS4juWbvuagh+eahOi3neemuyjnq5blkJHmjpLliJcpXHJcblx0XHRtYXJnaW5Ub3A6IHtcclxuXHRcdFx0dHlwZTogW1N0cmluZywgTnVtYmVyXSxcclxuXHRcdFx0ZGVmYXVsdDogXCI2XCJcclxuXHRcdH0sXHJcblx0XHQvLyBsYWJlbOS4juWbvuagh+eahOi3neemuyjnq5blkJHmjpLliJcpXHJcblx0XHRtYXJnaW5SaWdodDoge1xyXG5cdFx0XHR0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxyXG5cdFx0XHRkZWZhdWx0OiBcIjZcIlxyXG5cdFx0fSxcclxuXHRcdC8vIGxhYmVs5LiO5Zu+5qCH55qE6Led56a7KOerluWQkeaOkuWIlylcclxuXHRcdG1hcmdpbkJvdHRvbToge1xyXG5cdFx0XHR0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxyXG5cdFx0XHRkZWZhdWx0OiBcIjZcIlxyXG5cdFx0fSxcclxuXHRcdC8vIOWbvueJh+eahG1vZGVcclxuXHRcdGltZ01vZGU6IHtcclxuXHRcdFx0dHlwZTogU3RyaW5nLFxyXG5cdFx0XHRkZWZhdWx0OiBcIndpZHRoRml4XCJcclxuXHRcdH0sXHJcblx0XHQvLyDoh6rlrprkuYnmoLflvI9cclxuXHRcdGN1c3RvbVN0eWxlOiB7XHJcblx0XHRcdHR5cGU6IE9iamVjdCxcclxuXHRcdFx0ZGVmYXVsdCgpIHtcclxuXHRcdFx0XHRyZXR1cm4ge307XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQvLyDnlKjkuo7mmL7npLrlm77niYflsI/lm77moIfml7bvvIzlm77niYfnmoTlrr3luqZcclxuXHRcdHdpZHRoOiB7XHJcblx0XHRcdHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sXHJcblx0XHRcdGRlZmF1bHQ6IFwiXCJcclxuXHRcdH0sXHJcblx0XHQvLyDnlKjkuo7mmL7npLrlm77niYflsI/lm77moIfml7bvvIzlm77niYfnmoTpq5jluqZcclxuXHRcdGhlaWdodDoge1xyXG5cdFx0XHR0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxyXG5cdFx0XHRkZWZhdWx0OiBcIlwiXHJcblx0XHR9LFxyXG5cdFx0Ly8g55So5LqO6Kej5Yaz5p+Q5Lqb5oOF5Ya15LiL77yM6K6p5Zu+5qCH5Z6C55u05bGF5Lit55qE55So6YCUXHJcblx0XHR0b3A6IHtcclxuXHRcdFx0dHlwZTogW1N0cmluZywgTnVtYmVyXSxcclxuXHRcdFx0ZGVmYXVsdDogMFxyXG5cdFx0fSxcclxuXHRcdC8vIOaYr+WQpuS4ukRlY2ltYWxJY29uXHJcblx0XHRzaG93RGVjaW1hbEljb246IHtcclxuXHRcdFx0dHlwZTogQm9vbGVhbixcclxuXHRcdFx0ZGVmYXVsdDogZmFsc2VcclxuXHRcdH0sXHJcblx0XHQvLyDog4zmma/popzoibLvvIzlj6/mjqXlj5fkuLvpopjoibLvvIzku4VEZWNpbWFs5pe25pyJ5pWIXHJcblx0XHRpbmFjdGl2ZUNvbG9yOiB7XHJcblx0XHRcdHR5cGU6IFN0cmluZyxcclxuXHRcdFx0ZGVmYXVsdDogXCIjZWNlY2VjXCJcclxuXHRcdH0sXHJcblx0XHQvLyDmmL7npLrnmoTnmb7liIbmr5TvvIzku4VEZWNpbWFs5pe25pyJ5pWIXHJcblx0XHRwZXJjZW50OiB7XHJcblx0XHRcdHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXHJcblx0XHRcdGRlZmF1bHQ6IFwiNTBcIlxyXG5cdFx0fVxyXG5cdH0sXHJcblx0Y29tcHV0ZWQ6IHtcclxuXHRcdGN1c3RvbUNsYXNzKCkge1xyXG5cdFx0XHRsZXQgY2xhc3NlcyA9IFtdO1xyXG5cdFx0XHRsZXQgeyBjdXN0b21QcmVmaXgsIG5hbWUgfSA9IHRoaXM7XHJcblx0XHRcdGxldCBpbmRleCA9IG5hbWUuaW5kZXhPZihcIi1pY29uLVwiKTtcclxuXHRcdFx0aWYgKGluZGV4ID4gLTEpIHtcclxuXHRcdFx0XHRjdXN0b21QcmVmaXggPSBuYW1lLnN1YnN0cmluZygwLCBpbmRleCArIDUpO1xyXG5cdFx0XHRcdGNsYXNzZXMucHVzaChuYW1lKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjbGFzc2VzLnB1c2goYCR7Y3VzdG9tUHJlZml4fS0ke25hbWV9YCk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gdVZpZXfnmoToh6rlrprkuYnlm77moIfnsbvlkI3kuLp1LWljb25mb250XHJcblx0XHRcdGlmIChjdXN0b21QcmVmaXggPT09IFwidWljb25cIikge1xyXG5cdFx0XHRcdGNsYXNzZXMucHVzaChcInUtaWNvbmZvbnRcIik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGN1c3RvbVByZWZpeCk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8g5Li76aKY6Imy77yM6YCa6L+H57G76YWN572uXHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHR0aGlzLnNob3dEZWNpbWFsSWNvbiAmJlxyXG5cdFx0XHRcdHRoaXMuaW5hY3RpdmVDb2xvciAmJlxyXG5cdFx0XHRcdHRoaXMuJHUuY29uZmlnLnR5cGUuaW5jbHVkZXModGhpcy5pbmFjdGl2ZUNvbG9yKVxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHRjbGFzc2VzLnB1c2goXCJ1LWljb25fX2ljb24tLVwiICsgdGhpcy5pbmFjdGl2ZUNvbG9yKTtcclxuXHRcdFx0fSBlbHNlIGlmICh0aGlzLmNvbG9yICYmIHRoaXMuJHUuY29uZmlnLnR5cGUuaW5jbHVkZXModGhpcy5jb2xvcikpXHJcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKFwidS1pY29uX19pY29uLS1cIiArIHRoaXMuY29sb3IpO1xyXG5cdFx0XHQvLyDpmL/ph4zvvIzlpLTmnaHvvIznmb7luqblsI/nqIvluo/pgJrov4fmlbDnu4Tnu5HlrprnsbvlkI3ml7bvvIzml6Dms5Xnm7TmjqXkvb/nlKhbYSwgYiwgY13nmoTlvaLlvI/vvIzlkKbliJnml6Dms5Xor4bliKtcclxuXHRcdFx0Ly8g5pWF6ZyA5bCG5YW25ouG5oiQ5LiA5Liq5a2X56ym5Liy55qE5b2i5byP77yM6YCa6L+H56m65qC86ZqU5byA5ZCE5Liq57G75ZCNXHJcblx0XHRcdC8vI2lmZGVmIE1QLUFMSVBBWSB8fCBNUC1UT1VUSUFPIHx8IE1QLUJBSURVXHJcblx0XHRcdGNsYXNzZXMgPSBjbGFzc2VzLmpvaW4oXCIgXCIpO1xyXG5cdFx0XHQvLyNlbmRpZlxyXG5cdFx0XHRyZXR1cm4gY2xhc3NlcztcclxuXHRcdH0sXHJcblx0XHRpY29uU3R5bGUoKSB7XHJcblx0XHRcdGxldCBzdHlsZSA9IHt9O1xyXG5cdFx0XHRzdHlsZSA9IHtcclxuXHRcdFx0XHRmb250U2l6ZTogdGhpcy5zaXplID09IFwiaW5oZXJpdFwiID8gXCJpbmhlcml0XCIgOiB0aGlzLiR1LmFkZFVuaXQodGhpcy5zaXplKSxcclxuXHRcdFx0XHRmb250V2VpZ2h0OiB0aGlzLmJvbGQgPyBcImJvbGRcIiA6IFwibm9ybWFsXCIsXHJcblx0XHRcdFx0Ly8g5p+Q5Lqb54m55q6K5oOF5Ya16ZyA6KaB6K6+572u5LiA5Liq5Yiw6aG26YOo55qE6Led56a777yM5omN6IO95pu05aW955qE5Z6C55u05bGF5LitXHJcblx0XHRcdFx0dG9wOiB0aGlzLiR1LmFkZFVuaXQodGhpcy50b3ApXHJcblx0XHRcdH07XHJcblx0XHRcdC8vIOmdnuS4u+mimOiJsuWAvOaXtu+8jOaJjeW9k+S9nOminOiJsuWAvFxyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0dGhpcy5zaG93RGVjaW1hbEljb24gJiZcclxuXHRcdFx0XHR0aGlzLmluYWN0aXZlQ29sb3IgJiZcclxuXHRcdFx0XHQhdGhpcy4kdS5jb25maWcudHlwZS5pbmNsdWRlcyh0aGlzLmluYWN0aXZlQ29sb3IpXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdHN0eWxlLmNvbG9yID0gdGhpcy5pbmFjdGl2ZUNvbG9yO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMuY29sb3IgJiYgIXRoaXMuJHUuY29uZmlnLnR5cGUuaW5jbHVkZXModGhpcy5jb2xvcikpIHN0eWxlLmNvbG9yID0gdGhpcy5jb2xvcjtcclxuXHJcblx0XHRcdHJldHVybiBzdHlsZTtcclxuXHRcdH0sXHJcblx0XHQvLyDliKTmlq3kvKDlhaXnmoRuYW1l5bGe5oCn77yM5piv5ZCm5Zu+54mH6Lev5b6E77yM5Y+q6KaB5bim5pyJXCIvXCLlnYforqTkuLrmmK/lm77niYflvaLlvI9cclxuXHRcdGlzSW1nKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5uYW1lLmluZGV4T2YoXCIvXCIpICE9PSAtMTtcclxuXHRcdH0sXHJcblx0XHRpbWdTdHlsZSgpIHtcclxuXHRcdFx0bGV0IHN0eWxlID0ge307XHJcblx0XHRcdC8vIOWmguaenOiuvue9rndpZHRo5ZKMaGVpZ2h05bGe5oCn77yM5YiZ5LyY5YWI5L2/55So77yM5ZCm5YiZ5L2/55Soc2l6ZeWxnuaAp1xyXG5cdFx0XHRzdHlsZS53aWR0aCA9IHRoaXMud2lkdGggPyB0aGlzLiR1LmFkZFVuaXQodGhpcy53aWR0aCkgOiB0aGlzLiR1LmFkZFVuaXQodGhpcy5zaXplKTtcclxuXHRcdFx0c3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgPyB0aGlzLiR1LmFkZFVuaXQodGhpcy5oZWlnaHQpIDogdGhpcy4kdS5hZGRVbml0KHRoaXMuc2l6ZSk7XHJcblx0XHRcdHJldHVybiBzdHlsZTtcclxuXHRcdH0sXHJcblx0XHRkZWNpbWFsSWNvblN0eWxlKCkge1xyXG5cdFx0XHRsZXQgc3R5bGUgPSB7fTtcclxuXHRcdFx0c3R5bGUgPSB7XHJcblx0XHRcdFx0Zm9udFNpemU6IHRoaXMuc2l6ZSA9PSBcImluaGVyaXRcIiA/IFwiaW5oZXJpdFwiIDogdGhpcy4kdS5hZGRVbml0KHRoaXMuc2l6ZSksXHJcblx0XHRcdFx0Zm9udFdlaWdodDogdGhpcy5ib2xkID8gXCJib2xkXCIgOiBcIm5vcm1hbFwiLFxyXG5cdFx0XHRcdC8vIOafkOS6m+eJueauiuaDheWGtemcgOimgeiuvue9ruS4gOS4quWIsOmhtumDqOeahOi3neemu++8jOaJjeiDveabtOWlveeahOWeguebtOWxheS4rVxyXG5cdFx0XHRcdHRvcDogdGhpcy4kdS5hZGRVbml0KHRoaXMudG9wKSxcclxuXHRcdFx0XHR3aWR0aDogdGhpcy5wZXJjZW50ICsgXCIlXCJcclxuXHRcdFx0fTtcclxuXHRcdFx0Ly8g6Z2e5Li76aKY6Imy5YC85pe277yM5omN5b2T5L2c6aKc6Imy5YC8XHJcblx0XHRcdGlmICh0aGlzLmNvbG9yICYmICF0aGlzLiR1LmNvbmZpZy50eXBlLmluY2x1ZGVzKHRoaXMuY29sb3IpKSBzdHlsZS5jb2xvciA9IHRoaXMuY29sb3I7XHJcblx0XHRcdHJldHVybiBzdHlsZTtcclxuXHRcdH0sXHJcblx0XHRkZWNpbWFsSWNvbkNsYXNzKCkge1xyXG5cdFx0XHRsZXQgY2xhc3NlcyA9IFtdO1xyXG5cdFx0XHRjbGFzc2VzLnB1c2godGhpcy5jdXN0b21QcmVmaXggKyBcIi1cIiArIHRoaXMubmFtZSk7XHJcblx0XHRcdC8vIHVWaWV355qE6Ieq5a6a5LmJ5Zu+5qCH57G75ZCN5Li6dS1pY29uZm9udFxyXG5cdFx0XHRpZiAodGhpcy5jdXN0b21QcmVmaXggPT0gXCJ1aWNvblwiKSB7XHJcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKFwidS1pY29uZm9udFwiKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjbGFzc2VzLnB1c2godGhpcy5jdXN0b21QcmVmaXgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIOS4u+mimOiJsu+8jOmAmui/h+exu+mFjee9rlxyXG5cdFx0XHRpZiAodGhpcy5jb2xvciAmJiB0aGlzLiR1LmNvbmZpZy50eXBlLmluY2x1ZGVzKHRoaXMuY29sb3IpKVxyXG5cdFx0XHRcdGNsYXNzZXMucHVzaChcInUtaWNvbl9faWNvbi0tXCIgKyB0aGlzLmNvbG9yKTtcclxuXHRcdFx0ZWxzZSBjbGFzc2VzLnB1c2goXCJ1LWljb25fX2ljb24tLXByaW1hcnlcIik7XHJcblx0XHRcdC8vIOmYv+mHjO+8jOWktOadoe+8jOeZvuW6puWwj+eoi+W6j+mAmui/h+aVsOe7hOe7keWumuexu+WQjeaXtu+8jOaXoOazleebtOaOpeS9v+eUqFthLCBiLCBjXeeahOW9ouW8j++8jOWQpuWImeaXoOazleivhuWIq1xyXG5cdFx0XHQvLyDmlYXpnIDlsIblhbbmi4bmiJDkuIDkuKrlrZfnrKbkuLLnmoTlvaLlvI/vvIzpgJrov4fnqbrmoLzpmpTlvIDlkITkuKrnsbvlkI1cclxuXHRcdFx0Ly8jaWZkZWYgTVAtQUxJUEFZIHx8IE1QLVRPVVRJQU8gfHwgTVAtQkFJRFVcclxuXHRcdFx0Y2xhc3NlcyA9IGNsYXNzZXMuam9pbihcIiBcIik7XHJcblx0XHRcdC8vI2VuZGlmXHJcblx0XHRcdHJldHVybiBjbGFzc2VzO1xyXG5cdFx0fVxyXG5cdH0sXHJcblx0bWV0aG9kczoge1xyXG5cdFx0Y2xpY2soKSB7XHJcblx0XHRcdHRoaXMuJGVtaXQoXCJjbGlja1wiLCB0aGlzLmluZGV4KTtcclxuXHRcdH0sXHJcblx0XHR0b3VjaHN0YXJ0KCkge1xyXG5cdFx0XHR0aGlzLiRlbWl0KFwidG91Y2hzdGFydFwiLCB0aGlzLmluZGV4KTtcclxuXHRcdH1cclxuXHR9XHJcbn07XHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlIHNjb3BlZCBsYW5nPVwic2Nzc1wiPlxyXG5AaW1wb3J0IFwiLi4vLi4vbGlicy9jc3Mvc3R5bGUuY29tcG9uZW50cy5zY3NzXCI7XHJcbkBpbXBvcnQgXCIuLi8uLi9pY29uZm9udC5jc3NcIjtcclxuXHJcbi51LWljb24ge1xyXG5cdGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG5cdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblxyXG5cdCYtLWxlZnQge1xyXG5cdFx0ZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlO1xyXG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHR9XHJcblxyXG5cdCYtLXJpZ2h0IHtcclxuXHRcdGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcblx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cdH1cclxuXHJcblx0Ji0tdG9wIHtcclxuXHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcclxuXHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdH1cclxuXHJcblx0Ji0tYm90dG9tIHtcclxuXHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHR9XHJcblxyXG5cdCZfX2ljb24ge1xyXG5cdFx0cG9zaXRpb246IHJlbGF0aXZlO1xyXG5cclxuXHRcdCYtLXByaW1hcnkge1xyXG5cdFx0XHRjb2xvcjogJHUtdHlwZS1wcmltYXJ5O1xyXG5cdFx0fVxyXG5cclxuXHRcdCYtLXN1Y2Nlc3Mge1xyXG5cdFx0XHRjb2xvcjogJHUtdHlwZS1zdWNjZXNzO1xyXG5cdFx0fVxyXG5cclxuXHRcdCYtLWVycm9yIHtcclxuXHRcdFx0Y29sb3I6ICR1LXR5cGUtZXJyb3I7XHJcblx0XHR9XHJcblxyXG5cdFx0Ji0td2FybmluZyB7XHJcblx0XHRcdGNvbG9yOiAkdS10eXBlLXdhcm5pbmc7XHJcblx0XHR9XHJcblxyXG5cdFx0Ji0taW5mbyB7XHJcblx0XHRcdGNvbG9yOiAkdS10eXBlLWluZm87XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQmX19kZWNpbWFsIHtcclxuXHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHRcdHRvcDogMDtcclxuXHRcdGxlZnQ6IDA7XHJcblx0XHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcblx0XHRvdmVyZmxvdzogaGlkZGVuO1xyXG5cdH1cclxuXHJcblx0Jl9faW1nIHtcclxuXHRcdGhlaWdodDogYXV0bztcclxuXHRcdHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07XHJcblx0fVxyXG5cclxuXHQmX19sYWJlbCB7XHJcblx0XHRsaW5lLWhlaWdodDogMTtcclxuXHR9XHJcbn1cclxuPC9zdHlsZT5cclxuIiwiPHRlbXBsYXRlPlxyXG5cdDx2aWV3IHYtaWY9XCJ2aXNpYmxlU3luY1wiIDpzdHlsZT1cIltjdXN0b21TdHlsZSwge1xyXG5cdFx0ekluZGV4OiB1WmluZGV4IC0gMVxyXG5cdH1dXCIgY2xhc3M9XCJ1LWRyYXdlclwiIGhvdmVyLXN0b3AtcHJvcGFnYXRpb24+XHJcblx0XHQ8dS1tYXNrIDpibHVyPVwiYmx1clwiIDpkdXJhdGlvbj1cImR1cmF0aW9uXCIgOmN1c3RvbS1zdHlsZT1cIm1hc2tDdXN0b21TdHlsZVwiIDptYXNrQ2xpY2tBYmxlPVwibWFza0Nsb3NlQWJsZVwiIDp6LWluZGV4PVwidVppbmRleCAtIDJcIiA6c2hvdz1cInNob3dEcmF3ZXIgJiYgbWFza1wiIEBjbGljaz1cIm1hc2tDbGlja1wiPjwvdS1tYXNrPlxyXG5cdFx0PCEtLSDnp7vpmaRcdEB0YXAuc3RvcC5wcmV2ZW50IC0tPlxyXG5cdFx0PHZpZXdcclxuXHRcdFx0Y2xhc3M9XCJ1LWRyYXdlci1jb250ZW50XCJcclxuXHRcdFx0QHRhcD1cIm1vZGVDZW50ZXJDbG9zZShtb2RlKVwiXHJcblx0XHRcdDpjbGFzcz1cIltcclxuXHRcdFx0XHRzYWZlQXJlYUluc2V0Qm90dG9tID8gJ3NhZmUtYXJlYS1pbnNldC1ib3R0b20nIDogJycsXHJcblx0XHRcdFx0J3UtZHJhd2VyLScgKyBtb2RlLFxyXG5cdFx0XHRcdHNob3dEcmF3ZXIgPyAndS1kcmF3ZXItY29udGVudC12aXNpYmxlJyA6ICcnLFxyXG5cdFx0XHRcdHpvb20gJiYgbW9kZSA9PSAnY2VudGVyJyA/ICd1LWFuaW1hdGlvbi16b29tJyA6ICcnXHJcblx0XHRcdF1cIlxyXG5cdFx0XHRAdG91Y2htb3ZlLnN0b3AucHJldmVudFxyXG5cdFx0XHQ6c3R5bGU9XCJbc3R5bGVdXCJcclxuXHRcdD5cclxuXHRcdFx0PHZpZXcgY2xhc3M9XCJ1LW1vZGUtY2VudGVyLWJveFwiIEB0YXAuc3RvcC5wcmV2ZW50IEB0b3VjaG1vdmUuc3RvcC5wcmV2ZW50IHYtaWY9XCJtb2RlID09ICdjZW50ZXInXCIgOnN0eWxlPVwiW2NlbnRlclN0eWxlXVwiPlxyXG5cdFx0XHRcdDx1LWljb25cclxuXHRcdFx0XHRcdEBjbGljaz1cImNsb3NlXCJcclxuXHRcdFx0XHRcdHYtaWY9XCJjbG9zZWFibGVcIlxyXG5cdFx0XHRcdFx0Y2xhc3M9XCJ1LWNsb3NlXCJcclxuXHRcdFx0XHRcdDpjbGFzcz1cIlsndS1jbG9zZS0tJyArIGNsb3NlSWNvblBvc11cIlxyXG5cdFx0XHRcdFx0Om5hbWU9XCJjbG9zZUljb25cIlxyXG5cdFx0XHRcdFx0OmNvbG9yPVwiY2xvc2VJY29uQ29sb3JcIlxyXG5cdFx0XHRcdFx0OnNpemU9XCJjbG9zZUljb25TaXplXCJcclxuXHRcdFx0XHQ+PC91LWljb24+XHJcblx0XHRcdFx0PHNjcm9sbC12aWV3IGNsYXNzPVwidS1kcmF3ZXJfX3Njcm9sbC12aWV3XCIgc2Nyb2xsLXk9XCJ0cnVlXCI+XHJcblx0XHRcdFx0XHQ8c2xvdD48L3Nsb3Q+XHJcblx0XHRcdFx0PC9zY3JvbGwtdmlldz5cclxuXHRcdFx0PC92aWV3PlxyXG5cdFx0XHQ8c2Nyb2xsLXZpZXcgY2xhc3M9XCJ1LWRyYXdlcl9fc2Nyb2xsLXZpZXdcIiBzY3JvbGwteT1cInRydWVcIiB2LWVsc2U+XHJcblx0XHRcdFx0PHNsb3Q+PC9zbG90PlxyXG5cdFx0XHQ8L3Njcm9sbC12aWV3PlxyXG5cdFx0XHQ8dmlldyBAdGFwPVwiY2xvc2VcIiBjbGFzcz1cInUtY2xvc2VcIiA6Y2xhc3M9XCJbJ3UtY2xvc2UtLScgKyBjbG9zZUljb25Qb3NdXCI+XHJcblx0XHRcdFx0PHUtaWNvblxyXG5cdFx0XHRcdFx0di1pZj1cIm1vZGUgIT0gJ2NlbnRlcicgJiYgY2xvc2VhYmxlXCJcclxuXHRcdFx0XHRcdDpuYW1lPVwiY2xvc2VJY29uXCJcclxuXHRcdFx0XHRcdDpjb2xvcj1cImNsb3NlSWNvbkNvbG9yXCJcclxuXHRcdFx0XHRcdDpzaXplPVwiY2xvc2VJY29uU2l6ZVwiXHJcblx0XHRcdFx0PjwvdS1pY29uPlxyXG5cdFx0XHQ8L3ZpZXc+XHJcblx0XHQ8L3ZpZXc+XHJcblx0PC92aWV3PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuLyoqXHJcbiAqIHBvcHVwIOW8ueeql1xyXG4gKiBAZGVzY3JpcHRpb24g5by55Ye65bGC5a655Zmo77yM55So5LqO5bGV56S65by556qX44CB5L+h5oGv5o+Q56S6562J5YaF5a6577yM5pSv5oyB5LiK44CB5LiL44CB5bem44CB5Y+z5ZKM5Lit6YOo5by55Ye644CC57uE5Lu25Y+q5o+Q5L6b5a655Zmo77yM5YaF6YOo5YaF5a6555Sx55So5oi36Ieq5a6a5LmJXHJcbiAqIEB0dXRvcmlhbCBodHRwczovL3d3dy51dmlld3VpLmNvbS9jb21wb25lbnRzL3BvcHVwLmh0bWxcclxuICogQHByb3BlcnR5IHtTdHJpbmd9IG1vZGUg5by55Ye65pa55ZCR77yI6buY6K6kbGVmdO+8iVxyXG4gKiBcdEB2YWx1ZSBsZWZ0ICAgICAgIOW3puS+p+W8ueWHulxyXG4gKiAgQHZhbHVlIHRvcCAgICAgICAg6aG26YOo5by55Ye6XHJcbiAqIFx0QHZhbHVlIHJpZ2h0ICAgICAg5Y+z5L6n5by55Ye6XHJcbiAqIFx0QHZhbHVlIGJvdHRvbSAgICAg5bqV6YOo5by55Ye6XHJcbiAqIFx0QHZhbHVlIGNlbnRlciAgICAg5Lit6Ze05by55Ye6XHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gbWFzayDmmK/lkKbmmL7npLrpga7nvanvvIjpu5jorqR0cnVl77yJXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nciB8IE51bWJlcn0gbGVuZ3RoIG1vZGU9bGVmdCB8IOingeWumOe9keivtOaYju+8iOm7mOiupGF1dG/vvIlcclxuICogQHByb3BlcnR5IHtCb29sZWFufSB6b29tIOaYr+WQpuW8gOWQr+e8qeaUvuWKqOeUu++8jOWPquWcqG1vZGXkuLpjZW50ZXLml7bmnInmlYjvvIjpu5jorqR0cnVl77yJXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gc2FmZS1hcmVhLWluc2V0LWJvdHRvbSDmmK/lkKblvIDlkK/lupXpg6jlronlhajljLrpgILphY3vvIjpu5jorqRmYWxzZe+8iVxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IG1hc2stY2xvc2UtYWJsZSDngrnlh7vpga7nvanmmK/lkKblj6/ku6XlhbPpl63lvLnlh7rlsYLvvIjpu5jorqR0cnVl77yJXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBjdXN0b20tc3R5bGUg55So5oi36Ieq5a6a5LmJ5qC35byPXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nciB8IE51bWJlcn0gbmVnYXRpdmUtdG9wIOS4remDqOW8ueWHuuaXtu+8jOW+gOS4iuWBj+enu+eahOWAvFxyXG4gKiBAcHJvcGVydHkge051bWJlcnIgfCBTdHJpbmd9IGJvcmRlci1yYWRpdXMg5by556qX5ZyG6KeS5YC877yI6buY6K6kMO+8iVxyXG4gKiBAcHJvcGVydHkge051bWJlcnIgfCBTdHJpbmd9IHotaW5kZXgg5by55Ye65YaF5a6555qEei1pbmRleOWAvO+8iOm7mOiupDEwNzXvvIlcclxuICogQHByb3BlcnR5IHtCb29sZWFufSBjbG9zZWFibGUg5piv5ZCm5pi+56S65YWz6Zet5Zu+5qCH77yI6buY6K6kZmFsc2XvvIlcclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGNsb3NlLWljb24g5YWz6Zet5Zu+5qCH55qE5ZCN56ew77yM5Y+q6IO9dVZpZXfnmoTlhoXnva7lm77moIdcclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGNsb3NlLWljb24tcG9zIOiHquWumuS5ieWFs+mXreWbvuagh+S9jee9ru+8iOm7mOiupHRvcC1yaWdodO+8iVxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gY2xvc2UtaWNvbi1jb2xvciDlhbPpl63lm77moIfnmoTpopzoibLvvIjpu5jorqQjOTA5Mzk577yJXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyIHwgU3RyaW5nfSBjbG9zZS1pY29uLXNpemUg5YWz6Zet5Zu+5qCH55qE5aSn5bCP77yM5Y2V5L2NcnB477yI6buY6K6kMzDvvIlcclxuICogQGV2ZW50IHtGdW5jdGlvbn0gb3BlbiDlvLnlh7rlsYLmiZPlvIBcclxuICogQGV2ZW50IHtGdW5jdGlvbn0gY2xvc2Ug5by55Ye65bGC5pS26LW3XHJcbiAqIEBleGFtcGxlIDx1LXBvcHVwIHYtbW9kZWw9XCJzaG93XCI+PHZpZXc+5Ye65rek5rOl6ICM5LiN5p+T77yM5r+v5riF5raf6ICM5LiN5aaWPC92aWV3PjwvdS1wb3B1cD5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuXHRuYW1lOiAndS1wb3B1cCcsXHJcblx0ZW1pdHM6IFtcInVwZGF0ZTptb2RlbFZhbHVlXCIsIFwiaW5wdXRcIiwgXCJvcGVuXCIsIFwiY2xvc2VcIl0sXHJcblx0cHJvcHM6IHtcclxuXHRcdHZhbHVlOiB7XHJcblx0XHRcdHR5cGU6IEJvb2xlYW4sXHJcblx0XHRcdGRlZmF1bHQ6IGZhbHNlXHJcblx0XHR9LFxyXG5cdFx0bW9kZWxWYWx1ZToge1xyXG5cdFx0XHR0eXBlOiBCb29sZWFuLFxyXG5cdFx0XHRkZWZhdWx0OiBmYWxzZVxyXG5cdFx0fSxcclxuXHRcdC8qKlxyXG5cdFx0ICog5pi+56S654q25oCBXHJcblx0XHQgKi9cclxuXHRcdHNob3c6IHtcclxuXHRcdFx0dHlwZTogQm9vbGVhbixcclxuXHRcdFx0ZGVmYXVsdDogZmFsc2VcclxuXHRcdH0sXHJcblx0XHQvKipcclxuXHRcdCAqIOW8ueWHuuaWueWQke+8jGxlZnR8cmlnaHR8dG9wfGJvdHRvbXxjZW50ZXJcclxuXHRcdCAqL1xyXG5cdFx0bW9kZToge1xyXG5cdFx0XHR0eXBlOiBTdHJpbmcsXHJcblx0XHRcdGRlZmF1bHQ6ICdsZWZ0J1xyXG5cdFx0fSxcclxuXHRcdC8qKlxyXG5cdFx0ICog5piv5ZCm5pi+56S66YGu572pXHJcblx0XHQgKi9cclxuXHRcdG1hc2s6IHtcclxuXHRcdFx0dHlwZTogQm9vbGVhbixcclxuXHRcdFx0ZGVmYXVsdDogdHJ1ZVxyXG5cdFx0fSxcclxuXHRcdC8vIOaKveWxieeahOWuveW6pihtb2RlPWxlZnR8cmlnaHQp77yM5oiW6ICF6auY5bqmKG1vZGU9dG9wfGJvdHRvbSnvvIzljZXkvY1ycHjvvIzmiJbogIVcImF1dG9cIlxyXG5cdFx0Ly8g5oiW6ICF55m+5YiG5q+UXCI1MCVcIu+8jOihqOekuueUseWGheWuueaSkeW8gOmrmOW6puaIluiAheWuveW6plxyXG5cdFx0bGVuZ3RoOiB7XHJcblx0XHRcdHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXHJcblx0XHRcdGRlZmF1bHQ6ICdhdXRvJ1xyXG5cdFx0fSxcclxuXHRcdC8vIOaYr+WQpuW8gOWQr+e8qeaUvuWKqOeUu++8jOWPquWcqG1vZGU9Y2VudGVy5pe25pyJ5pWIXHJcblx0XHR6b29tOiB7XHJcblx0XHRcdHR5cGU6IEJvb2xlYW4sXHJcblx0XHRcdGRlZmF1bHQ6IHRydWVcclxuXHRcdH0sXHJcblx0XHQvLyDmmK/lkKblvIDlkK/lupXpg6jlronlhajljLrpgILphY3vvIzlvIDlkK/nmoTor53vvIzkvJrlnKhpUGhvbmVY5py65Z6L5bqV6YOo5re75Yqg5LiA5a6a55qE5YaF6L656LedXHJcblx0XHRzYWZlQXJlYUluc2V0Qm90dG9tOiB7XHJcblx0XHRcdHR5cGU6IEJvb2xlYW4sXHJcblx0XHRcdGRlZmF1bHQ6IGZhbHNlXHJcblx0XHR9LFxyXG5cdFx0Ly8g5piv5ZCm5Y+v5Lul6YCa6L+H54K55Ye76YGu572p6L+b6KGM5YWz6ZetXHJcblx0XHRtYXNrQ2xvc2VBYmxlOiB7XHJcblx0XHRcdHR5cGU6IEJvb2xlYW4sXHJcblx0XHRcdGRlZmF1bHQ6IHRydWVcclxuXHRcdH0sXHJcblx0XHQvLyDnlKjmiLfoh6rlrprkuYnmoLflvI9cclxuXHRcdGN1c3RvbVN0eWxlOiB7XHJcblx0XHRcdHR5cGU6IE9iamVjdCxcclxuXHRcdFx0ZGVmYXVsdCgpIHtcclxuXHRcdFx0XHRyZXR1cm4ge307XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQvLyDmraTkuLrlhoXpg6jlj4LmlbDvvIzkuI3lnKjmlofmoaPlr7nlpJbkvb/nlKjvvIzkuLrkuobop6PlhrNQaWNrZXLlkoxrZXlib2FyZOetieiejeWQiOS6huW8ueeql+eahOe7hOS7tlxyXG5cdFx0Ly8g5a+5di1tb2RlbOWPjOWQkee7keWumuWkmuWxguiwg+eUqOmAoOaIkOaKpemUmeS4jeiDveS/ruaUuXByb3Bz5YC855qE6Zeu6aKYXHJcblx0XHRwb3B1cDoge1xyXG5cdFx0XHR0eXBlOiBCb29sZWFuLFxyXG5cdFx0XHRkZWZhdWx0OiB0cnVlXHJcblx0XHR9LFxyXG5cdFx0Ly8g5pi+56S65pi+56S65by556qX55qE5ZyG6KeS77yM5Y2V5L2NcnB4XHJcblx0XHRib3JkZXJSYWRpdXM6IHtcclxuXHRcdFx0dHlwZTogW051bWJlciwgU3RyaW5nXSxcclxuXHRcdFx0ZGVmYXVsdDogMFxyXG5cdFx0fSxcclxuXHRcdHpJbmRleDoge1xyXG5cdFx0XHR0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxyXG5cdFx0XHRkZWZhdWx0OiAnJ1xyXG5cdFx0fSxcclxuXHRcdC8vIOaYr+WQpuaYvuekuuWFs+mXreWbvuagh1xyXG5cdFx0Y2xvc2VhYmxlOiB7XHJcblx0XHRcdHR5cGU6IEJvb2xlYW4sXHJcblx0XHRcdGRlZmF1bHQ6IGZhbHNlXHJcblx0XHR9LFxyXG5cdFx0Ly8g5YWz6Zet5Zu+5qCH55qE5ZCN56ew77yM5Y+q6IO9dVZpZXfnmoTlhoXnva7lm77moIdcclxuXHRcdGNsb3NlSWNvbjoge1xyXG5cdFx0XHR0eXBlOiBTdHJpbmcsXHJcblx0XHRcdGRlZmF1bHQ6ICdjbG9zZSdcclxuXHRcdH0sXHJcblx0XHQvLyDoh6rlrprkuYnlhbPpl63lm77moIfkvY3nva7vvIx0b3AtbGVmdOS4uuW3puS4iuinku+8jHRvcC1yaWdodOS4uuWPs+S4iuinku+8jGJvdHRvbS1sZWZ05Li65bem5LiL6KeS77yMYm90dG9tLXJpZ2h05Li65Y+z5LiL6KeSXHJcblx0XHRjbG9zZUljb25Qb3M6IHtcclxuXHRcdFx0dHlwZTogU3RyaW5nLFxyXG5cdFx0XHRkZWZhdWx0OiAndG9wLXJpZ2h0J1xyXG5cdFx0fSxcclxuXHRcdC8vIOWFs+mXreWbvuagh+eahOminOiJslxyXG5cdFx0Y2xvc2VJY29uQ29sb3I6IHtcclxuXHRcdFx0dHlwZTogU3RyaW5nLFxyXG5cdFx0XHRkZWZhdWx0OiAnIzkwOTM5OSdcclxuXHRcdH0sXHJcblx0XHQvLyDlhbPpl63lm77moIfnmoTlpKflsI/vvIzljZXkvY1ycHhcclxuXHRcdGNsb3NlSWNvblNpemU6IHtcclxuXHRcdFx0dHlwZTogW1N0cmluZywgTnVtYmVyXSxcclxuXHRcdFx0ZGVmYXVsdDogJzMwJ1xyXG5cdFx0fSxcclxuXHRcdC8vIOWuveW6pu+8jOWPquWvueW3pu+8jOWPs++8jOS4remDqOW8ueWHuuaXtui1t+S9nOeUqO+8jOWNleS9jXJweO+8jOaIluiAhVwiYXV0b1wiXHJcblx0XHQvLyDmiJbogIXnmb7liIbmr5RcIjUwJVwi77yM6KGo56S655Sx5YaF5a655pKR5byA6auY5bqm5oiW6ICF5a695bqm77yM5LyY5YWI57qn6auY5LqObGVuZ3Ro5Y+C5pWwXHJcblx0XHR3aWR0aDoge1xyXG5cdFx0XHR0eXBlOiBTdHJpbmcsXHJcblx0XHRcdGRlZmF1bHQ6ICcnXHJcblx0XHR9LFxyXG5cdFx0Ly8g6auY5bqm77yM5Y+q5a+55LiK77yM5LiL77yM5Lit6YOo5by55Ye65pe26LW35L2c55So77yM5Y2V5L2NcnB477yM5oiW6ICFXCJhdXRvXCJcclxuXHRcdC8vIOaIluiAheeZvuWIhuavlFwiNTAlXCLvvIzooajnpLrnlLHlhoXlrrnmkpHlvIDpq5jluqbmiJbogIXlrr3luqbvvIzkvJjlhYjnuqfpq5jkuo5sZW5ndGjlj4LmlbBcclxuXHRcdGhlaWdodDoge1xyXG5cdFx0XHR0eXBlOiBTdHJpbmcsXHJcblx0XHRcdGRlZmF1bHQ6ICcnXHJcblx0XHR9LFxyXG5cdFx0Ly8g57uZ5LiA5Liq6LSf55qEbWFyZ2luLXRvcO+8jOW+gOS4iuWBj+enu++8jOmBv+WFjeWSjOmUruebmOmHjeWQiOeahOaDheWGte+8jOS7heWcqG1vZGU9Y2VudGVy5pe25pyJ5pWIXHJcblx0XHRuZWdhdGl2ZVRvcDoge1xyXG5cdFx0XHR0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxyXG5cdFx0XHRkZWZhdWx0OiAwXHJcblx0XHR9LFxyXG5cdFx0Ly8g6YGu572p55qE5qC35byP77yM5LiA6Iis55So5LqO5L+u5pS56YGu572p55qE6YCP5piO5bqmXHJcblx0XHRtYXNrQ3VzdG9tU3R5bGU6IHtcclxuXHRcdFx0dHlwZTogT2JqZWN0LFxyXG5cdFx0XHRkZWZhdWx0KCkge1xyXG5cdFx0XHRcdHJldHVybiB7fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0Ly8g6YGu572p5omT5byA5oiW5pS26LW355qE5Yqo55S76L+H5rih5pe26Ze077yM5Y2V5L2NbXNcclxuXHRcdGR1cmF0aW9uOiB7XHJcblx0XHRcdHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sXHJcblx0XHRcdGRlZmF1bHQ6IDI1MFxyXG5cdFx0fSxcclxuXHRcdC8vIOmBrue9qeeahOaooeeziuW6plxyXG5cdFx0Ymx1cjoge1xyXG5cdFx0XHR0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxyXG5cdFx0XHRkZWZhdWx0OiAwXHJcblx0XHR9LFxyXG5cdFx0XHJcblx0fSxcclxuXHRkYXRhKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dmlzaWJsZVN5bmM6IGZhbHNlLFxyXG5cdFx0XHRzaG93RHJhd2VyOiBmYWxzZSxcclxuXHRcdFx0dGltZXI6IG51bGwsXHJcblx0XHRcdGNsb3NlRnJvbUlubmVyOiBmYWxzZSwgLy8gdmFsdWXnmoTlgLzmlLnlj5jvvIzmmK/lj5HnlJ/lnKjlhoXpg6jov5jmmK/lpJbpg6hcclxuXHRcdH07XHJcblx0fSxcclxuXHRjb21wdXRlZDoge1xyXG5cdFx0dmFsdWVDb20oKXtcclxuXHRcdFx0Ly8gI2lmbmRlZiBWVUUzXHJcblx0XHRcdHJldHVybiB0aGlzLnZhbHVlO1xyXG5cdFx0XHQvLyAjZW5kaWZcclxuXHRcdFx0XHJcblx0XHRcdC8vICNpZmRlZiBWVUUzXHJcblx0XHRcdHJldHVybiB0aGlzLm1vZGVsVmFsdWU7XHJcblx0XHRcdC8vICNlbmRpZlxyXG5cdFx0fSxcclxuXHRcdC8vIOagueaNrm1vZGXnmoTkvY3nva7vvIzorr7lrprlhbblvLnnqpfnmoTlrr3luqYobW9kZSA9IGxlZnR8cmlnaHQp77yM5oiW6ICF6auY5bqmKG1vZGUgPSB0b3B8Ym90dG9tKVxyXG5cdFx0c3R5bGUoKSB7XHJcblx0XHRcdGxldCBzdHlsZSA9IHt9O1xyXG5cdFx0XHQvLyDlpoLmnpzmmK/lt6bovrnmiJbogIXkuIrovrnlvLnlh7rml7bvvIzpnIDopoHnu5l0cmFuc2xhdGXorr7nva7kuLrotJ/lgLzvvIznlKjkuo7pmpDol49cclxuXHRcdFx0aWYgKHRoaXMubW9kZSA9PSAnbGVmdCcgfHwgdGhpcy5tb2RlID09ICdyaWdodCcpIHtcclxuXHRcdFx0XHRzdHlsZSA9IHtcclxuXHRcdFx0XHRcdHdpZHRoOiB0aGlzLndpZHRoID8gdGhpcy5nZXRVbml0VmFsdWUodGhpcy53aWR0aCkgOiB0aGlzLmdldFVuaXRWYWx1ZSh0aGlzLmxlbmd0aCksXHJcblx0XHRcdFx0XHRoZWlnaHQ6ICcxMDAlJyxcclxuXHRcdFx0XHRcdHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNEKCR7dGhpcy5tb2RlID09ICdsZWZ0JyA/ICctMTAwJScgOiAnMTAwJSd9LDBweCwwcHgpYFxyXG5cdFx0XHRcdH07XHJcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5tb2RlID09ICd0b3AnIHx8IHRoaXMubW9kZSA9PSAnYm90dG9tJykge1xyXG5cdFx0XHRcdHN0eWxlID0ge1xyXG5cdFx0XHRcdFx0d2lkdGg6ICcxMDAlJyxcclxuXHRcdFx0XHRcdGhlaWdodDogdGhpcy5oZWlnaHQgPyB0aGlzLmdldFVuaXRWYWx1ZSh0aGlzLmhlaWdodCkgOiB0aGlzLmdldFVuaXRWYWx1ZSh0aGlzLmxlbmd0aCksXHJcblx0XHRcdFx0XHR0cmFuc2Zvcm06IGB0cmFuc2xhdGUzRCgwcHgsJHt0aGlzLm1vZGUgPT0gJ3RvcCcgPyAnLTEwMCUnIDogJzEwMCUnfSwwcHgpYFxyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGUuekluZGV4ID0gdGhpcy51WmluZGV4O1xyXG5cdFx0XHQvLyDlpoLmnpznlKjmiLforr7nva7kuoZib3JkZXJSYWRpdXPlgLzvvIzmt7vliqDlvLnnqpfnmoTlnIbop5JcclxuXHRcdFx0aWYgKHRoaXMuYm9yZGVyUmFkaXVzKSB7XHJcblx0XHRcdFx0c3dpdGNoICh0aGlzLm1vZGUpIHtcclxuXHRcdFx0XHRcdGNhc2UgJ2xlZnQnOlxyXG5cdFx0XHRcdFx0XHRzdHlsZS5ib3JkZXJSYWRpdXMgPSBgMCAke3RoaXMuYm9yZGVyUmFkaXVzfXJweCAke3RoaXMuYm9yZGVyUmFkaXVzfXJweCAwYDtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICd0b3AnOlxyXG5cdFx0XHRcdFx0XHRzdHlsZS5ib3JkZXJSYWRpdXMgPSBgMCAwICR7dGhpcy5ib3JkZXJSYWRpdXN9cnB4ICR7dGhpcy5ib3JkZXJSYWRpdXN9cnB4YDtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICdyaWdodCc6XHJcblx0XHRcdFx0XHRcdHN0eWxlLmJvcmRlclJhZGl1cyA9IGAke3RoaXMuYm9yZGVyUmFkaXVzfXJweCAwIDAgJHt0aGlzLmJvcmRlclJhZGl1c31ycHhgO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ2JvdHRvbSc6XHJcblx0XHRcdFx0XHRcdHN0eWxlLmJvcmRlclJhZGl1cyA9IGAke3RoaXMuYm9yZGVyUmFkaXVzfXJweCAke3RoaXMuYm9yZGVyUmFkaXVzfXJweCAwIDBgO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIOS4jeWKoOWPr+iDveWchuinkuaXoOaViFxyXG5cdFx0XHRcdHN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYodGhpcy5kdXJhdGlvbikgc3R5bGUudHJhbnNpdGlvbiA9IGBhbGwgJHt0aGlzLmR1cmF0aW9uIC8gMTAwMH1zIGxpbmVhcmA7XHJcblx0XHRcdHJldHVybiBzdHlsZTtcclxuXHRcdH0sXHJcblx0XHQvLyDkuK3pg6jlvLnnqpfnmoTnibnmnInmoLflvI9cclxuXHRcdGNlbnRlclN0eWxlKCkge1xyXG5cdFx0XHRsZXQgc3R5bGUgPSB7fTtcclxuXHRcdFx0c3R5bGUud2lkdGggPSB0aGlzLndpZHRoID8gdGhpcy5nZXRVbml0VmFsdWUodGhpcy53aWR0aCkgOiB0aGlzLmdldFVuaXRWYWx1ZSh0aGlzLmxlbmd0aCk7XHJcblx0XHRcdC8vIOS4remDqOW8ueWHuueahOaooeW8j++8jOWmguaenOayoeacieiuvue9rumrmOW6pu+8jOWwseeUqGF1dG/lgLzvvIznlLHlhoXlrrnmkpHlvIDpq5jluqZcclxuXHRcdFx0c3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgPyB0aGlzLmdldFVuaXRWYWx1ZSh0aGlzLmhlaWdodCkgOiAnYXV0byc7XHJcblx0XHRcdHN0eWxlLnpJbmRleCA9IHRoaXMudVppbmRleDtcclxuXHRcdFx0c3R5bGUubWFyZ2luVG9wID0gYC0ke3RoaXMuJHUuYWRkVW5pdCh0aGlzLm5lZ2F0aXZlVG9wKX1gO1xyXG5cdFx0XHRpZiAodGhpcy5ib3JkZXJSYWRpdXMpIHtcclxuXHRcdFx0XHRzdHlsZS5ib3JkZXJSYWRpdXMgPSBgJHt0aGlzLmJvcmRlclJhZGl1c31ycHhgO1xyXG5cdFx0XHRcdC8vIOS4jeWKoOWPr+iDveWchuinkuaXoOaViFxyXG5cdFx0XHRcdHN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHN0eWxlO1xyXG5cdFx0fSxcclxuXHRcdC8vIOiuoeeul+aVtOeQhuWQjueahHotaW5kZXjlgLxcclxuXHRcdHVaaW5kZXgoKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnpJbmRleCA/IHRoaXMuekluZGV4IDogdGhpcy4kdS56SW5kZXgucG9wdXA7XHJcblx0XHR9XHJcblx0fSxcclxuXHR3YXRjaDoge1xyXG5cdFx0dmFsdWVDb206e1xyXG5cdFx0XHRpbW1lZGlhdGU6IHRydWUsXHJcblx0XHRcdGhhbmRsZXIodmFsKXtcclxuXHRcdFx0XHRpZiAodmFsKSB7XHJcblx0XHRcdFx0XHR0aGlzLm9wZW4oKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYoIXRoaXMuY2xvc2VGcm9tSW5uZXIpIHtcclxuXHRcdFx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5jbG9zZUZyb21Jbm5lciA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHRtb3VudGVkKCkge1xyXG5cdFx0Ly8g57uE5Lu25riy5p+T5a6M5oiQ5pe277yM5qOA5p+ldmFsdWXmmK/lkKbkuLp0cnVl77yM5aaC5p6c5piv77yM5by55Ye6cG9wdXBcclxuXHRcdHRoaXMudmFsdWVDb20gJiYgdGhpcy5vcGVuKCk7XHJcblx0fSxcclxuXHRtZXRob2RzOiB7XHJcblx0XHQvLyDliKTmlq3kvKDlhaXnmoTlgLzvvIzmmK/lkKbluKbmnInljZXkvY3vvIzlpoLmnpzmsqHmnInvvIzlsLHpu5jorqTnlKhycHjljZXkvY1cclxuXHRcdGdldFVuaXRWYWx1ZSh2YWwpIHtcclxuXHRcdFx0aWYoLyglfHB4fHJweHxhdXRvKSQvLnRlc3QodmFsKSkgcmV0dXJuIHZhbDtcclxuXHRcdFx0ZWxzZSByZXR1cm4gdmFsICsgJ3JweCdcclxuXHRcdH0sXHJcblx0XHQvLyDpga7nvanooqvngrnlh7tcclxuXHRcdG1hc2tDbGljaygpIHtcclxuXHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0fSxcclxuXHRcdGNsb3NlKCkge1xyXG5cdFx0XHQvLyDmoIforrDlhbPpl63mmK/lhoXpg6jlj5HnlJ/nmoTvvIzlkKbliJnkv67mlLnkuoZ2YWx1ZeWAvO+8jOWvvOiHtHdhdGNo5Lit5a+5dmFsdWXmo4DmtYvvvIzlr7zoh7Tlho3miafooYzkuIDpgY1jbG9zZVxyXG5cdFx0XHQvLyDpgKDmiJBAY2xvc2Xkuovku7bop6blj5HkuKTmrKFcclxuXHRcdFx0dGhpcy5jbG9zZUZyb21Jbm5lciA9IHRydWU7XHJcblx0XHRcdHRoaXMuY2hhbmdlKCdzaG93RHJhd2VyJywgJ3Zpc2libGVTeW5jJywgZmFsc2UpO1xyXG5cdFx0fSxcclxuXHRcdC8vIOS4remDqOW8ueWHuuaXtu+8jOmcgOimgS51LWRyYXdlci1jb250ZW505bCG5bGF5Lit5YaF5a6577yM5q2k5YWD57Sg5Lya6ZO65ruh5bGP5bmV77yM54K55Ye76ZyA6KaB5YWz6Zet5by556qXXHJcblx0XHQvLyDorqnlhbblj6rlnKhtb2RlPWNlbnRlcuaXtui1t+S9nOeUqFxyXG5cdFx0bW9kZUNlbnRlckNsb3NlKG1vZGUpIHtcclxuXHRcdFx0aWYgKG1vZGUgIT0gJ2NlbnRlcicgfHwgIXRoaXMubWFza0Nsb3NlQWJsZSkgcmV0dXJuO1xyXG5cdFx0XHR0aGlzLmNsb3NlKCk7XHJcblx0XHR9LFxyXG5cdFx0b3BlbigpIHtcclxuXHRcdFx0dGhpcy5jaGFuZ2UoJ3Zpc2libGVTeW5jJywgJ3Nob3dEcmF3ZXInLCB0cnVlKTtcclxuXHRcdH0sXHJcblx0XHQvLyDmraTlpITnmoTljp/nkIbmmK/vvIzlhbPpl63ml7blhYjpgJrov4fliqjnlLvpmpDol4/lvLnnqpflkozpga7nvanvvIzlho3np7vpmaTmlbTkuKrnu4Tku7ZcclxuXHRcdC8vIOaJk+W8gOaXtu+8jOWFiOa4suafk+e7hOS7tu+8jOW7tuaXtuS4gOWumuaXtumXtOWGjeiuqemBrue9qeWSjOW8ueeql+eahOWKqOeUu+i1t+S9nOeUqFxyXG5cdFx0Y2hhbmdlKHBhcmFtMSwgcGFyYW0yLCBzdGF0dXMpIHtcclxuXHRcdFx0Ly8g5aaC5p6cdGhpcy5wb3B1cOS4umZhbHNl77yM5oSP5ZGz552A5Li6cGlja2Vy77yMYWN0aW9uc2hlZXTnrYnnu4Tku7bosIPnlKjkuoZwb3B1cOe7hOS7tlxyXG5cdFx0XHRpZiAodGhpcy5wb3B1cCA9PSB0cnVlKSB7XHJcblx0XHRcdFx0dGhpcy4kZW1pdCgnaW5wdXQnLCBzdGF0dXMpO1xyXG5cdFx0XHRcdHRoaXMuJGVtaXQoXCJ1cGRhdGU6bW9kZWxWYWx1ZVwiLCBzdGF0dXMpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXNbcGFyYW0xXSA9IHN0YXR1cztcclxuXHRcdFx0aWYoc3RhdHVzKSB7XHJcblx0XHRcdFx0Ly8gI2lmZGVmIEg1IHx8IE1QXHJcblx0XHRcdFx0dGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpc1twYXJhbTJdID0gc3RhdHVzO1xyXG5cdFx0XHRcdFx0dGhpcy4kZW1pdChzdGF0dXMgPyAnb3BlbicgOiAnY2xvc2UnKTtcclxuXHRcdFx0XHR9LCA1MCk7XHJcblx0XHRcdFx0Ly8gI2VuZGlmXHJcblx0XHRcdFx0Ly8gI2lmbmRlZiBINSB8fCBNUFxyXG5cdFx0XHRcdHRoaXMuJG5leHRUaWNrKCgpID0+IHtcclxuXHRcdFx0XHRcdHRoaXNbcGFyYW0yXSA9IHN0YXR1cztcclxuXHRcdFx0XHRcdHRoaXMuJGVtaXQoc3RhdHVzID8gJ29wZW4nIDogJ2Nsb3NlJyk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQvLyAjZW5kaWZcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzW3BhcmFtMl0gPSBzdGF0dXM7XHJcblx0XHRcdFx0XHR0aGlzLiRlbWl0KHN0YXR1cyA/ICdvcGVuJyA6ICdjbG9zZScpO1xyXG5cdFx0XHRcdH0sIHRoaXMuZHVyYXRpb24pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZSBzY29wZWQgbGFuZz1cInNjc3NcIj5cclxuQGltcG9ydCBcIi4uLy4uL2xpYnMvY3NzL3N0eWxlLmNvbXBvbmVudHMuc2Nzc1wiO1xyXG5cclxuLnUtZHJhd2VyIHtcclxuXHQvKiAjaWZuZGVmIEFQUC1OVlVFICovXHJcblx0ZGlzcGxheTogYmxvY2s7XHJcblx0LyogI2VuZGlmICovXHJcblx0cG9zaXRpb246IGZpeGVkO1xyXG5cdHRvcDogMDtcclxuXHRsZWZ0OiAwO1xyXG5cdHJpZ2h0OiAwO1xyXG5cdGJvdHRvbTogMDtcclxuXHRvdmVyZmxvdzogaGlkZGVuO1xyXG59XHJcblxyXG4udS1kcmF3ZXItY29udGVudCB7XHJcblx0LyogI2lmbmRlZiBBUFAtTlZVRSAqL1xyXG5cdGRpc3BsYXk6IGJsb2NrO1xyXG5cdC8qICNlbmRpZiAqL1xyXG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHR6LWluZGV4OiAxMDAzO1xyXG5cdHRyYW5zaXRpb246IGFsbCAwLjI1cyBsaW5lYXI7XHJcbn1cclxuXHJcbi51LWRyYXdlcl9fc2Nyb2xsLXZpZXcge1xyXG5cdHdpZHRoOiAxMDAlO1xyXG5cdGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLnUtZHJhd2VyLWxlZnQge1xyXG5cdHRvcDogMDtcclxuXHRib3R0b206IDA7XHJcblx0bGVmdDogMDtcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG59XHJcblxyXG4udS1kcmF3ZXItcmlnaHQge1xyXG5cdHJpZ2h0OiAwO1xyXG5cdHRvcDogMDtcclxuXHRib3R0b206IDA7XHJcblx0YmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxufVxyXG5cclxuLnUtZHJhd2VyLXRvcCB7XHJcblx0dG9wOiAwO1xyXG5cdGxlZnQ6IDA7XHJcblx0cmlnaHQ6IDA7XHJcblx0YmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxufVxyXG5cclxuLnUtZHJhd2VyLWJvdHRvbSB7XHJcblx0Ym90dG9tOiAwO1xyXG5cdGxlZnQ6IDA7XHJcblx0cmlnaHQ6IDA7XHJcblx0YmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxufVxyXG5cclxuLnUtZHJhd2VyLWNlbnRlciB7XHJcblx0QGluY2x1ZGUgdnVlLWZsZXg7XHJcblx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHRib3R0b206IDA7XHJcblx0bGVmdDogMDtcclxuXHRyaWdodDogMDtcclxuXHR0b3A6IDA7XHJcblx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRvcGFjaXR5OiAwO1xyXG5cdHotaW5kZXg6IDk5OTk5O1xyXG59XHJcblxyXG4udS1tb2RlLWNlbnRlci1ib3gge1xyXG5cdG1pbi13aWR0aDogMTAwcnB4O1xyXG5cdG1pbi1oZWlnaHQ6IDEwMHJweDtcclxuXHQvKiAjaWZuZGVmIEFQUC1OVlVFICovXHJcblx0ZGlzcGxheTogYmxvY2s7XHJcblx0LyogI2VuZGlmICovXHJcblx0cG9zaXRpb246IHJlbGF0aXZlO1xyXG5cdGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XHJcbn1cclxuXHJcbi51LWRyYXdlci1jb250ZW50LXZpc2libGUudS1kcmF3ZXItY2VudGVyIHtcclxuXHR0cmFuc2Zvcm06IHNjYWxlKDEpO1xyXG5cdG9wYWNpdHk6IDE7XHJcbn1cclxuXHJcbi51LWFuaW1hdGlvbi16b29tIHtcclxuXHR0cmFuc2Zvcm06IHNjYWxlKDEuMTUpO1xyXG59XHJcblxyXG4udS1kcmF3ZXItY29udGVudC12aXNpYmxlIHtcclxuXHR0cmFuc2Zvcm06IHRyYW5zbGF0ZTNEKDBweCwgMHB4LCAwcHgpICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi51LWNsb3NlIHtcclxuXHRwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0ei1pbmRleDogMztcclxufVxyXG5cclxuLnUtY2xvc2UtLXRvcC1sZWZ0IHtcclxuXHR0b3A6IDMwcnB4O1xyXG5cdGxlZnQ6IDMwcnB4O1xyXG59XHJcblxyXG4udS1jbG9zZS0tdG9wLXJpZ2h0IHtcclxuXHR0b3A6IDMwcnB4O1xyXG5cdHJpZ2h0OiAzMHJweDtcclxufVxyXG5cclxuLnUtY2xvc2UtLWJvdHRvbS1sZWZ0IHtcclxuXHRib3R0b206IDMwcnB4O1xyXG5cdGxlZnQ6IDMwcnB4O1xyXG59XHJcblxyXG4udS1jbG9zZS0tYm90dG9tLXJpZ2h0IHtcclxuXHRyaWdodDogMzBycHg7XHJcblx0Ym90dG9tOiAzMHJweDtcclxufVxyXG48L3N0eWxlPlxyXG4iLCI8dGVtcGxhdGU+XHJcblx0PHUtcG9wdXBcclxuXHRcdDpibHVyPVwiYmx1clwiXHJcblx0XHRtb2RlPVwiYm90dG9tXCJcclxuXHRcdDpib3JkZXItcmFkaXVzPVwiYm9yZGVyUmFkaXVzXCJcclxuXHRcdDpwb3B1cD1cImZhbHNlXCJcclxuXHRcdHYtbW9kZWw9XCJwb3B1cFZhbHVlXCJcclxuXHRcdDptYXNrQ2xvc2VBYmxlPVwibWFza0Nsb3NlQWJsZVwiXHJcblx0XHRsZW5ndGg9XCJhdXRvXCJcclxuXHRcdDpzYWZlQXJlYUluc2V0Qm90dG9tPVwic2FmZUFyZWFJbnNldEJvdHRvbVwiXHJcblx0XHRAY2xvc2U9XCJwb3B1cENsb3NlXCJcclxuXHRcdDp6LWluZGV4PVwidVpJbmRleFwiXHJcblx0PlxyXG5cdFx0PHZpZXcgY2xhc3M9XCJ1LXRpcHMgdS1ib3JkZXItYm90dG9tXCIgdi1pZj1cInRpcHMudGV4dFwiIDpzdHlsZT1cIlt0aXBzU3R5bGVdXCI+XHJcblx0XHRcdDx0ZXh0Pnt7IHRpcHMudGV4dCB9fTwvdGV4dD5cclxuXHRcdDwvdmlldz5cclxuXHRcdDxibG9jayB2LWZvcj1cIihpdGVtLCBpbmRleCkgaW4gbGlzdFwiIDprZXk9XCJpbmRleFwiPlxyXG5cdFx0XHQ8dmlld1xyXG5cdFx0XHRcdEB0b3VjaG1vdmUuc3RvcC5wcmV2ZW50XHJcblx0XHRcdFx0QHRhcD1cIml0ZW1DbGljayhpbmRleClcIlxyXG5cdFx0XHRcdDpzdHlsZT1cIltpdGVtU3R5bGUoaW5kZXgpXVwiXHJcblx0XHRcdFx0Y2xhc3M9XCJ1LWFjdGlvbi1zaGVldC1pdGVtIHUtbGluZS0xXCJcclxuXHRcdFx0XHQ6Y2xhc3M9XCJbaW5kZXggPCBsaXN0Lmxlbmd0aCAtIDEgPyAndS1ib3JkZXItYm90dG9tJyA6ICcnXVwiXHJcblx0XHRcdFx0OmhvdmVyLXN0YXktdGltZT1cIjE1MFwiXHJcblx0XHRcdD5cclxuXHRcdFx0XHQ8dGV4dD57eyBpdGVtW2xhYmVsTmFtZV0gfX08L3RleHQ+XHJcblx0XHRcdFx0PHRleHQgY2xhc3M9XCJ1LWFjdGlvbi1zaGVldC1pdGVtX19zdWJ0ZXh0IHUtbGluZS0xXCIgdi1pZj1cIml0ZW0uc3ViVGV4dFwiPlxyXG5cdFx0XHRcdFx0e3sgaXRlbS5zdWJUZXh0IH19XHJcblx0XHRcdFx0PC90ZXh0PlxyXG5cdFx0XHQ8L3ZpZXc+XHJcblx0XHQ8L2Jsb2NrPlxyXG5cdFx0PHZpZXcgY2xhc3M9XCJ1LWdhYlwiIHYtaWY9XCJjYW5jZWxCdG5cIj48L3ZpZXc+XHJcblx0XHQ8dmlld1xyXG5cdFx0XHRAdG91Y2htb3ZlLnN0b3AucHJldmVudFxyXG5cdFx0XHRjbGFzcz1cInUtYWN0aW9uc2hlZXQtY2FuY2VsIHUtYWN0aW9uLXNoZWV0LWl0ZW1cIlxyXG5cdFx0XHRob3Zlci1jbGFzcz1cInUtaG92ZXItY2xhc3NcIlxyXG5cdFx0XHQ6aG92ZXItc3RheS10aW1lPVwiMTUwXCJcclxuXHRcdFx0di1pZj1cImNhbmNlbEJ0blwiXHJcblx0XHRcdEB0YXA9XCJjbG9zZVwiXHJcblx0XHQ+XHJcblx0XHRcdHt7IGNhbmNlbFRleHQgfX1cclxuXHRcdDwvdmlldz5cclxuXHQ8L3UtcG9wdXA+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0PlxyXG4vKipcclxuICogYWN0aW9uU2hlZXQg5pON5L2c6I+c5Y2VXHJcbiAqIEBkZXNjcmlwdGlvbiDmnKznu4Tku7bnlKjkuo7ku47lupXpg6jlvLnlh7rkuIDkuKrmk43kvZzoj5zljZXvvIzkvpvnlKjmiLfpgInmi6nlubbov5Tlm57nu5PmnpzjgILmnKznu4Tku7blip/og73nsbvkvLzkuo51bmnnmoR1bmkuc2hvd0FjdGlvblNoZWV0QVBJ77yM6YWN572u5pu05Yqg54G15rS777yM5omA5pyJ5bmz5Y+w6YO96KGo546w5LiA6Ie044CCXHJcbiAqIEB0dXRvcmlhbCBodHRwczovL3d3dy51dmlld3VpLmNvbS9jb21wb25lbnRzL2FjdGlvblNoZWV0Lmh0bWxcclxuICogQHByb3BlcnR5IHtBcnJheTxPYmplY3Q+fSBsaXN0IOaMiemSrueahOaWh+Wtl+aVsOe7hO+8jOingeWumOaWueaWh+aho+ekuuS+i1xyXG4gKiBAcHJvcGVydHkge09iamVjdH0gdGlwcyDpobbpg6jnmoTmj5DnpLrmloflrZfvvIzop4HlrpjmlrnmlofmoaPnpLrkvotcclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGNhbmNlbC10ZXh0IOWPlua2iOaMiemSrueahOaPkOekuuaWh+Wtl1xyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGNhbmNlbC1idG4g5piv5ZCm5pi+56S65bqV6YOo55qE5Y+W5raI5oyJ6ZKu77yI6buY6K6kdHJ1Ze+8iVxyXG4gKiBAcHJvcGVydHkge051bWJlciBTdHJpbmd9IGJvcmRlci1yYWRpdXMg5by55Ye66YOo5YiG6aG26YOo5bem5Y+z55qE5ZyG6KeS5YC877yM5Y2V5L2NcnB477yI6buY6K6kMO+8iVxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IG1hc2stY2xvc2UtYWJsZSDngrnlh7vpga7nvanmmK/lkKblj6/ku6XlhbPpl63vvIjpu5jorqR0cnVl77yJXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gc2FmZS1hcmVhLWluc2V0LWJvdHRvbSDmmK/lkKblvIDlkK/lupXpg6jlronlhajljLrpgILphY3vvIjpu5jorqRmYWxzZe+8iVxyXG4gKiBAcHJvcGVydHkge051bWJlciBTdHJpbmd9IHotaW5kZXggei1pbmRleOWAvO+8iOm7mOiupDEwNzXvvIlcclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGNhbmNlbC10ZXh0IOWPlua2iOaMiemSrueahOaPkOekuuaWh+Wtl1xyXG4gKiBAZXZlbnQge0Z1bmN0aW9ufSBjbGljayDngrnlh7tBY3Rpb25TaGVldOWIl+ihqOmhueaXtuinpuWPkVxyXG4gKiBAZXZlbnQge0Z1bmN0aW9ufSBjbG9zZSDngrnlh7vlj5bmtojmjInpkq7ml7bop6blj5FcclxuICogQGV4YW1wbGUgPHUtYWN0aW9uLXNoZWV0IDpsaXN0PVwibGlzdFwiIEBjbGljaz1cImNsaWNrXCIgdi1tb2RlbD1cInNob3dcIj48L3UtYWN0aW9uLXNoZWV0PlxyXG4gKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuXHRuYW1lOiBcInUtYWN0aW9uLXNoZWV0XCIsXHJcblx0ZW1pdHM6IFtcInVwZGF0ZTptb2RlbFZhbHVlXCIsIFwiaW5wdXRcIiwgXCJjbGlja1wiLCBcImNsb3NlXCJdLFxyXG5cdHByb3BzOiB7XHJcblx0XHQvLyDpgJrov4flj4zlkJHnu5HlrprmjqfliLbnu4Tku7bnmoTlvLnlh7rkuI7mlLbotbdcclxuXHRcdHZhbHVlOiB7XHJcblx0XHRcdHR5cGU6IEJvb2xlYW4sXHJcblx0XHRcdGRlZmF1bHQ6IGZhbHNlXHJcblx0XHR9LFxyXG5cdFx0bW9kZWxWYWx1ZToge1xyXG5cdFx0XHR0eXBlOiBCb29sZWFuLFxyXG5cdFx0XHRkZWZhdWx0OiBmYWxzZVxyXG5cdFx0fSxcclxuXHRcdC8vIOeCueWHu+mBrue9qeaYr+WQpuWPr+S7peWFs+mXrWFjdGlvbnNoZWV0XHJcblx0XHRtYXNrQ2xvc2VBYmxlOiB7XHJcblx0XHRcdHR5cGU6IEJvb2xlYW4sXHJcblx0XHRcdGRlZmF1bHQ6IHRydWVcclxuXHRcdH0sXHJcblx0XHQvLyDmjInpkq7nmoTmloflrZfmlbDnu4TvvIzlj6/ku6Xoh6rlrprkuYnpopzoibLlkozlrZfkvZPlpKflsI/vvIzlrZfkvZPljZXkvY3kuLpycHhcclxuXHRcdGxpc3Q6IHtcclxuXHRcdFx0dHlwZTogQXJyYXksXHJcblx0XHRcdGRlZmF1bHQoKSB7XHJcblx0XHRcdFx0Ly8g5aaC5LiLXHJcblx0XHRcdFx0Ly8gcmV0dXJuIFt7XHJcblx0XHRcdFx0Ly8gXHR0ZXh0OiAn56Gu5a6aJyxcclxuXHRcdFx0XHQvLyBcdGNvbG9yOiAnJyxcclxuXHRcdFx0XHQvLyBcdGZvbnRTaXplOiAnJ1xyXG5cdFx0XHRcdC8vIH1dXHJcblx0XHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0Ly8g6aG26YOo55qE5o+Q56S65paH5a2XXHJcblx0XHR0aXBzOiB7XHJcblx0XHRcdHR5cGU6IE9iamVjdCxcclxuXHRcdFx0ZGVmYXVsdCgpIHtcclxuXHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0dGV4dDogXCJcIixcclxuXHRcdFx0XHRcdGNvbG9yOiBcIlwiLFxyXG5cdFx0XHRcdFx0Zm9udFNpemU6IFwiMjZcIlxyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQvLyDlupXpg6jnmoTlj5bmtojmjInpkq5cclxuXHRcdGNhbmNlbEJ0bjoge1xyXG5cdFx0XHR0eXBlOiBCb29sZWFuLFxyXG5cdFx0XHRkZWZhdWx0OiB0cnVlXHJcblx0XHR9LFxyXG5cdFx0Ly8g5piv5ZCm5byA5ZCv5bqV6YOo5a6J5YWo5Yy66YCC6YWN77yM5byA5ZCv55qE6K+d77yM5Lya5ZyoaVBob25lWOacuuWei+W6lemDqOa3u+WKoOS4gOWumueahOWGhei+uei3nVxyXG5cdFx0c2FmZUFyZWFJbnNldEJvdHRvbToge1xyXG5cdFx0XHR0eXBlOiBCb29sZWFuLFxyXG5cdFx0XHRkZWZhdWx0OiBmYWxzZVxyXG5cdFx0fSxcclxuXHRcdC8vIOW8ueWHuueahOmhtumDqOWchuinkuWAvFxyXG5cdFx0Ym9yZGVyUmFkaXVzOiB7XHJcblx0XHRcdHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sXHJcblx0XHRcdGRlZmF1bHQ6IDBcclxuXHRcdH0sXHJcblx0XHQvLyDlvLnlh7rnmoR6LWluZGV45YC8XHJcblx0XHR6SW5kZXg6IHtcclxuXHRcdFx0dHlwZTogW1N0cmluZywgTnVtYmVyXSxcclxuXHRcdFx0ZGVmYXVsdDogMFxyXG5cdFx0fSxcclxuXHRcdC8vIOWPlua2iOaMiemSrueahOaWh+Wtl+aPkOekulxyXG5cdFx0Y2FuY2VsVGV4dDoge1xyXG5cdFx0XHR0eXBlOiBTdHJpbmcsXHJcblx0XHRcdGRlZmF1bHQ6IFwi5Y+W5raIXCJcclxuXHRcdH0sXHJcblx0XHQvLyDoh6rlrprkuYlsYWJlbOWxnuaAp+WQjVxyXG5cdFx0bGFiZWxOYW1lOiB7XHJcblx0XHRcdHR5cGU6IFN0cmluZyxcclxuXHRcdFx0ZGVmYXVsdDogXCJ0ZXh0XCJcclxuXHRcdH0sXHJcblx0XHQvLyDpga7nvannmoTmqKHns4rluqZcclxuXHRcdGJsdXI6IHtcclxuXHRcdFx0dHlwZTogW051bWJlciwgU3RyaW5nXSxcclxuXHRcdFx0ZGVmYXVsdDogMFxyXG5cdFx0fVxyXG5cdH0sXHJcblx0Y29tcHV0ZWQ6IHtcclxuXHRcdHZhbHVlQ29tKCkge1xyXG5cdFx0XHQvLyAjaWZuZGVmIFZVRTNcclxuXHRcdFx0cmV0dXJuIHRoaXMudmFsdWU7XHJcblx0XHRcdC8vICNlbmRpZlxyXG5cclxuXHRcdFx0Ly8gI2lmZGVmIFZVRTNcclxuXHRcdFx0cmV0dXJuIHRoaXMubW9kZWxWYWx1ZTtcclxuXHRcdFx0Ly8gI2VuZGlmXHJcblx0XHR9LFxyXG5cdFx0Ly8g6aG26YOo5o+Q56S655qE5qC35byPXHJcblx0XHR0aXBzU3R5bGUoKSB7XHJcblx0XHRcdGxldCBzdHlsZSA9IHt9O1xyXG5cdFx0XHRpZiAodGhpcy50aXBzLmNvbG9yKSBzdHlsZS5jb2xvciA9IHRoaXMudGlwcy5jb2xvcjtcclxuXHRcdFx0aWYgKHRoaXMudGlwcy5mb250U2l6ZSkgc3R5bGUuZm9udFNpemUgPSB0aGlzLnRpcHMuZm9udFNpemUgKyBcInJweFwiO1xyXG5cdFx0XHRyZXR1cm4gc3R5bGU7XHJcblx0XHR9LFxyXG5cdFx0Ly8g5pON5L2c6aG555uu55qE5qC35byPXHJcblx0XHRpdGVtU3R5bGUoKSB7XHJcblx0XHRcdHJldHVybiBpbmRleCA9PiB7XHJcblx0XHRcdFx0bGV0IHN0eWxlID0ge307XHJcblx0XHRcdFx0aWYgKHRoaXMubGlzdFtpbmRleF0uY29sb3IpIHN0eWxlLmNvbG9yID0gdGhpcy5saXN0W2luZGV4XS5jb2xvcjtcclxuXHRcdFx0XHRpZiAodGhpcy5saXN0W2luZGV4XS5mb250U2l6ZSkgc3R5bGUuZm9udFNpemUgPSB0aGlzLmxpc3RbaW5kZXhdLmZvbnRTaXplICsgXCJycHhcIjtcclxuXHRcdFx0XHQvLyDpgInpobnooqvnpoHnlKjnmoTmoLflvI9cclxuXHRcdFx0XHRpZiAodGhpcy5saXN0W2luZGV4XS5kaXNhYmxlZCkgc3R5bGUuY29sb3IgPSBcIiNjMGM0Y2NcIjtcclxuXHRcdFx0XHRyZXR1cm4gc3R5bGU7XHJcblx0XHRcdH07XHJcblx0XHR9LFxyXG5cdFx0dVpJbmRleCgpIHtcclxuXHRcdFx0Ly8g5aaC5p6c55So5oi35pyJ5Lyg6YCSei1pbmRleOWAvO+8jOS8mOWFiOS9v+eUqFxyXG5cdFx0XHRyZXR1cm4gdGhpcy56SW5kZXggPyB0aGlzLnpJbmRleCA6IHRoaXMuJHUuekluZGV4LnBvcHVwO1xyXG5cdFx0fVxyXG5cdH0sXHJcblx0ZGF0YSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHBvcHVwVmFsdWU6IGZhbHNlXHJcblx0XHR9O1xyXG5cdH0sXHJcblx0d2F0Y2g6IHtcclxuXHRcdHZhbHVlQ29tKHYxLCB2Mikge1xyXG5cdFx0XHR0aGlzLnBvcHVwVmFsdWUgPSB2MTtcclxuXHRcdH1cclxuXHR9LFxyXG5cdG1ldGhvZHM6IHtcclxuXHRcdC8vIOeCueWHu+WPlua2iOaMiemSrlxyXG5cdFx0Y2xvc2UoKSB7XHJcblx0XHRcdC8vIOWPkemAgWlucHV05LqL5Lu277yM5bm25LiN5Lya5L2c55So5LqO54i257uE5Lu277yM6ICM5piv6KaB6K6+572u57uE5Lu25YaF6YOo6YCa6L+HcHJvcHPkvKDpgJLnmoR2YWx1ZeWPguaVsFxyXG5cdFx0XHQvLyDov5nmmK/kuIDkuKp2dWXlj5HpgIHkuovku7bnmoTnibnmrornlKjms5VcclxuXHRcdFx0dGhpcy5wb3B1cENsb3NlKCk7XHJcblx0XHRcdHRoaXMuJGVtaXQoXCJjbG9zZVwiKTtcclxuXHRcdH0sXHJcblx0XHQvLyDlvLnnqpflhbPpl61cclxuXHRcdHBvcHVwQ2xvc2UoKSB7XHJcblx0XHRcdHRoaXMuJGVtaXQoXCJpbnB1dFwiLCBmYWxzZSk7XHJcblx0XHRcdHRoaXMuJGVtaXQoXCJ1cGRhdGU6bW9kZWxWYWx1ZVwiLCBmYWxzZSk7XHJcblx0XHR9LFxyXG5cdFx0Ly8g54K55Ye75p+Q5LiA5LiqaXRlbVxyXG5cdFx0aXRlbUNsaWNrKGluZGV4KSB7XHJcblx0XHRcdC8vIGRpc2FibGVk55qE6aG556aB5q2i54K55Ye7XHJcblx0XHRcdGlmICh0aGlzLmxpc3RbaW5kZXhdLmRpc2FibGVkKSByZXR1cm47XHJcblx0XHRcdHRoaXMuJGVtaXQoXCJjbGlja1wiLCBpbmRleCk7XHJcblx0XHRcdHRoaXMuJGVtaXQoXCJpbnB1dFwiLCBmYWxzZSk7XHJcblx0XHRcdHRoaXMuJGVtaXQoXCJ1cGRhdGU6bW9kZWxWYWx1ZVwiLCBmYWxzZSk7XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cclxuQGltcG9ydCBcIi4uLy4uL2xpYnMvY3NzL3N0eWxlLmNvbXBvbmVudHMuc2Nzc1wiO1xyXG5cclxuLnUtdGlwcyB7XHJcblx0Zm9udC1zaXplOiAyNnJweDtcclxuXHR0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblx0cGFkZGluZzogMzRycHggMDtcclxuXHRsaW5lLWhlaWdodDogMS41O1xyXG5cdGNvbG9yOiAkdS10aXBzLWNvbG9yO1xyXG59XHJcblxyXG4udS1hY3Rpb24tc2hlZXQtaXRlbSB7XHJcblx0QGluY2x1ZGUgdnVlLWZsZXg7XHJcblx0bGluZS1oZWlnaHQ6IDE7XHJcblx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRmb250LXNpemU6IDMycnB4O1xyXG5cdHBhZGRpbmc6IDM0cnB4IDA7XHJcblx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG5cclxuLnUtYWN0aW9uLXNoZWV0LWl0ZW1fX3N1YnRleHQge1xyXG5cdGZvbnQtc2l6ZTogMjRycHg7XHJcblx0Y29sb3I6ICR1LXRpcHMtY29sb3I7XHJcblx0bWFyZ2luLXRvcDogMjBycHg7XHJcbn1cclxuXHJcbi51LWdhYiB7XHJcblx0aGVpZ2h0OiAxMnJweDtcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjM0LCAyMzQsIDIzNik7XHJcbn1cclxuXHJcbi51LWFjdGlvbnNoZWV0LWNhbmNlbCB7XHJcblx0Y29sb3I6ICR1LW1haW4tY29sb3I7XHJcbn1cclxuPC9zdHlsZT5cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldERldnRvb2xzR2xvYmFsSG9vaygpIHtcclxuICAgIHJldHVybiBnZXRUYXJnZXQoKS5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICByZXR1cm4gKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgID8gd2luZG93XHJcbiAgICAgICAgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICA/IGdsb2JhbFxyXG4gICAgICAgICAgICA6IHt9O1xyXG59XHJcbmV4cG9ydCBjb25zdCBpc1Byb3h5QXZhaWxhYmxlID0gdHlwZW9mIFByb3h5ID09PSAnZnVuY3Rpb24nO1xyXG4iLCJleHBvcnQgY29uc3QgSE9PS19TRVRVUCA9ICdkZXZ0b29scy1wbHVnaW46c2V0dXAnO1xyXG5leHBvcnQgY29uc3QgSE9PS19QTFVHSU5fU0VUVElOR1NfU0VUID0gJ3BsdWdpbjpzZXR0aW5nczpzZXQnO1xyXG4iLCJpbXBvcnQgeyBIT09LX1BMVUdJTl9TRVRUSU5HU19TRVQgfSBmcm9tICcuL2NvbnN0JztcclxuZXhwb3J0IGNsYXNzIEFwaVByb3h5IHtcclxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbiwgaG9vaykge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnRhcmdldFF1ZXVlID0gW107XHJcbiAgICAgICAgdGhpcy5vblF1ZXVlID0gW107XHJcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgICAgICAgdGhpcy5ob29rID0gaG9vaztcclxuICAgICAgICBjb25zdCBkZWZhdWx0U2V0dGluZ3MgPSB7fTtcclxuICAgICAgICBpZiAocGx1Z2luLnNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gcGx1Z2luLnNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gcGx1Z2luLnNldHRpbmdzW2lkXTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRTZXR0aW5nc1tpZF0gPSBpdGVtLmRlZmF1bHRWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsb2NhbFNldHRpbmdzU2F2ZUlkID0gYF9fdnVlLWRldnRvb2xzLXBsdWdpbi1zZXR0aW5nc19fJHtwbHVnaW4uaWR9YDtcclxuICAgICAgICBsZXQgY3VycmVudFNldHRpbmdzID0geyAuLi5kZWZhdWx0U2V0dGluZ3MgfTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShsb2NhbFNldHRpbmdzU2F2ZUlkKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmF3KTtcclxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50U2V0dGluZ3MsIGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBub29wXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZmFsbGJhY2tzID0ge1xyXG4gICAgICAgICAgICBnZXRTZXR0aW5ncygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50U2V0dGluZ3M7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldFNldHRpbmdzKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGxvY2FsU2V0dGluZ3NTYXZlSWQsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vb3BcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5ncyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaG9vay5vbihIT09LX1BMVUdJTl9TRVRUSU5HU19TRVQsIChwbHVnaW5JZCwgdmFsdWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBsdWdpbklkID09PSB0aGlzLnBsdWdpbi5pZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mYWxsYmFja3Muc2V0U2V0dGluZ3ModmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wcm94aWVkT24gPSBuZXcgUHJveHkoe30sIHtcclxuICAgICAgICAgICAgZ2V0OiAoX3RhcmdldCwgcHJvcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0Lm9uW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25RdWV1ZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcHJvcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wcm94aWVkVGFyZ2V0ID0gbmV3IFByb3h5KHt9LCB7XHJcbiAgICAgICAgICAgIGdldDogKF90YXJnZXQsIHByb3ApID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldFtwcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm94aWVkT247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChPYmplY3Qua2V5cyh0aGlzLmZhbGxiYWNrcykuaW5jbHVkZXMocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRRdWV1ZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcHJvcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiAoKSA9PiB7IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mYWxsYmFja3NbcHJvcF0oLi4uYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFF1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcHJvcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGFzeW5jIHNldFJlYWxUYXJnZXQodGFyZ2V0KSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMub25RdWV1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldC5vbltpdGVtLm1ldGhvZF0oLi4uaXRlbS5hcmdzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMudGFyZ2V0UXVldWUpIHtcclxuICAgICAgICAgICAgaXRlbS5yZXNvbHZlKGF3YWl0IHRoaXMudGFyZ2V0W2l0ZW0ubWV0aG9kXSguLi5pdGVtLmFyZ3MpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgZ2V0VGFyZ2V0LCBnZXREZXZ0b29sc0dsb2JhbEhvb2ssIGlzUHJveHlBdmFpbGFibGUgfSBmcm9tICcuL2Vudic7XHJcbmltcG9ydCB7IEhPT0tfU0VUVVAgfSBmcm9tICcuL2NvbnN0JztcclxuaW1wb3J0IHsgQXBpUHJveHkgfSBmcm9tICcuL3Byb3h5JztcclxuZXhwb3J0ICogZnJvbSAnLi9hcGknO1xyXG5leHBvcnQgKiBmcm9tICcuL3BsdWdpbic7XHJcbmV4cG9ydCBmdW5jdGlvbiBzZXR1cERldnRvb2xzUGx1Z2luKHBsdWdpbkRlc2NyaXB0b3IsIHNldHVwRm4pIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGdldFRhcmdldCgpO1xyXG4gICAgY29uc3QgaG9vayA9IGdldERldnRvb2xzR2xvYmFsSG9vaygpO1xyXG4gICAgY29uc3QgZW5hYmxlUHJveHkgPSBpc1Byb3h5QXZhaWxhYmxlICYmIHBsdWdpbkRlc2NyaXB0b3IuZW5hYmxlRWFybHlQcm94eTtcclxuICAgIGlmIChob29rICYmICh0YXJnZXQuX19WVUVfREVWVE9PTFNfUExVR0lOX0FQSV9BVkFJTEFCTEVfXyB8fCAhZW5hYmxlUHJveHkpKSB7XHJcbiAgICAgICAgaG9vay5lbWl0KEhPT0tfU0VUVVAsIHBsdWdpbkRlc2NyaXB0b3IsIHNldHVwRm4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgcHJveHkgPSBlbmFibGVQcm94eSA/IG5ldyBBcGlQcm94eShwbHVnaW5EZXNjcmlwdG9yLCBob29rKSA6IG51bGw7XHJcbiAgICAgICAgY29uc3QgbGlzdCA9IHRhcmdldC5fX1ZVRV9ERVZUT09MU19QTFVHSU5TX18gPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfUExVR0lOU19fIHx8IFtdO1xyXG4gICAgICAgIGxpc3QucHVzaCh7XHJcbiAgICAgICAgICAgIHBsdWdpbkRlc2NyaXB0b3IsXHJcbiAgICAgICAgICAgIHNldHVwRm4sXHJcbiAgICAgICAgICAgIHByb3h5LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChwcm94eSlcclxuICAgICAgICAgICAgc2V0dXBGbihwcm94eS5wcm94aWVkVGFyZ2V0KTtcclxuICAgIH1cclxufVxyXG4iLCIvKiFcclxuICogdnVleCB2NC4xLjBcclxuICogKGMpIDIwMjIgRXZhbiBZb3VcclxuICogQGxpY2Vuc2UgTUlUXHJcbiAqL1xyXG5pbXBvcnQgeyBpbmplY3QsIGVmZmVjdFNjb3BlLCByZWFjdGl2ZSwgd2F0Y2gsIGNvbXB1dGVkIH0gZnJvbSAndnVlJztcclxuaW1wb3J0IHsgc2V0dXBEZXZ0b29sc1BsdWdpbiB9IGZyb20gJ0B2dWUvZGV2dG9vbHMtYXBpJztcclxuXHJcbnZhciBzdG9yZUtleSA9ICdzdG9yZSc7XHJcblxyXG5mdW5jdGlvbiB1c2VTdG9yZSAoa2V5KSB7XHJcbiAgaWYgKCBrZXkgPT09IHZvaWQgMCApIGtleSA9IG51bGw7XHJcblxyXG4gIHJldHVybiBpbmplY3Qoa2V5ICE9PSBudWxsID8ga2V5IDogc3RvcmVLZXkpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGZpcnN0IGl0ZW0gdGhhdCBwYXNzIHRoZSB0ZXN0XHJcbiAqIGJ5IHNlY29uZCBhcmd1bWVudCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5fSBsaXN0XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZcclxuICogQHJldHVybiB7Kn1cclxuICovXHJcbmZ1bmN0aW9uIGZpbmQgKGxpc3QsIGYpIHtcclxuICByZXR1cm4gbGlzdC5maWx0ZXIoZilbMF1cclxufVxyXG5cclxuLyoqXHJcbiAqIERlZXAgY29weSB0aGUgZ2l2ZW4gb2JqZWN0IGNvbnNpZGVyaW5nIGNpcmN1bGFyIHN0cnVjdHVyZS5cclxuICogVGhpcyBmdW5jdGlvbiBjYWNoZXMgYWxsIG5lc3RlZCBvYmplY3RzIGFuZCBpdHMgY29waWVzLlxyXG4gKiBJZiBpdCBkZXRlY3RzIGNpcmN1bGFyIHN0cnVjdHVyZSwgdXNlIGNhY2hlZCBjb3B5IHRvIGF2b2lkIGluZmluaXRlIGxvb3AuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gb2JqXHJcbiAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gY2FjaGVcclxuICogQHJldHVybiB7Kn1cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBDb3B5IChvYmosIGNhY2hlKSB7XHJcbiAgaWYgKCBjYWNoZSA9PT0gdm9pZCAwICkgY2FjaGUgPSBbXTtcclxuXHJcbiAgLy8ganVzdCByZXR1cm4gaWYgb2JqIGlzIGltbXV0YWJsZSB2YWx1ZVxyXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcclxuICAgIHJldHVybiBvYmpcclxuICB9XHJcblxyXG4gIC8vIGlmIG9iaiBpcyBoaXQsIGl0IGlzIGluIGNpcmN1bGFyIHN0cnVjdHVyZVxyXG4gIHZhciBoaXQgPSBmaW5kKGNhY2hlLCBmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5vcmlnaW5hbCA9PT0gb2JqOyB9KTtcclxuICBpZiAoaGl0KSB7XHJcbiAgICByZXR1cm4gaGl0LmNvcHlcclxuICB9XHJcblxyXG4gIHZhciBjb3B5ID0gQXJyYXkuaXNBcnJheShvYmopID8gW10gOiB7fTtcclxuICAvLyBwdXQgdGhlIGNvcHkgaW50byBjYWNoZSBhdCBmaXJzdFxyXG4gIC8vIGJlY2F1c2Ugd2Ugd2FudCB0byByZWZlciBpdCBpbiByZWN1cnNpdmUgZGVlcENvcHlcclxuICBjYWNoZS5wdXNoKHtcclxuICAgIG9yaWdpbmFsOiBvYmosXHJcbiAgICBjb3B5OiBjb3B5XHJcbiAgfSk7XHJcblxyXG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSwgY2FjaGUpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gY29weVxyXG59XHJcblxyXG4vKipcclxuICogZm9yRWFjaCBmb3Igb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBmb3JFYWNoVmFsdWUgKG9iaiwgZm4pIHtcclxuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZm4ob2JqW2tleV0sIGtleSk7IH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc09iamVjdCAob2JqKSB7XHJcbiAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0J1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc1Byb21pc2UgKHZhbCkge1xyXG4gIHJldHVybiB2YWwgJiYgdHlwZW9mIHZhbC50aGVuID09PSAnZnVuY3Rpb24nXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFzc2VydCAoY29uZGl0aW9uLCBtc2cpIHtcclxuICBpZiAoIWNvbmRpdGlvbikgeyB0aHJvdyBuZXcgRXJyb3IoKFwiW3Z1ZXhdIFwiICsgbXNnKSkgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJ0aWFsIChmbiwgYXJnKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBmbihhcmcpXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmljU3Vic2NyaWJlIChmbiwgc3Vicywgb3B0aW9ucykge1xyXG4gIGlmIChzdWJzLmluZGV4T2YoZm4pIDwgMCkge1xyXG4gICAgb3B0aW9ucyAmJiBvcHRpb25zLnByZXBlbmRcclxuICAgICAgPyBzdWJzLnVuc2hpZnQoZm4pXHJcbiAgICAgIDogc3Vicy5wdXNoKGZuKTtcclxuICB9XHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBpID0gc3Vicy5pbmRleE9mKGZuKTtcclxuICAgIGlmIChpID4gLTEpIHtcclxuICAgICAgc3Vicy5zcGxpY2UoaSwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiByZXNldFN0b3JlIChzdG9yZSwgaG90KSB7XHJcbiAgc3RvcmUuX2FjdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gIHN0b3JlLl9tdXRhdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gIHN0b3JlLl93cmFwcGVkR2V0dGVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgc3RvcmUuX21vZHVsZXNOYW1lc3BhY2VNYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gIHZhciBzdGF0ZSA9IHN0b3JlLnN0YXRlO1xyXG4gIC8vIGluaXQgYWxsIG1vZHVsZXNcclxuICBpbnN0YWxsTW9kdWxlKHN0b3JlLCBzdGF0ZSwgW10sIHN0b3JlLl9tb2R1bGVzLnJvb3QsIHRydWUpO1xyXG4gIC8vIHJlc2V0IHN0YXRlXHJcbiAgcmVzZXRTdG9yZVN0YXRlKHN0b3JlLCBzdGF0ZSwgaG90KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzZXRTdG9yZVN0YXRlIChzdG9yZSwgc3RhdGUsIGhvdCkge1xyXG4gIHZhciBvbGRTdGF0ZSA9IHN0b3JlLl9zdGF0ZTtcclxuICB2YXIgb2xkU2NvcGUgPSBzdG9yZS5fc2NvcGU7XHJcblxyXG4gIC8vIGJpbmQgc3RvcmUgcHVibGljIGdldHRlcnNcclxuICBzdG9yZS5nZXR0ZXJzID0ge307XHJcbiAgLy8gcmVzZXQgbG9jYWwgZ2V0dGVycyBjYWNoZVxyXG4gIHN0b3JlLl9tYWtlTG9jYWxHZXR0ZXJzQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gIHZhciB3cmFwcGVkR2V0dGVycyA9IHN0b3JlLl93cmFwcGVkR2V0dGVycztcclxuICB2YXIgY29tcHV0ZWRPYmogPSB7fTtcclxuICB2YXIgY29tcHV0ZWRDYWNoZSA9IHt9O1xyXG5cclxuICAvLyBjcmVhdGUgYSBuZXcgZWZmZWN0IHNjb3BlIGFuZCBjcmVhdGUgY29tcHV0ZWQgb2JqZWN0IGluc2lkZSBpdCB0byBhdm9pZFxyXG4gIC8vIGdldHRlcnMgKGNvbXB1dGVkKSBnZXR0aW5nIGRlc3Ryb3llZCBvbiBjb21wb25lbnQgdW5tb3VudC5cclxuICB2YXIgc2NvcGUgPSBlZmZlY3RTY29wZSh0cnVlKTtcclxuXHJcbiAgc2NvcGUucnVuKGZ1bmN0aW9uICgpIHtcclxuICAgIGZvckVhY2hWYWx1ZSh3cmFwcGVkR2V0dGVycywgZnVuY3Rpb24gKGZuLCBrZXkpIHtcclxuICAgICAgLy8gdXNlIGNvbXB1dGVkIHRvIGxldmVyYWdlIGl0cyBsYXp5LWNhY2hpbmcgbWVjaGFuaXNtXHJcbiAgICAgIC8vIGRpcmVjdCBpbmxpbmUgZnVuY3Rpb24gdXNlIHdpbGwgbGVhZCB0byBjbG9zdXJlIHByZXNlcnZpbmcgb2xkU3RhdGUuXHJcbiAgICAgIC8vIHVzaW5nIHBhcnRpYWwgdG8gcmV0dXJuIGZ1bmN0aW9uIHdpdGggb25seSBhcmd1bWVudHMgcHJlc2VydmVkIGluIGNsb3N1cmUgZW52aXJvbm1lbnQuXHJcbiAgICAgIGNvbXB1dGVkT2JqW2tleV0gPSBwYXJ0aWFsKGZuLCBzdG9yZSk7XHJcbiAgICAgIGNvbXB1dGVkQ2FjaGVba2V5XSA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbXB1dGVkT2JqW2tleV0oKTsgfSk7XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdG9yZS5nZXR0ZXJzLCBrZXksIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbXB1dGVkQ2FjaGVba2V5XS52YWx1ZTsgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlIC8vIGZvciBsb2NhbCBnZXR0ZXJzXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIHN0b3JlLl9zdGF0ZSA9IHJlYWN0aXZlKHtcclxuICAgIGRhdGE6IHN0YXRlXHJcbiAgfSk7XHJcblxyXG4gIC8vIHJlZ2lzdGVyIHRoZSBuZXdseSBjcmVhdGVkIGVmZmVjdCBzY29wZSB0byB0aGUgc3RvcmUgc28gdGhhdCB3ZSBjYW5cclxuICAvLyBkaXNwb3NlIHRoZSBlZmZlY3RzIHdoZW4gdGhpcyBtZXRob2QgcnVucyBhZ2FpbiBpbiB0aGUgZnV0dXJlLlxyXG4gIHN0b3JlLl9zY29wZSA9IHNjb3BlO1xyXG5cclxuICAvLyBlbmFibGUgc3RyaWN0IG1vZGUgZm9yIG5ldyBzdGF0ZVxyXG4gIGlmIChzdG9yZS5zdHJpY3QpIHtcclxuICAgIGVuYWJsZVN0cmljdE1vZGUoc3RvcmUpO1xyXG4gIH1cclxuXHJcbiAgaWYgKG9sZFN0YXRlKSB7XHJcbiAgICBpZiAoaG90KSB7XHJcbiAgICAgIC8vIGRpc3BhdGNoIGNoYW5nZXMgaW4gYWxsIHN1YnNjcmliZWQgd2F0Y2hlcnNcclxuICAgICAgLy8gdG8gZm9yY2UgZ2V0dGVyIHJlLWV2YWx1YXRpb24gZm9yIGhvdCByZWxvYWRpbmcuXHJcbiAgICAgIHN0b3JlLl93aXRoQ29tbWl0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBvbGRTdGF0ZS5kYXRhID0gbnVsbDtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBkaXNwb3NlIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCBlZmZlY3Qgc2NvcGUgaWYgdGhlcmUgaXMgb25lLlxyXG4gIGlmIChvbGRTY29wZSkge1xyXG4gICAgb2xkU2NvcGUuc3RvcCgpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaW5zdGFsbE1vZHVsZSAoc3RvcmUsIHJvb3RTdGF0ZSwgcGF0aCwgbW9kdWxlLCBob3QpIHtcclxuICB2YXIgaXNSb290ID0gIXBhdGgubGVuZ3RoO1xyXG4gIHZhciBuYW1lc3BhY2UgPSBzdG9yZS5fbW9kdWxlcy5nZXROYW1lc3BhY2UocGF0aCk7XHJcblxyXG4gIC8vIHJlZ2lzdGVyIGluIG5hbWVzcGFjZSBtYXBcclxuICBpZiAobW9kdWxlLm5hbWVzcGFjZWQpIHtcclxuICAgIGlmIChzdG9yZS5fbW9kdWxlc05hbWVzcGFjZU1hcFtuYW1lc3BhY2VdICYmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSBkdXBsaWNhdGUgbmFtZXNwYWNlIFwiICsgbmFtZXNwYWNlICsgXCIgZm9yIHRoZSBuYW1lc3BhY2VkIG1vZHVsZSBcIiArIChwYXRoLmpvaW4oJy8nKSkpKTtcclxuICAgIH1cclxuICAgIHN0b3JlLl9tb2R1bGVzTmFtZXNwYWNlTWFwW25hbWVzcGFjZV0gPSBtb2R1bGU7XHJcbiAgfVxyXG5cclxuICAvLyBzZXQgc3RhdGVcclxuICBpZiAoIWlzUm9vdCAmJiAhaG90KSB7XHJcbiAgICB2YXIgcGFyZW50U3RhdGUgPSBnZXROZXN0ZWRTdGF0ZShyb290U3RhdGUsIHBhdGguc2xpY2UoMCwgLTEpKTtcclxuICAgIHZhciBtb2R1bGVOYW1lID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xyXG4gICAgc3RvcmUuX3dpdGhDb21taXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgaWYgKG1vZHVsZU5hbWUgaW4gcGFyZW50U3RhdGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgKFwiW3Z1ZXhdIHN0YXRlIGZpZWxkIFxcXCJcIiArIG1vZHVsZU5hbWUgKyBcIlxcXCIgd2FzIG92ZXJyaWRkZW4gYnkgYSBtb2R1bGUgd2l0aCB0aGUgc2FtZSBuYW1lIGF0IFxcXCJcIiArIChwYXRoLmpvaW4oJy4nKSkgKyBcIlxcXCJcIilcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHBhcmVudFN0YXRlW21vZHVsZU5hbWVdID0gbW9kdWxlLnN0YXRlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB2YXIgbG9jYWwgPSBtb2R1bGUuY29udGV4dCA9IG1ha2VMb2NhbENvbnRleHQoc3RvcmUsIG5hbWVzcGFjZSwgcGF0aCk7XHJcblxyXG4gIG1vZHVsZS5mb3JFYWNoTXV0YXRpb24oZnVuY3Rpb24gKG11dGF0aW9uLCBrZXkpIHtcclxuICAgIHZhciBuYW1lc3BhY2VkVHlwZSA9IG5hbWVzcGFjZSArIGtleTtcclxuICAgIHJlZ2lzdGVyTXV0YXRpb24oc3RvcmUsIG5hbWVzcGFjZWRUeXBlLCBtdXRhdGlvbiwgbG9jYWwpO1xyXG4gIH0pO1xyXG5cclxuICBtb2R1bGUuZm9yRWFjaEFjdGlvbihmdW5jdGlvbiAoYWN0aW9uLCBrZXkpIHtcclxuICAgIHZhciB0eXBlID0gYWN0aW9uLnJvb3QgPyBrZXkgOiBuYW1lc3BhY2UgKyBrZXk7XHJcbiAgICB2YXIgaGFuZGxlciA9IGFjdGlvbi5oYW5kbGVyIHx8IGFjdGlvbjtcclxuICAgIHJlZ2lzdGVyQWN0aW9uKHN0b3JlLCB0eXBlLCBoYW5kbGVyLCBsb2NhbCk7XHJcbiAgfSk7XHJcblxyXG4gIG1vZHVsZS5mb3JFYWNoR2V0dGVyKGZ1bmN0aW9uIChnZXR0ZXIsIGtleSkge1xyXG4gICAgdmFyIG5hbWVzcGFjZWRUeXBlID0gbmFtZXNwYWNlICsga2V5O1xyXG4gICAgcmVnaXN0ZXJHZXR0ZXIoc3RvcmUsIG5hbWVzcGFjZWRUeXBlLCBnZXR0ZXIsIGxvY2FsKTtcclxuICB9KTtcclxuXHJcbiAgbW9kdWxlLmZvckVhY2hDaGlsZChmdW5jdGlvbiAoY2hpbGQsIGtleSkge1xyXG4gICAgaW5zdGFsbE1vZHVsZShzdG9yZSwgcm9vdFN0YXRlLCBwYXRoLmNvbmNhdChrZXkpLCBjaGlsZCwgaG90KTtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIG1ha2UgbG9jYWxpemVkIGRpc3BhdGNoLCBjb21taXQsIGdldHRlcnMgYW5kIHN0YXRlXHJcbiAqIGlmIHRoZXJlIGlzIG5vIG5hbWVzcGFjZSwganVzdCB1c2Ugcm9vdCBvbmVzXHJcbiAqL1xyXG5mdW5jdGlvbiBtYWtlTG9jYWxDb250ZXh0IChzdG9yZSwgbmFtZXNwYWNlLCBwYXRoKSB7XHJcbiAgdmFyIG5vTmFtZXNwYWNlID0gbmFtZXNwYWNlID09PSAnJztcclxuXHJcbiAgdmFyIGxvY2FsID0ge1xyXG4gICAgZGlzcGF0Y2g6IG5vTmFtZXNwYWNlID8gc3RvcmUuZGlzcGF0Y2ggOiBmdW5jdGlvbiAoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucykge1xyXG4gICAgICB2YXIgYXJncyA9IHVuaWZ5T2JqZWN0U3R5bGUoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucyk7XHJcbiAgICAgIHZhciBwYXlsb2FkID0gYXJncy5wYXlsb2FkO1xyXG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3Mub3B0aW9ucztcclxuICAgICAgdmFyIHR5cGUgPSBhcmdzLnR5cGU7XHJcblxyXG4gICAgICBpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucm9vdCkge1xyXG4gICAgICAgIHR5cGUgPSBuYW1lc3BhY2UgKyB0eXBlO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXN0b3JlLl9hY3Rpb25zW3R5cGVdKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSB1bmtub3duIGxvY2FsIGFjdGlvbiB0eXBlOiBcIiArIChhcmdzLnR5cGUpICsgXCIsIGdsb2JhbCB0eXBlOiBcIiArIHR5cGUpKTtcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKHR5cGUsIHBheWxvYWQpXHJcbiAgICB9LFxyXG5cclxuICAgIGNvbW1pdDogbm9OYW1lc3BhY2UgPyBzdG9yZS5jb21taXQgOiBmdW5jdGlvbiAoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucykge1xyXG4gICAgICB2YXIgYXJncyA9IHVuaWZ5T2JqZWN0U3R5bGUoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucyk7XHJcbiAgICAgIHZhciBwYXlsb2FkID0gYXJncy5wYXlsb2FkO1xyXG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3Mub3B0aW9ucztcclxuICAgICAgdmFyIHR5cGUgPSBhcmdzLnR5cGU7XHJcblxyXG4gICAgICBpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucm9vdCkge1xyXG4gICAgICAgIHR5cGUgPSBuYW1lc3BhY2UgKyB0eXBlO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXN0b3JlLl9tdXRhdGlvbnNbdHlwZV0pIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoKFwiW3Z1ZXhdIHVua25vd24gbG9jYWwgbXV0YXRpb24gdHlwZTogXCIgKyAoYXJncy50eXBlKSArIFwiLCBnbG9iYWwgdHlwZTogXCIgKyB0eXBlKSk7XHJcbiAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHN0b3JlLmNvbW1pdCh0eXBlLCBwYXlsb2FkLCBvcHRpb25zKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBnZXR0ZXJzIGFuZCBzdGF0ZSBvYmplY3QgbXVzdCBiZSBnb3R0ZW4gbGF6aWx5XHJcbiAgLy8gYmVjYXVzZSB0aGV5IHdpbGwgYmUgY2hhbmdlZCBieSBzdGF0ZSB1cGRhdGVcclxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhsb2NhbCwge1xyXG4gICAgZ2V0dGVyczoge1xyXG4gICAgICBnZXQ6IG5vTmFtZXNwYWNlXHJcbiAgICAgICAgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBzdG9yZS5nZXR0ZXJzOyB9XHJcbiAgICAgICAgOiBmdW5jdGlvbiAoKSB7IHJldHVybiBtYWtlTG9jYWxHZXR0ZXJzKHN0b3JlLCBuYW1lc3BhY2UpOyB9XHJcbiAgICB9LFxyXG4gICAgc3RhdGU6IHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnZXROZXN0ZWRTdGF0ZShzdG9yZS5zdGF0ZSwgcGF0aCk7IH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGxvY2FsXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VMb2NhbEdldHRlcnMgKHN0b3JlLCBuYW1lc3BhY2UpIHtcclxuICBpZiAoIXN0b3JlLl9tYWtlTG9jYWxHZXR0ZXJzQ2FjaGVbbmFtZXNwYWNlXSkge1xyXG4gICAgdmFyIGdldHRlcnNQcm94eSA9IHt9O1xyXG4gICAgdmFyIHNwbGl0UG9zID0gbmFtZXNwYWNlLmxlbmd0aDtcclxuICAgIE9iamVjdC5rZXlzKHN0b3JlLmdldHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgLy8gc2tpcCBpZiB0aGUgdGFyZ2V0IGdldHRlciBpcyBub3QgbWF0Y2ggdGhpcyBuYW1lc3BhY2VcclxuICAgICAgaWYgKHR5cGUuc2xpY2UoMCwgc3BsaXRQb3MpICE9PSBuYW1lc3BhY2UpIHsgcmV0dXJuIH1cclxuXHJcbiAgICAgIC8vIGV4dHJhY3QgbG9jYWwgZ2V0dGVyIHR5cGVcclxuICAgICAgdmFyIGxvY2FsVHlwZSA9IHR5cGUuc2xpY2Uoc3BsaXRQb3MpO1xyXG5cclxuICAgICAgLy8gQWRkIGEgcG9ydCB0byB0aGUgZ2V0dGVycyBwcm94eS5cclxuICAgICAgLy8gRGVmaW5lIGFzIGdldHRlciBwcm9wZXJ0eSBiZWNhdXNlXHJcbiAgICAgIC8vIHdlIGRvIG5vdCB3YW50IHRvIGV2YWx1YXRlIHRoZSBnZXR0ZXJzIGluIHRoaXMgdGltZS5cclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGdldHRlcnNQcm94eSwgbG9jYWxUeXBlLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdG9yZS5nZXR0ZXJzW3R5cGVdOyB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHN0b3JlLl9tYWtlTG9jYWxHZXR0ZXJzQ2FjaGVbbmFtZXNwYWNlXSA9IGdldHRlcnNQcm94eTtcclxuICB9XHJcblxyXG4gIHJldHVybiBzdG9yZS5fbWFrZUxvY2FsR2V0dGVyc0NhY2hlW25hbWVzcGFjZV1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVnaXN0ZXJNdXRhdGlvbiAoc3RvcmUsIHR5cGUsIGhhbmRsZXIsIGxvY2FsKSB7XHJcbiAgdmFyIGVudHJ5ID0gc3RvcmUuX211dGF0aW9uc1t0eXBlXSB8fCAoc3RvcmUuX211dGF0aW9uc1t0eXBlXSA9IFtdKTtcclxuICBlbnRyeS5wdXNoKGZ1bmN0aW9uIHdyYXBwZWRNdXRhdGlvbkhhbmRsZXIgKHBheWxvYWQpIHtcclxuICAgIGhhbmRsZXIuY2FsbChzdG9yZSwgbG9jYWwuc3RhdGUsIHBheWxvYWQpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlckFjdGlvbiAoc3RvcmUsIHR5cGUsIGhhbmRsZXIsIGxvY2FsKSB7XHJcbiAgdmFyIGVudHJ5ID0gc3RvcmUuX2FjdGlvbnNbdHlwZV0gfHwgKHN0b3JlLl9hY3Rpb25zW3R5cGVdID0gW10pO1xyXG4gIGVudHJ5LnB1c2goZnVuY3Rpb24gd3JhcHBlZEFjdGlvbkhhbmRsZXIgKHBheWxvYWQpIHtcclxuICAgIHZhciByZXMgPSBoYW5kbGVyLmNhbGwoc3RvcmUsIHtcclxuICAgICAgZGlzcGF0Y2g6IGxvY2FsLmRpc3BhdGNoLFxyXG4gICAgICBjb21taXQ6IGxvY2FsLmNvbW1pdCxcclxuICAgICAgZ2V0dGVyczogbG9jYWwuZ2V0dGVycyxcclxuICAgICAgc3RhdGU6IGxvY2FsLnN0YXRlLFxyXG4gICAgICByb290R2V0dGVyczogc3RvcmUuZ2V0dGVycyxcclxuICAgICAgcm9vdFN0YXRlOiBzdG9yZS5zdGF0ZVxyXG4gICAgfSwgcGF5bG9hZCk7XHJcbiAgICBpZiAoIWlzUHJvbWlzZShyZXMpKSB7XHJcbiAgICAgIHJlcyA9IFByb21pc2UucmVzb2x2ZShyZXMpO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0b3JlLl9kZXZ0b29sSG9vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICBzdG9yZS5fZGV2dG9vbEhvb2suZW1pdCgndnVleDplcnJvcicsIGVycik7XHJcbiAgICAgICAgdGhyb3cgZXJyXHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gcmVzXHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyR2V0dGVyIChzdG9yZSwgdHlwZSwgcmF3R2V0dGVyLCBsb2NhbCkge1xyXG4gIGlmIChzdG9yZS5fd3JhcHBlZEdldHRlcnNbdHlwZV0pIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgY29uc29sZS5lcnJvcigoXCJbdnVleF0gZHVwbGljYXRlIGdldHRlciBrZXk6IFwiICsgdHlwZSkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIHN0b3JlLl93cmFwcGVkR2V0dGVyc1t0eXBlXSA9IGZ1bmN0aW9uIHdyYXBwZWRHZXR0ZXIgKHN0b3JlKSB7XHJcbiAgICByZXR1cm4gcmF3R2V0dGVyKFxyXG4gICAgICBsb2NhbC5zdGF0ZSwgLy8gbG9jYWwgc3RhdGVcclxuICAgICAgbG9jYWwuZ2V0dGVycywgLy8gbG9jYWwgZ2V0dGVyc1xyXG4gICAgICBzdG9yZS5zdGF0ZSwgLy8gcm9vdCBzdGF0ZVxyXG4gICAgICBzdG9yZS5nZXR0ZXJzIC8vIHJvb3QgZ2V0dGVyc1xyXG4gICAgKVxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVuYWJsZVN0cmljdE1vZGUgKHN0b3JlKSB7XHJcbiAgd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RvcmUuX3N0YXRlLmRhdGE7IH0sIGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgYXNzZXJ0KHN0b3JlLl9jb21taXR0aW5nLCBcImRvIG5vdCBtdXRhdGUgdnVleCBzdG9yZSBzdGF0ZSBvdXRzaWRlIG11dGF0aW9uIGhhbmRsZXJzLlwiKTtcclxuICAgIH1cclxuICB9LCB7IGRlZXA6IHRydWUsIGZsdXNoOiAnc3luYycgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE5lc3RlZFN0YXRlIChzdGF0ZSwgcGF0aCkge1xyXG4gIHJldHVybiBwYXRoLnJlZHVjZShmdW5jdGlvbiAoc3RhdGUsIGtleSkgeyByZXR1cm4gc3RhdGVba2V5XTsgfSwgc3RhdGUpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVuaWZ5T2JqZWN0U3R5bGUgKHR5cGUsIHBheWxvYWQsIG9wdGlvbnMpIHtcclxuICBpZiAoaXNPYmplY3QodHlwZSkgJiYgdHlwZS50eXBlKSB7XHJcbiAgICBvcHRpb25zID0gcGF5bG9hZDtcclxuICAgIHBheWxvYWQgPSB0eXBlO1xyXG4gICAgdHlwZSA9IHR5cGUudHlwZTtcclxuICB9XHJcblxyXG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgIGFzc2VydCh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycsIChcImV4cGVjdHMgc3RyaW5nIGFzIHRoZSB0eXBlLCBidXQgZm91bmQgXCIgKyAodHlwZW9mIHR5cGUpICsgXCIuXCIpKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7IHR5cGU6IHR5cGUsIHBheWxvYWQ6IHBheWxvYWQsIG9wdGlvbnM6IG9wdGlvbnMgfVxyXG59XHJcblxyXG52YXIgTEFCRUxfVlVFWF9CSU5ESU5HUyA9ICd2dWV4IGJpbmRpbmdzJztcclxudmFyIE1VVEFUSU9OU19MQVlFUl9JRCA9ICd2dWV4Om11dGF0aW9ucyc7XHJcbnZhciBBQ1RJT05TX0xBWUVSX0lEID0gJ3Z1ZXg6YWN0aW9ucyc7XHJcbnZhciBJTlNQRUNUT1JfSUQgPSAndnVleCc7XHJcblxyXG52YXIgYWN0aW9uSWQgPSAwO1xyXG5cclxuZnVuY3Rpb24gYWRkRGV2dG9vbHMgKGFwcCwgc3RvcmUpIHtcclxuICBzZXR1cERldnRvb2xzUGx1Z2luKFxyXG4gICAge1xyXG4gICAgICBpZDogJ29yZy52dWVqcy52dWV4JyxcclxuICAgICAgYXBwOiBhcHAsXHJcbiAgICAgIGxhYmVsOiAnVnVleCcsXHJcbiAgICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly9uZXh0LnZ1ZXgudnVlanMub3JnLycsXHJcbiAgICAgIGxvZ286ICdodHRwczovL3Z1ZWpzLm9yZy9pbWFnZXMvaWNvbnMvZmF2aWNvbi05Nng5Ni5wbmcnLFxyXG4gICAgICBwYWNrYWdlTmFtZTogJ3Z1ZXgnLFxyXG4gICAgICBjb21wb25lbnRTdGF0ZVR5cGVzOiBbTEFCRUxfVlVFWF9CSU5ESU5HU11cclxuICAgIH0sXHJcbiAgICBmdW5jdGlvbiAoYXBpKSB7XHJcbiAgICAgIGFwaS5hZGRUaW1lbGluZUxheWVyKHtcclxuICAgICAgICBpZDogTVVUQVRJT05TX0xBWUVSX0lELFxyXG4gICAgICAgIGxhYmVsOiAnVnVleCBNdXRhdGlvbnMnLFxyXG4gICAgICAgIGNvbG9yOiBDT0xPUl9MSU1FXzUwMFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGFwaS5hZGRUaW1lbGluZUxheWVyKHtcclxuICAgICAgICBpZDogQUNUSU9OU19MQVlFUl9JRCxcclxuICAgICAgICBsYWJlbDogJ1Z1ZXggQWN0aW9ucycsXHJcbiAgICAgICAgY29sb3I6IENPTE9SX0xJTUVfNTAwXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgYXBpLmFkZEluc3BlY3Rvcih7XHJcbiAgICAgICAgaWQ6IElOU1BFQ1RPUl9JRCxcclxuICAgICAgICBsYWJlbDogJ1Z1ZXgnLFxyXG4gICAgICAgIGljb246ICdzdG9yYWdlJyxcclxuICAgICAgICB0cmVlRmlsdGVyUGxhY2Vob2xkZXI6ICdGaWx0ZXIgc3RvcmVzLi4uJ1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGFwaS5vbi5nZXRJbnNwZWN0b3JUcmVlKGZ1bmN0aW9uIChwYXlsb2FkKSB7XHJcbiAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XHJcbiAgICAgICAgICBpZiAocGF5bG9hZC5maWx0ZXIpIHtcclxuICAgICAgICAgICAgdmFyIG5vZGVzID0gW107XHJcbiAgICAgICAgICAgIGZsYXR0ZW5TdG9yZUZvckluc3BlY3RvclRyZWUobm9kZXMsIHN0b3JlLl9tb2R1bGVzLnJvb3QsIHBheWxvYWQuZmlsdGVyLCAnJyk7XHJcbiAgICAgICAgICAgIHBheWxvYWQucm9vdE5vZGVzID0gbm9kZXM7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwYXlsb2FkLnJvb3ROb2RlcyA9IFtcclxuICAgICAgICAgICAgICBmb3JtYXRTdG9yZUZvckluc3BlY3RvclRyZWUoc3RvcmUuX21vZHVsZXMucm9vdCwgJycpXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGFwaS5vbi5nZXRJbnNwZWN0b3JTdGF0ZShmdW5jdGlvbiAocGF5bG9hZCkge1xyXG4gICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IElOU1BFQ1RPUl9JRCkge1xyXG4gICAgICAgICAgdmFyIG1vZHVsZVBhdGggPSBwYXlsb2FkLm5vZGVJZDtcclxuICAgICAgICAgIG1ha2VMb2NhbEdldHRlcnMoc3RvcmUsIG1vZHVsZVBhdGgpO1xyXG4gICAgICAgICAgcGF5bG9hZC5zdGF0ZSA9IGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yU3RhdGUoXHJcbiAgICAgICAgICAgIGdldFN0b3JlTW9kdWxlKHN0b3JlLl9tb2R1bGVzLCBtb2R1bGVQYXRoKSxcclxuICAgICAgICAgICAgbW9kdWxlUGF0aCA9PT0gJ3Jvb3QnID8gc3RvcmUuZ2V0dGVycyA6IHN0b3JlLl9tYWtlTG9jYWxHZXR0ZXJzQ2FjaGUsXHJcbiAgICAgICAgICAgIG1vZHVsZVBhdGhcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGFwaS5vbi5lZGl0SW5zcGVjdG9yU3RhdGUoZnVuY3Rpb24gKHBheWxvYWQpIHtcclxuICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSBJTlNQRUNUT1JfSUQpIHtcclxuICAgICAgICAgIHZhciBtb2R1bGVQYXRoID0gcGF5bG9hZC5ub2RlSWQ7XHJcbiAgICAgICAgICB2YXIgcGF0aCA9IHBheWxvYWQucGF0aDtcclxuICAgICAgICAgIGlmIChtb2R1bGVQYXRoICE9PSAncm9vdCcpIHtcclxuICAgICAgICAgICAgcGF0aCA9IG1vZHVsZVBhdGguc3BsaXQoJy8nKS5maWx0ZXIoQm9vbGVhbikuY29uY2F0KCBwYXRoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHN0b3JlLl93aXRoQ29tbWl0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcGF5bG9hZC5zZXQoc3RvcmUuX3N0YXRlLmRhdGEsIHBhdGgsIHBheWxvYWQuc3RhdGUudmFsdWUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAobXV0YXRpb24sIHN0YXRlKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB7fTtcclxuXHJcbiAgICAgICAgaWYgKG11dGF0aW9uLnBheWxvYWQpIHtcclxuICAgICAgICAgIGRhdGEucGF5bG9hZCA9IG11dGF0aW9uLnBheWxvYWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkYXRhLnN0YXRlID0gc3RhdGU7XHJcblxyXG4gICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcclxuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XHJcblxyXG4gICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcclxuICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgIHRpbWU6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgIHRpdGxlOiBtdXRhdGlvbi50eXBlLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc3RvcmUuc3Vic2NyaWJlQWN0aW9uKHtcclxuICAgICAgICBiZWZvcmU6IGZ1bmN0aW9uIChhY3Rpb24sIHN0YXRlKSB7XHJcbiAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgaWYgKGFjdGlvbi5wYXlsb2FkKSB7XHJcbiAgICAgICAgICAgIGRhdGEucGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYWN0aW9uLl9pZCA9IGFjdGlvbklkKys7XHJcbiAgICAgICAgICBhY3Rpb24uX3RpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgZGF0YS5zdGF0ZSA9IHN0YXRlO1xyXG5cclxuICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgbGF5ZXJJZDogQUNUSU9OU19MQVlFUl9JRCxcclxuICAgICAgICAgICAgZXZlbnQ6IHtcclxuICAgICAgICAgICAgICB0aW1lOiBhY3Rpb24uX3RpbWUsXHJcbiAgICAgICAgICAgICAgdGl0bGU6IGFjdGlvbi50eXBlLFxyXG4gICAgICAgICAgICAgIGdyb3VwSWQ6IGFjdGlvbi5faWQsXHJcbiAgICAgICAgICAgICAgc3VidGl0bGU6ICdzdGFydCcsXHJcbiAgICAgICAgICAgICAgZGF0YTogZGF0YVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFmdGVyOiBmdW5jdGlvbiAoYWN0aW9uLCBzdGF0ZSkge1xyXG4gICAgICAgICAgdmFyIGRhdGEgPSB7fTtcclxuICAgICAgICAgIHZhciBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBhY3Rpb24uX3RpbWU7XHJcbiAgICAgICAgICBkYXRhLmR1cmF0aW9uID0ge1xyXG4gICAgICAgICAgICBfY3VzdG9tOiB7XHJcbiAgICAgICAgICAgICAgdHlwZTogJ2R1cmF0aW9uJyxcclxuICAgICAgICAgICAgICBkaXNwbGF5OiAoZHVyYXRpb24gKyBcIm1zXCIpLFxyXG4gICAgICAgICAgICAgIHRvb2x0aXA6ICdBY3Rpb24gZHVyYXRpb24nLFxyXG4gICAgICAgICAgICAgIHZhbHVlOiBkdXJhdGlvblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgaWYgKGFjdGlvbi5wYXlsb2FkKSB7XHJcbiAgICAgICAgICAgIGRhdGEucGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZGF0YS5zdGF0ZSA9IHN0YXRlO1xyXG5cclxuICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgbGF5ZXJJZDogQUNUSU9OU19MQVlFUl9JRCxcclxuICAgICAgICAgICAgZXZlbnQ6IHtcclxuICAgICAgICAgICAgICB0aW1lOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiBhY3Rpb24udHlwZSxcclxuICAgICAgICAgICAgICBncm91cElkOiBhY3Rpb24uX2lkLFxyXG4gICAgICAgICAgICAgIHN1YnRpdGxlOiAnZW5kJyxcclxuICAgICAgICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgKTtcclxufVxyXG5cclxuLy8gZXh0cmFjdGVkIGZyb20gdGFpbHdpbmQgcGFsZXR0ZVxyXG52YXIgQ09MT1JfTElNRV81MDAgPSAweDg0Y2MxNjtcclxudmFyIENPTE9SX0RBUksgPSAweDY2NjY2NjtcclxudmFyIENPTE9SX1dISVRFID0gMHhmZmZmZmY7XHJcblxyXG52YXIgVEFHX05BTUVTUEFDRUQgPSB7XHJcbiAgbGFiZWw6ICduYW1lc3BhY2VkJyxcclxuICB0ZXh0Q29sb3I6IENPTE9SX1dISVRFLFxyXG4gIGJhY2tncm91bmRDb2xvcjogQ09MT1JfREFSS1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXHJcbiAqL1xyXG5mdW5jdGlvbiBleHRyYWN0TmFtZUZyb21QYXRoIChwYXRoKSB7XHJcbiAgcmV0dXJuIHBhdGggJiYgcGF0aCAhPT0gJ3Jvb3QnID8gcGF0aC5zcGxpdCgnLycpLnNsaWNlKC0yLCAtMSlbMF0gOiAnUm9vdCdcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Kn0gbW9kdWxlXHJcbiAqIEByZXR1cm4ge2ltcG9ydCgnQHZ1ZS9kZXZ0b29scy1hcGknKS5DdXN0b21JbnNwZWN0b3JOb2RlfVxyXG4gKi9cclxuZnVuY3Rpb24gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JUcmVlIChtb2R1bGUsIHBhdGgpIHtcclxuICByZXR1cm4ge1xyXG4gICAgaWQ6IHBhdGggfHwgJ3Jvb3QnLFxyXG4gICAgLy8gYWxsIG1vZHVsZXMgZW5kIHdpdGggYSBgL2AsIHdlIHdhbnQgdGhlIGxhc3Qgc2VnbWVudCBvbmx5XHJcbiAgICAvLyBjYXJ0LyAtPiBjYXJ0XHJcbiAgICAvLyBuZXN0ZWQvY2FydC8gLT4gY2FydFxyXG4gICAgbGFiZWw6IGV4dHJhY3ROYW1lRnJvbVBhdGgocGF0aCksXHJcbiAgICB0YWdzOiBtb2R1bGUubmFtZXNwYWNlZCA/IFtUQUdfTkFNRVNQQUNFRF0gOiBbXSxcclxuICAgIGNoaWxkcmVuOiBPYmplY3Qua2V5cyhtb2R1bGUuX2NoaWxkcmVuKS5tYXAoZnVuY3Rpb24gKG1vZHVsZU5hbWUpIHsgcmV0dXJuIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZShcclxuICAgICAgICBtb2R1bGUuX2NoaWxkcmVuW21vZHVsZU5hbWVdLFxyXG4gICAgICAgIHBhdGggKyBtb2R1bGVOYW1lICsgJy8nXHJcbiAgICAgICk7IH1cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge2ltcG9ydCgnQHZ1ZS9kZXZ0b29scy1hcGknKS5DdXN0b21JbnNwZWN0b3JOb2RlW119IHJlc3VsdFxyXG4gKiBAcGFyYW0geyp9IG1vZHVsZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVyXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXHJcbiAqL1xyXG5mdW5jdGlvbiBmbGF0dGVuU3RvcmVGb3JJbnNwZWN0b3JUcmVlIChyZXN1bHQsIG1vZHVsZSwgZmlsdGVyLCBwYXRoKSB7XHJcbiAgaWYgKHBhdGguaW5jbHVkZXMoZmlsdGVyKSkge1xyXG4gICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICBpZDogcGF0aCB8fCAncm9vdCcsXHJcbiAgICAgIGxhYmVsOiBwYXRoLmVuZHNXaXRoKCcvJykgPyBwYXRoLnNsaWNlKDAsIHBhdGgubGVuZ3RoIC0gMSkgOiBwYXRoIHx8ICdSb290JyxcclxuICAgICAgdGFnczogbW9kdWxlLm5hbWVzcGFjZWQgPyBbVEFHX05BTUVTUEFDRURdIDogW11cclxuICAgIH0pO1xyXG4gIH1cclxuICBPYmplY3Qua2V5cyhtb2R1bGUuX2NoaWxkcmVuKS5mb3JFYWNoKGZ1bmN0aW9uIChtb2R1bGVOYW1lKSB7XHJcbiAgICBmbGF0dGVuU3RvcmVGb3JJbnNwZWN0b3JUcmVlKHJlc3VsdCwgbW9kdWxlLl9jaGlsZHJlblttb2R1bGVOYW1lXSwgZmlsdGVyLCBwYXRoICsgbW9kdWxlTmFtZSArICcvJyk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0geyp9IG1vZHVsZVxyXG4gKiBAcmV0dXJuIHtpbXBvcnQoJ0B2dWUvZGV2dG9vbHMtYXBpJykuQ3VzdG9tSW5zcGVjdG9yU3RhdGV9XHJcbiAqL1xyXG5mdW5jdGlvbiBmb3JtYXRTdG9yZUZvckluc3BlY3RvclN0YXRlIChtb2R1bGUsIGdldHRlcnMsIHBhdGgpIHtcclxuICBnZXR0ZXJzID0gcGF0aCA9PT0gJ3Jvb3QnID8gZ2V0dGVycyA6IGdldHRlcnNbcGF0aF07XHJcbiAgdmFyIGdldHRlcnNLZXlzID0gT2JqZWN0LmtleXMoZ2V0dGVycyk7XHJcbiAgdmFyIHN0b3JlU3RhdGUgPSB7XHJcbiAgICBzdGF0ZTogT2JqZWN0LmtleXMobW9kdWxlLnN0YXRlKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gKHtcclxuICAgICAga2V5OiBrZXksXHJcbiAgICAgIGVkaXRhYmxlOiB0cnVlLFxyXG4gICAgICB2YWx1ZTogbW9kdWxlLnN0YXRlW2tleV1cclxuICAgIH0pOyB9KVxyXG4gIH07XHJcblxyXG4gIGlmIChnZXR0ZXJzS2V5cy5sZW5ndGgpIHtcclxuICAgIHZhciB0cmVlID0gdHJhbnNmb3JtUGF0aHNUb09iamVjdFRyZWUoZ2V0dGVycyk7XHJcbiAgICBzdG9yZVN0YXRlLmdldHRlcnMgPSBPYmplY3Qua2V5cyh0cmVlKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gKHtcclxuICAgICAga2V5OiBrZXkuZW5kc1dpdGgoJy8nKSA/IGV4dHJhY3ROYW1lRnJvbVBhdGgoa2V5KSA6IGtleSxcclxuICAgICAgZWRpdGFibGU6IGZhbHNlLFxyXG4gICAgICB2YWx1ZTogY2FuVGhyb3coZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJlZVtrZXldOyB9KVxyXG4gICAgfSk7IH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHN0b3JlU3RhdGVcclxufVxyXG5cclxuZnVuY3Rpb24gdHJhbnNmb3JtUGF0aHNUb09iamVjdFRyZWUgKGdldHRlcnMpIHtcclxuICB2YXIgcmVzdWx0ID0ge307XHJcbiAgT2JqZWN0LmtleXMoZ2V0dGVycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICB2YXIgcGF0aCA9IGtleS5zcGxpdCgnLycpO1xyXG4gICAgaWYgKHBhdGgubGVuZ3RoID4gMSkge1xyXG4gICAgICB2YXIgdGFyZ2V0ID0gcmVzdWx0O1xyXG4gICAgICB2YXIgbGVhZktleSA9IHBhdGgucG9wKCk7XHJcbiAgICAgIHBhdGguZm9yRWFjaChmdW5jdGlvbiAocCkge1xyXG4gICAgICAgIGlmICghdGFyZ2V0W3BdKSB7XHJcbiAgICAgICAgICB0YXJnZXRbcF0gPSB7XHJcbiAgICAgICAgICAgIF9jdXN0b206IHtcclxuICAgICAgICAgICAgICB2YWx1ZToge30sXHJcbiAgICAgICAgICAgICAgZGlzcGxheTogcCxcclxuICAgICAgICAgICAgICB0b29sdGlwOiAnTW9kdWxlJyxcclxuICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YXJnZXQgPSB0YXJnZXRbcF0uX2N1c3RvbS52YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRhcmdldFtsZWFmS2V5XSA9IGNhblRocm93KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldHRlcnNba2V5XTsgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXN1bHRba2V5XSA9IGNhblRocm93KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldHRlcnNba2V5XTsgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHJlc3VsdFxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTdG9yZU1vZHVsZSAobW9kdWxlTWFwLCBwYXRoKSB7XHJcbiAgdmFyIG5hbWVzID0gcGF0aC5zcGxpdCgnLycpLmZpbHRlcihmdW5jdGlvbiAobikgeyByZXR1cm4gbjsgfSk7XHJcbiAgcmV0dXJuIG5hbWVzLnJlZHVjZShcclxuICAgIGZ1bmN0aW9uIChtb2R1bGUsIG1vZHVsZU5hbWUsIGkpIHtcclxuICAgICAgdmFyIGNoaWxkID0gbW9kdWxlW21vZHVsZU5hbWVdO1xyXG4gICAgICBpZiAoIWNoaWxkKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcIk1pc3NpbmcgbW9kdWxlIFxcXCJcIiArIG1vZHVsZU5hbWUgKyBcIlxcXCIgZm9yIHBhdGggXFxcIlwiICsgcGF0aCArIFwiXFxcIi5cIikpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGkgPT09IG5hbWVzLmxlbmd0aCAtIDEgPyBjaGlsZCA6IGNoaWxkLl9jaGlsZHJlblxyXG4gICAgfSxcclxuICAgIHBhdGggPT09ICdyb290JyA/IG1vZHVsZU1hcCA6IG1vZHVsZU1hcC5yb290Ll9jaGlsZHJlblxyXG4gIClcclxufVxyXG5cclxuZnVuY3Rpb24gY2FuVGhyb3cgKGNiKSB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBjYigpXHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIGVcclxuICB9XHJcbn1cclxuXHJcbi8vIEJhc2UgZGF0YSBzdHJ1Y3QgZm9yIHN0b3JlJ3MgbW9kdWxlLCBwYWNrYWdlIHdpdGggc29tZSBhdHRyaWJ1dGUgYW5kIG1ldGhvZFxyXG52YXIgTW9kdWxlID0gZnVuY3Rpb24gTW9kdWxlIChyYXdNb2R1bGUsIHJ1bnRpbWUpIHtcclxuICB0aGlzLnJ1bnRpbWUgPSBydW50aW1lO1xyXG4gIC8vIFN0b3JlIHNvbWUgY2hpbGRyZW4gaXRlbVxyXG4gIHRoaXMuX2NoaWxkcmVuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAvLyBTdG9yZSB0aGUgb3JpZ2luIG1vZHVsZSBvYmplY3Qgd2hpY2ggcGFzc2VkIGJ5IHByb2dyYW1tZXJcclxuICB0aGlzLl9yYXdNb2R1bGUgPSByYXdNb2R1bGU7XHJcbiAgdmFyIHJhd1N0YXRlID0gcmF3TW9kdWxlLnN0YXRlO1xyXG5cclxuICAvLyBTdG9yZSB0aGUgb3JpZ2luIG1vZHVsZSdzIHN0YXRlXHJcbiAgdGhpcy5zdGF0ZSA9ICh0eXBlb2YgcmF3U3RhdGUgPT09ICdmdW5jdGlvbicgPyByYXdTdGF0ZSgpIDogcmF3U3RhdGUpIHx8IHt9O1xyXG59O1xyXG5cclxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQxID0geyBuYW1lc3BhY2VkOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XHJcblxyXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5uYW1lc3BhY2VkLmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gISF0aGlzLl9yYXdNb2R1bGUubmFtZXNwYWNlZFxyXG59O1xyXG5cclxuTW9kdWxlLnByb3RvdHlwZS5hZGRDaGlsZCA9IGZ1bmN0aW9uIGFkZENoaWxkIChrZXksIG1vZHVsZSkge1xyXG4gIHRoaXMuX2NoaWxkcmVuW2tleV0gPSBtb2R1bGU7XHJcbn07XHJcblxyXG5Nb2R1bGUucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGQgKGtleSkge1xyXG4gIGRlbGV0ZSB0aGlzLl9jaGlsZHJlbltrZXldO1xyXG59O1xyXG5cclxuTW9kdWxlLnByb3RvdHlwZS5nZXRDaGlsZCA9IGZ1bmN0aW9uIGdldENoaWxkIChrZXkpIHtcclxuICByZXR1cm4gdGhpcy5fY2hpbGRyZW5ba2V5XVxyXG59O1xyXG5cclxuTW9kdWxlLnByb3RvdHlwZS5oYXNDaGlsZCA9IGZ1bmN0aW9uIGhhc0NoaWxkIChrZXkpIHtcclxuICByZXR1cm4ga2V5IGluIHRoaXMuX2NoaWxkcmVuXHJcbn07XHJcblxyXG5Nb2R1bGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAocmF3TW9kdWxlKSB7XHJcbiAgdGhpcy5fcmF3TW9kdWxlLm5hbWVzcGFjZWQgPSByYXdNb2R1bGUubmFtZXNwYWNlZDtcclxuICBpZiAocmF3TW9kdWxlLmFjdGlvbnMpIHtcclxuICAgIHRoaXMuX3Jhd01vZHVsZS5hY3Rpb25zID0gcmF3TW9kdWxlLmFjdGlvbnM7XHJcbiAgfVxyXG4gIGlmIChyYXdNb2R1bGUubXV0YXRpb25zKSB7XHJcbiAgICB0aGlzLl9yYXdNb2R1bGUubXV0YXRpb25zID0gcmF3TW9kdWxlLm11dGF0aW9ucztcclxuICB9XHJcbiAgaWYgKHJhd01vZHVsZS5nZXR0ZXJzKSB7XHJcbiAgICB0aGlzLl9yYXdNb2R1bGUuZ2V0dGVycyA9IHJhd01vZHVsZS5nZXR0ZXJzO1xyXG4gIH1cclxufTtcclxuXHJcbk1vZHVsZS5wcm90b3R5cGUuZm9yRWFjaENoaWxkID0gZnVuY3Rpb24gZm9yRWFjaENoaWxkIChmbikge1xyXG4gIGZvckVhY2hWYWx1ZSh0aGlzLl9jaGlsZHJlbiwgZm4pO1xyXG59O1xyXG5cclxuTW9kdWxlLnByb3RvdHlwZS5mb3JFYWNoR2V0dGVyID0gZnVuY3Rpb24gZm9yRWFjaEdldHRlciAoZm4pIHtcclxuICBpZiAodGhpcy5fcmF3TW9kdWxlLmdldHRlcnMpIHtcclxuICAgIGZvckVhY2hWYWx1ZSh0aGlzLl9yYXdNb2R1bGUuZ2V0dGVycywgZm4pO1xyXG4gIH1cclxufTtcclxuXHJcbk1vZHVsZS5wcm90b3R5cGUuZm9yRWFjaEFjdGlvbiA9IGZ1bmN0aW9uIGZvckVhY2hBY3Rpb24gKGZuKSB7XHJcbiAgaWYgKHRoaXMuX3Jhd01vZHVsZS5hY3Rpb25zKSB7XHJcbiAgICBmb3JFYWNoVmFsdWUodGhpcy5fcmF3TW9kdWxlLmFjdGlvbnMsIGZuKTtcclxuICB9XHJcbn07XHJcblxyXG5Nb2R1bGUucHJvdG90eXBlLmZvckVhY2hNdXRhdGlvbiA9IGZ1bmN0aW9uIGZvckVhY2hNdXRhdGlvbiAoZm4pIHtcclxuICBpZiAodGhpcy5fcmF3TW9kdWxlLm11dGF0aW9ucykge1xyXG4gICAgZm9yRWFjaFZhbHVlKHRoaXMuX3Jhd01vZHVsZS5tdXRhdGlvbnMsIGZuKTtcclxuICB9XHJcbn07XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggTW9kdWxlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDEgKTtcclxuXHJcbnZhciBNb2R1bGVDb2xsZWN0aW9uID0gZnVuY3Rpb24gTW9kdWxlQ29sbGVjdGlvbiAocmF3Um9vdE1vZHVsZSkge1xyXG4gIC8vIHJlZ2lzdGVyIHJvb3QgbW9kdWxlIChWdWV4LlN0b3JlIG9wdGlvbnMpXHJcbiAgdGhpcy5yZWdpc3RlcihbXSwgcmF3Um9vdE1vZHVsZSwgZmFsc2UpO1xyXG59O1xyXG5cclxuTW9kdWxlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChwYXRoKSB7XHJcbiAgcmV0dXJuIHBhdGgucmVkdWNlKGZ1bmN0aW9uIChtb2R1bGUsIGtleSkge1xyXG4gICAgcmV0dXJuIG1vZHVsZS5nZXRDaGlsZChrZXkpXHJcbiAgfSwgdGhpcy5yb290KVxyXG59O1xyXG5cclxuTW9kdWxlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0TmFtZXNwYWNlID0gZnVuY3Rpb24gZ2V0TmFtZXNwYWNlIChwYXRoKSB7XHJcbiAgdmFyIG1vZHVsZSA9IHRoaXMucm9vdDtcclxuICByZXR1cm4gcGF0aC5yZWR1Y2UoZnVuY3Rpb24gKG5hbWVzcGFjZSwga2V5KSB7XHJcbiAgICBtb2R1bGUgPSBtb2R1bGUuZ2V0Q2hpbGQoa2V5KTtcclxuICAgIHJldHVybiBuYW1lc3BhY2UgKyAobW9kdWxlLm5hbWVzcGFjZWQgPyBrZXkgKyAnLycgOiAnJylcclxuICB9LCAnJylcclxufTtcclxuXHJcbk1vZHVsZUNvbGxlY3Rpb24ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSQxIChyYXdSb290TW9kdWxlKSB7XHJcbiAgdXBkYXRlKFtdLCB0aGlzLnJvb3QsIHJhd1Jvb3RNb2R1bGUpO1xyXG59O1xyXG5cclxuTW9kdWxlQ29sbGVjdGlvbi5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiByZWdpc3RlciAocGF0aCwgcmF3TW9kdWxlLCBydW50aW1lKSB7XHJcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xyXG4gICAgaWYgKCBydW50aW1lID09PSB2b2lkIDAgKSBydW50aW1lID0gdHJ1ZTtcclxuXHJcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgYXNzZXJ0UmF3TW9kdWxlKHBhdGgsIHJhd01vZHVsZSk7XHJcbiAgfVxyXG5cclxuICB2YXIgbmV3TW9kdWxlID0gbmV3IE1vZHVsZShyYXdNb2R1bGUsIHJ1bnRpbWUpO1xyXG4gIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgdGhpcy5yb290ID0gbmV3TW9kdWxlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5nZXQocGF0aC5zbGljZSgwLCAtMSkpO1xyXG4gICAgcGFyZW50LmFkZENoaWxkKHBhdGhbcGF0aC5sZW5ndGggLSAxXSwgbmV3TW9kdWxlKTtcclxuICB9XHJcblxyXG4gIC8vIHJlZ2lzdGVyIG5lc3RlZCBtb2R1bGVzXHJcbiAgaWYgKHJhd01vZHVsZS5tb2R1bGVzKSB7XHJcbiAgICBmb3JFYWNoVmFsdWUocmF3TW9kdWxlLm1vZHVsZXMsIGZ1bmN0aW9uIChyYXdDaGlsZE1vZHVsZSwga2V5KSB7XHJcbiAgICAgIHRoaXMkMSQxLnJlZ2lzdGVyKHBhdGguY29uY2F0KGtleSksIHJhd0NoaWxkTW9kdWxlLCBydW50aW1lKTtcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbk1vZHVsZUNvbGxlY3Rpb24ucHJvdG90eXBlLnVucmVnaXN0ZXIgPSBmdW5jdGlvbiB1bnJlZ2lzdGVyIChwYXRoKSB7XHJcbiAgdmFyIHBhcmVudCA9IHRoaXMuZ2V0KHBhdGguc2xpY2UoMCwgLTEpKTtcclxuICB2YXIga2V5ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xyXG4gIHZhciBjaGlsZCA9IHBhcmVudC5nZXRDaGlsZChrZXkpO1xyXG5cclxuICBpZiAoIWNoaWxkKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICBcIlt2dWV4XSB0cnlpbmcgdG8gdW5yZWdpc3RlciBtb2R1bGUgJ1wiICsga2V5ICsgXCInLCB3aGljaCBpcyBcIiArXHJcbiAgICAgICAgXCJub3QgcmVnaXN0ZXJlZFwiXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGlmICghY2hpbGQucnVudGltZSkge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICBwYXJlbnQucmVtb3ZlQ2hpbGQoa2V5KTtcclxufTtcclxuXHJcbk1vZHVsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmlzUmVnaXN0ZXJlZCA9IGZ1bmN0aW9uIGlzUmVnaXN0ZXJlZCAocGF0aCkge1xyXG4gIHZhciBwYXJlbnQgPSB0aGlzLmdldChwYXRoLnNsaWNlKDAsIC0xKSk7XHJcbiAgdmFyIGtleSA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcclxuXHJcbiAgaWYgKHBhcmVudCkge1xyXG4gICAgcmV0dXJuIHBhcmVudC5oYXNDaGlsZChrZXkpXHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmFsc2VcclxufTtcclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZSAocGF0aCwgdGFyZ2V0TW9kdWxlLCBuZXdNb2R1bGUpIHtcclxuICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICBhc3NlcnRSYXdNb2R1bGUocGF0aCwgbmV3TW9kdWxlKTtcclxuICB9XHJcblxyXG4gIC8vIHVwZGF0ZSB0YXJnZXQgbW9kdWxlXHJcbiAgdGFyZ2V0TW9kdWxlLnVwZGF0ZShuZXdNb2R1bGUpO1xyXG5cclxuICAvLyB1cGRhdGUgbmVzdGVkIG1vZHVsZXNcclxuICBpZiAobmV3TW9kdWxlLm1vZHVsZXMpIHtcclxuICAgIGZvciAodmFyIGtleSBpbiBuZXdNb2R1bGUubW9kdWxlcykge1xyXG4gICAgICBpZiAoIXRhcmdldE1vZHVsZS5nZXRDaGlsZChrZXkpKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICBcIlt2dWV4XSB0cnlpbmcgdG8gYWRkIGEgbmV3IG1vZHVsZSAnXCIgKyBrZXkgKyBcIicgb24gaG90IHJlbG9hZGluZywgXCIgK1xyXG4gICAgICAgICAgICAnbWFudWFsIHJlbG9hZCBpcyBuZWVkZWQnXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgICB1cGRhdGUoXHJcbiAgICAgICAgcGF0aC5jb25jYXQoa2V5KSxcclxuICAgICAgICB0YXJnZXRNb2R1bGUuZ2V0Q2hpbGQoa2V5KSxcclxuICAgICAgICBuZXdNb2R1bGUubW9kdWxlc1trZXldXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG52YXIgZnVuY3Rpb25Bc3NlcnQgPSB7XHJcbiAgYXNzZXJ0OiBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJzsgfSxcclxuICBleHBlY3RlZDogJ2Z1bmN0aW9uJ1xyXG59O1xyXG5cclxudmFyIG9iamVjdEFzc2VydCA9IHtcclxuICBhc3NlcnQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nIHx8XHJcbiAgICAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUuaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJyk7IH0sXHJcbiAgZXhwZWN0ZWQ6ICdmdW5jdGlvbiBvciBvYmplY3Qgd2l0aCBcImhhbmRsZXJcIiBmdW5jdGlvbidcclxufTtcclxuXHJcbnZhciBhc3NlcnRUeXBlcyA9IHtcclxuICBnZXR0ZXJzOiBmdW5jdGlvbkFzc2VydCxcclxuICBtdXRhdGlvbnM6IGZ1bmN0aW9uQXNzZXJ0LFxyXG4gIGFjdGlvbnM6IG9iamVjdEFzc2VydFxyXG59O1xyXG5cclxuZnVuY3Rpb24gYXNzZXJ0UmF3TW9kdWxlIChwYXRoLCByYXdNb2R1bGUpIHtcclxuICBPYmplY3Qua2V5cyhhc3NlcnRUeXBlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICBpZiAoIXJhd01vZHVsZVtrZXldKSB7IHJldHVybiB9XHJcblxyXG4gICAgdmFyIGFzc2VydE9wdGlvbnMgPSBhc3NlcnRUeXBlc1trZXldO1xyXG5cclxuICAgIGZvckVhY2hWYWx1ZShyYXdNb2R1bGVba2V5XSwgZnVuY3Rpb24gKHZhbHVlLCB0eXBlKSB7XHJcbiAgICAgIGFzc2VydChcclxuICAgICAgICBhc3NlcnRPcHRpb25zLmFzc2VydCh2YWx1ZSksXHJcbiAgICAgICAgbWFrZUFzc2VydGlvbk1lc3NhZ2UocGF0aCwga2V5LCB0eXBlLCB2YWx1ZSwgYXNzZXJ0T3B0aW9ucy5leHBlY3RlZClcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYWtlQXNzZXJ0aW9uTWVzc2FnZSAocGF0aCwga2V5LCB0eXBlLCB2YWx1ZSwgZXhwZWN0ZWQpIHtcclxuICB2YXIgYnVmID0ga2V5ICsgXCIgc2hvdWxkIGJlIFwiICsgZXhwZWN0ZWQgKyBcIiBidXQgXFxcIlwiICsga2V5ICsgXCIuXCIgKyB0eXBlICsgXCJcXFwiXCI7XHJcbiAgaWYgKHBhdGgubGVuZ3RoID4gMCkge1xyXG4gICAgYnVmICs9IFwiIGluIG1vZHVsZSBcXFwiXCIgKyAocGF0aC5qb2luKCcuJykpICsgXCJcXFwiXCI7XHJcbiAgfVxyXG4gIGJ1ZiArPSBcIiBpcyBcIiArIChKU09OLnN0cmluZ2lmeSh2YWx1ZSkpICsgXCIuXCI7XHJcbiAgcmV0dXJuIGJ1ZlxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTdG9yZSAob3B0aW9ucykge1xyXG4gIHJldHVybiBuZXcgU3RvcmUob3B0aW9ucylcclxufVxyXG5cclxudmFyIFN0b3JlID0gZnVuY3Rpb24gU3RvcmUgKG9wdGlvbnMpIHtcclxuICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xyXG4gIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IHt9O1xyXG5cclxuICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICBhc3NlcnQodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnLCBcInZ1ZXggcmVxdWlyZXMgYSBQcm9taXNlIHBvbHlmaWxsIGluIHRoaXMgYnJvd3Nlci5cIik7XHJcbiAgICBhc3NlcnQodGhpcyBpbnN0YW5jZW9mIFN0b3JlLCBcInN0b3JlIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvci5cIik7XHJcbiAgfVxyXG5cclxuICB2YXIgcGx1Z2lucyA9IG9wdGlvbnMucGx1Z2luczsgaWYgKCBwbHVnaW5zID09PSB2b2lkIDAgKSBwbHVnaW5zID0gW107XHJcbiAgdmFyIHN0cmljdCA9IG9wdGlvbnMuc3RyaWN0OyBpZiAoIHN0cmljdCA9PT0gdm9pZCAwICkgc3RyaWN0ID0gZmFsc2U7XHJcbiAgdmFyIGRldnRvb2xzID0gb3B0aW9ucy5kZXZ0b29scztcclxuXHJcbiAgLy8gc3RvcmUgaW50ZXJuYWwgc3RhdGVcclxuICB0aGlzLl9jb21taXR0aW5nID0gZmFsc2U7XHJcbiAgdGhpcy5fYWN0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgdGhpcy5fYWN0aW9uU3Vic2NyaWJlcnMgPSBbXTtcclxuICB0aGlzLl9tdXRhdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gIHRoaXMuX3dyYXBwZWRHZXR0ZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICB0aGlzLl9tb2R1bGVzID0gbmV3IE1vZHVsZUNvbGxlY3Rpb24ob3B0aW9ucyk7XHJcbiAgdGhpcy5fbW9kdWxlc05hbWVzcGFjZU1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgdGhpcy5fc3Vic2NyaWJlcnMgPSBbXTtcclxuICB0aGlzLl9tYWtlTG9jYWxHZXR0ZXJzQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG5cclxuICAvLyBFZmZlY3RTY29wZSBpbnN0YW5jZS4gd2hlbiByZWdpc3RlcmluZyBuZXcgZ2V0dGVycywgd2Ugd3JhcCB0aGVtIGluc2lkZVxyXG4gIC8vIEVmZmVjdFNjb3BlIHNvIHRoYXQgZ2V0dGVycyAoY29tcHV0ZWQpIHdvdWxkIG5vdCBiZSBkZXN0cm95ZWQgb25cclxuICAvLyBjb21wb25lbnQgdW5tb3VudC5cclxuICB0aGlzLl9zY29wZSA9IG51bGw7XHJcblxyXG4gIHRoaXMuX2RldnRvb2xzID0gZGV2dG9vbHM7XHJcblxyXG4gIC8vIGJpbmQgY29tbWl0IGFuZCBkaXNwYXRjaCB0byBzZWxmXHJcbiAgdmFyIHN0b3JlID0gdGhpcztcclxuICB2YXIgcmVmID0gdGhpcztcclxuICB2YXIgZGlzcGF0Y2ggPSByZWYuZGlzcGF0Y2g7XHJcbiAgdmFyIGNvbW1pdCA9IHJlZi5jb21taXQ7XHJcbiAgdGhpcy5kaXNwYXRjaCA9IGZ1bmN0aW9uIGJvdW5kRGlzcGF0Y2ggKHR5cGUsIHBheWxvYWQpIHtcclxuICAgIHJldHVybiBkaXNwYXRjaC5jYWxsKHN0b3JlLCB0eXBlLCBwYXlsb2FkKVxyXG4gIH07XHJcbiAgdGhpcy5jb21taXQgPSBmdW5jdGlvbiBib3VuZENvbW1pdCAodHlwZSwgcGF5bG9hZCwgb3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGNvbW1pdC5jYWxsKHN0b3JlLCB0eXBlLCBwYXlsb2FkLCBvcHRpb25zKVxyXG4gIH07XHJcblxyXG4gIC8vIHN0cmljdCBtb2RlXHJcbiAgdGhpcy5zdHJpY3QgPSBzdHJpY3Q7XHJcblxyXG4gIHZhciBzdGF0ZSA9IHRoaXMuX21vZHVsZXMucm9vdC5zdGF0ZTtcclxuXHJcbiAgLy8gaW5pdCByb290IG1vZHVsZS5cclxuICAvLyB0aGlzIGFsc28gcmVjdXJzaXZlbHkgcmVnaXN0ZXJzIGFsbCBzdWItbW9kdWxlc1xyXG4gIC8vIGFuZCBjb2xsZWN0cyBhbGwgbW9kdWxlIGdldHRlcnMgaW5zaWRlIHRoaXMuX3dyYXBwZWRHZXR0ZXJzXHJcbiAgaW5zdGFsbE1vZHVsZSh0aGlzLCBzdGF0ZSwgW10sIHRoaXMuX21vZHVsZXMucm9vdCk7XHJcblxyXG4gIC8vIGluaXRpYWxpemUgdGhlIHN0b3JlIHN0YXRlLCB3aGljaCBpcyByZXNwb25zaWJsZSBmb3IgdGhlIHJlYWN0aXZpdHlcclxuICAvLyAoYWxzbyByZWdpc3RlcnMgX3dyYXBwZWRHZXR0ZXJzIGFzIGNvbXB1dGVkIHByb3BlcnRpZXMpXHJcbiAgcmVzZXRTdG9yZVN0YXRlKHRoaXMsIHN0YXRlKTtcclxuXHJcbiAgLy8gYXBwbHkgcGx1Z2luc1xyXG4gIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7IHJldHVybiBwbHVnaW4odGhpcyQxJDEpOyB9KTtcclxufTtcclxuXHJcbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHN0YXRlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XHJcblxyXG5TdG9yZS5wcm90b3R5cGUuaW5zdGFsbCA9IGZ1bmN0aW9uIGluc3RhbGwgKGFwcCwgaW5qZWN0S2V5KSB7XHJcbiAgYXBwLnByb3ZpZGUoaW5qZWN0S2V5IHx8IHN0b3JlS2V5LCB0aGlzKTtcclxuICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHN0b3JlID0gdGhpcztcclxuXHJcbiAgdmFyIHVzZURldnRvb2xzID0gdGhpcy5fZGV2dG9vbHMgIT09IHVuZGVmaW5lZFxyXG4gICAgPyB0aGlzLl9kZXZ0b29sc1xyXG4gICAgOiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fO1xyXG5cclxuICBpZiAodXNlRGV2dG9vbHMpIHtcclxuICAgIGFkZERldnRvb2xzKGFwcCwgdGhpcyk7XHJcbiAgfVxyXG59O1xyXG5cclxucHJvdG90eXBlQWNjZXNzb3JzLnN0YXRlLmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5fc3RhdGUuZGF0YVxyXG59O1xyXG5cclxucHJvdG90eXBlQWNjZXNzb3JzLnN0YXRlLnNldCA9IGZ1bmN0aW9uICh2KSB7XHJcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgYXNzZXJ0KGZhbHNlLCBcInVzZSBzdG9yZS5yZXBsYWNlU3RhdGUoKSB0byBleHBsaWNpdCByZXBsYWNlIHN0b3JlIHN0YXRlLlwiKTtcclxuICB9XHJcbn07XHJcblxyXG5TdG9yZS5wcm90b3R5cGUuY29tbWl0ID0gZnVuY3Rpb24gY29tbWl0IChfdHlwZSwgX3BheWxvYWQsIF9vcHRpb25zKSB7XHJcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xyXG5cclxuICAvLyBjaGVjayBvYmplY3Qtc3R5bGUgY29tbWl0XHJcbiAgdmFyIHJlZiA9IHVuaWZ5T2JqZWN0U3R5bGUoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucyk7XHJcbiAgICB2YXIgdHlwZSA9IHJlZi50eXBlO1xyXG4gICAgdmFyIHBheWxvYWQgPSByZWYucGF5bG9hZDtcclxuICAgIHZhciBvcHRpb25zID0gcmVmLm9wdGlvbnM7XHJcblxyXG4gIHZhciBtdXRhdGlvbiA9IHsgdHlwZTogdHlwZSwgcGF5bG9hZDogcGF5bG9hZCB9O1xyXG4gIHZhciBlbnRyeSA9IHRoaXMuX211dGF0aW9uc1t0eXBlXTtcclxuICBpZiAoIWVudHJ5KSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoKFwiW3Z1ZXhdIHVua25vd24gbXV0YXRpb24gdHlwZTogXCIgKyB0eXBlKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgdGhpcy5fd2l0aENvbW1pdChmdW5jdGlvbiAoKSB7XHJcbiAgICBlbnRyeS5mb3JFYWNoKGZ1bmN0aW9uIGNvbW1pdEl0ZXJhdG9yIChoYW5kbGVyKSB7XHJcbiAgICAgIGhhbmRsZXIocGF5bG9hZCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgdGhpcy5fc3Vic2NyaWJlcnNcclxuICAgIC5zbGljZSgpIC8vIHNoYWxsb3cgY29weSB0byBwcmV2ZW50IGl0ZXJhdG9yIGludmFsaWRhdGlvbiBpZiBzdWJzY3JpYmVyIHN5bmNocm9ub3VzbHkgY2FsbHMgdW5zdWJzY3JpYmVcclxuICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1YihtdXRhdGlvbiwgdGhpcyQxJDEuc3RhdGUpOyB9KTtcclxuXHJcbiAgaWYgKFxyXG4gICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICBvcHRpb25zICYmIG9wdGlvbnMuc2lsZW50XHJcbiAgKSB7XHJcbiAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgIFwiW3Z1ZXhdIG11dGF0aW9uIHR5cGU6IFwiICsgdHlwZSArIFwiLiBTaWxlbnQgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWQuIFwiICtcclxuICAgICAgJ1VzZSB0aGUgZmlsdGVyIGZ1bmN0aW9uYWxpdHkgaW4gdGhlIHZ1ZS1kZXZ0b29scydcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuU3RvcmUucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2ggKF90eXBlLCBfcGF5bG9hZCkge1xyXG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcclxuXHJcbiAgLy8gY2hlY2sgb2JqZWN0LXN0eWxlIGRpc3BhdGNoXHJcbiAgdmFyIHJlZiA9IHVuaWZ5T2JqZWN0U3R5bGUoX3R5cGUsIF9wYXlsb2FkKTtcclxuICAgIHZhciB0eXBlID0gcmVmLnR5cGU7XHJcbiAgICB2YXIgcGF5bG9hZCA9IHJlZi5wYXlsb2FkO1xyXG5cclxuICB2YXIgYWN0aW9uID0geyB0eXBlOiB0eXBlLCBwYXlsb2FkOiBwYXlsb2FkIH07XHJcbiAgdmFyIGVudHJ5ID0gdGhpcy5fYWN0aW9uc1t0eXBlXTtcclxuICBpZiAoIWVudHJ5KSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoKFwiW3Z1ZXhdIHVua25vd24gYWN0aW9uIHR5cGU6IFwiICsgdHlwZSkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgdGhpcy5fYWN0aW9uU3Vic2NyaWJlcnNcclxuICAgICAgLnNsaWNlKCkgLy8gc2hhbGxvdyBjb3B5IHRvIHByZXZlbnQgaXRlcmF0b3IgaW52YWxpZGF0aW9uIGlmIHN1YnNjcmliZXIgc3luY2hyb25vdXNseSBjYWxscyB1bnN1YnNjcmliZVxyXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1Yi5iZWZvcmU7IH0pXHJcbiAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1Yi5iZWZvcmUoYWN0aW9uLCB0aGlzJDEkMS5zdGF0ZSk7IH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgY29uc29sZS53YXJuKFwiW3Z1ZXhdIGVycm9yIGluIGJlZm9yZSBhY3Rpb24gc3Vic2NyaWJlcnM6IFwiKTtcclxuICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHZhciByZXN1bHQgPSBlbnRyeS5sZW5ndGggPiAxXHJcbiAgICA/IFByb21pc2UuYWxsKGVudHJ5Lm1hcChmdW5jdGlvbiAoaGFuZGxlcikgeyByZXR1cm4gaGFuZGxlcihwYXlsb2FkKTsgfSkpXHJcbiAgICA6IGVudHJ5WzBdKHBheWxvYWQpO1xyXG5cclxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgcmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHRoaXMkMSQxLl9hY3Rpb25TdWJzY3JpYmVyc1xyXG4gICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoc3ViKSB7IHJldHVybiBzdWIuYWZ0ZXI7IH0pXHJcbiAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoc3ViKSB7IHJldHVybiBzdWIuYWZ0ZXIoYWN0aW9uLCB0aGlzJDEkMS5zdGF0ZSk7IH0pO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwiW3Z1ZXhdIGVycm9yIGluIGFmdGVyIGFjdGlvbiBzdWJzY3JpYmVyczogXCIpO1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmVzb2x2ZShyZXMpO1xyXG4gICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdGhpcyQxJDEuX2FjdGlvblN1YnNjcmliZXJzXHJcbiAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1Yi5lcnJvcjsgfSlcclxuICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1Yi5lcnJvcihhY3Rpb24sIHRoaXMkMSQxLnN0YXRlLCBlcnJvcik7IH0pO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwiW3Z1ZXhdIGVycm9yIGluIGVycm9yIGFjdGlvbiBzdWJzY3JpYmVyczogXCIpO1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgIH0pO1xyXG4gIH0pXHJcbn07XHJcblxyXG5TdG9yZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlIChmbiwgb3B0aW9ucykge1xyXG4gIHJldHVybiBnZW5lcmljU3Vic2NyaWJlKGZuLCB0aGlzLl9zdWJzY3JpYmVycywgb3B0aW9ucylcclxufTtcclxuXHJcblN0b3JlLnByb3RvdHlwZS5zdWJzY3JpYmVBY3Rpb24gPSBmdW5jdGlvbiBzdWJzY3JpYmVBY3Rpb24gKGZuLCBvcHRpb25zKSB7XHJcbiAgdmFyIHN1YnMgPSB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgPyB7IGJlZm9yZTogZm4gfSA6IGZuO1xyXG4gIHJldHVybiBnZW5lcmljU3Vic2NyaWJlKHN1YnMsIHRoaXMuX2FjdGlvblN1YnNjcmliZXJzLCBvcHRpb25zKVxyXG59O1xyXG5cclxuU3RvcmUucHJvdG90eXBlLndhdGNoID0gZnVuY3Rpb24gd2F0Y2gkMSAoZ2V0dGVyLCBjYiwgb3B0aW9ucykge1xyXG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcclxuXHJcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgYXNzZXJ0KHR5cGVvZiBnZXR0ZXIgPT09ICdmdW5jdGlvbicsIFwic3RvcmUud2F0Y2ggb25seSBhY2NlcHRzIGEgZnVuY3Rpb24uXCIpO1xyXG4gIH1cclxuICByZXR1cm4gd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0dGVyKHRoaXMkMSQxLnN0YXRlLCB0aGlzJDEkMS5nZXR0ZXJzKTsgfSwgY2IsIE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpKVxyXG59O1xyXG5cclxuU3RvcmUucHJvdG90eXBlLnJlcGxhY2VTdGF0ZSA9IGZ1bmN0aW9uIHJlcGxhY2VTdGF0ZSAoc3RhdGUpIHtcclxuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XHJcblxyXG4gIHRoaXMuX3dpdGhDb21taXQoZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcyQxJDEuX3N0YXRlLmRhdGEgPSBzdGF0ZTtcclxuICB9KTtcclxufTtcclxuXHJcblN0b3JlLnByb3RvdHlwZS5yZWdpc3Rlck1vZHVsZSA9IGZ1bmN0aW9uIHJlZ2lzdGVyTW9kdWxlIChwYXRoLCByYXdNb2R1bGUsIG9wdGlvbnMpIHtcclxuICAgIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IHt9O1xyXG5cclxuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7IHBhdGggPSBbcGF0aF07IH1cclxuXHJcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgYXNzZXJ0KEFycmF5LmlzQXJyYXkocGF0aCksIFwibW9kdWxlIHBhdGggbXVzdCBiZSBhIHN0cmluZyBvciBhbiBBcnJheS5cIik7XHJcbiAgICBhc3NlcnQocGF0aC5sZW5ndGggPiAwLCAnY2Fubm90IHJlZ2lzdGVyIHRoZSByb290IG1vZHVsZSBieSB1c2luZyByZWdpc3Rlck1vZHVsZS4nKTtcclxuICB9XHJcblxyXG4gIHRoaXMuX21vZHVsZXMucmVnaXN0ZXIocGF0aCwgcmF3TW9kdWxlKTtcclxuICBpbnN0YWxsTW9kdWxlKHRoaXMsIHRoaXMuc3RhdGUsIHBhdGgsIHRoaXMuX21vZHVsZXMuZ2V0KHBhdGgpLCBvcHRpb25zLnByZXNlcnZlU3RhdGUpO1xyXG4gIC8vIHJlc2V0IHN0b3JlIHRvIHVwZGF0ZSBnZXR0ZXJzLi4uXHJcbiAgcmVzZXRTdG9yZVN0YXRlKHRoaXMsIHRoaXMuc3RhdGUpO1xyXG59O1xyXG5cclxuU3RvcmUucHJvdG90eXBlLnVucmVnaXN0ZXJNb2R1bGUgPSBmdW5jdGlvbiB1bnJlZ2lzdGVyTW9kdWxlIChwYXRoKSB7XHJcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xyXG5cclxuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7IHBhdGggPSBbcGF0aF07IH1cclxuXHJcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgYXNzZXJ0KEFycmF5LmlzQXJyYXkocGF0aCksIFwibW9kdWxlIHBhdGggbXVzdCBiZSBhIHN0cmluZyBvciBhbiBBcnJheS5cIik7XHJcbiAgfVxyXG5cclxuICB0aGlzLl9tb2R1bGVzLnVucmVnaXN0ZXIocGF0aCk7XHJcbiAgdGhpcy5fd2l0aENvbW1pdChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcGFyZW50U3RhdGUgPSBnZXROZXN0ZWRTdGF0ZSh0aGlzJDEkMS5zdGF0ZSwgcGF0aC5zbGljZSgwLCAtMSkpO1xyXG4gICAgZGVsZXRlIHBhcmVudFN0YXRlW3BhdGhbcGF0aC5sZW5ndGggLSAxXV07XHJcbiAgfSk7XHJcbiAgcmVzZXRTdG9yZSh0aGlzKTtcclxufTtcclxuXHJcblN0b3JlLnByb3RvdHlwZS5oYXNNb2R1bGUgPSBmdW5jdGlvbiBoYXNNb2R1bGUgKHBhdGgpIHtcclxuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7IHBhdGggPSBbcGF0aF07IH1cclxuXHJcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgYXNzZXJ0KEFycmF5LmlzQXJyYXkocGF0aCksIFwibW9kdWxlIHBhdGggbXVzdCBiZSBhIHN0cmluZyBvciBhbiBBcnJheS5cIik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGhpcy5fbW9kdWxlcy5pc1JlZ2lzdGVyZWQocGF0aClcclxufTtcclxuXHJcblN0b3JlLnByb3RvdHlwZS5ob3RVcGRhdGUgPSBmdW5jdGlvbiBob3RVcGRhdGUgKG5ld09wdGlvbnMpIHtcclxuICB0aGlzLl9tb2R1bGVzLnVwZGF0ZShuZXdPcHRpb25zKTtcclxuICByZXNldFN0b3JlKHRoaXMsIHRydWUpO1xyXG59O1xyXG5cclxuU3RvcmUucHJvdG90eXBlLl93aXRoQ29tbWl0ID0gZnVuY3Rpb24gX3dpdGhDb21taXQgKGZuKSB7XHJcbiAgdmFyIGNvbW1pdHRpbmcgPSB0aGlzLl9jb21taXR0aW5nO1xyXG4gIHRoaXMuX2NvbW1pdHRpbmcgPSB0cnVlO1xyXG4gIGZuKCk7XHJcbiAgdGhpcy5fY29tbWl0dGluZyA9IGNvbW1pdHRpbmc7XHJcbn07XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggU3RvcmUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcclxuXHJcbi8qKlxyXG4gKiBSZWR1Y2UgdGhlIGNvZGUgd2hpY2ggd3JpdHRlbiBpbiBWdWUuanMgZm9yIGdldHRpbmcgdGhlIHN0YXRlLlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gW25hbWVzcGFjZV0gLSBNb2R1bGUncyBuYW1lc3BhY2VcclxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IHN0YXRlcyAjIE9iamVjdCdzIGl0ZW0gY2FuIGJlIGEgZnVuY3Rpb24gd2hpY2ggYWNjZXB0IHN0YXRlIGFuZCBnZXR0ZXJzIGZvciBwYXJhbSwgeW91IGNhbiBkbyBzb21ldGhpbmcgZm9yIHN0YXRlIGFuZCBnZXR0ZXJzIGluIGl0LlxyXG4gKiBAcGFyYW0ge09iamVjdH1cclxuICovXHJcbnZhciBtYXBTdGF0ZSA9IG5vcm1hbGl6ZU5hbWVzcGFjZShmdW5jdGlvbiAobmFtZXNwYWNlLCBzdGF0ZXMpIHtcclxuICB2YXIgcmVzID0ge307XHJcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNWYWxpZE1hcChzdGF0ZXMpKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdbdnVleF0gbWFwU3RhdGU6IG1hcHBlciBwYXJhbWV0ZXIgbXVzdCBiZSBlaXRoZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0Jyk7XHJcbiAgfVxyXG4gIG5vcm1hbGl6ZU1hcChzdGF0ZXMpLmZvckVhY2goZnVuY3Rpb24gKHJlZikge1xyXG4gICAgdmFyIGtleSA9IHJlZi5rZXk7XHJcbiAgICB2YXIgdmFsID0gcmVmLnZhbDtcclxuXHJcbiAgICByZXNba2V5XSA9IGZ1bmN0aW9uIG1hcHBlZFN0YXRlICgpIHtcclxuICAgICAgdmFyIHN0YXRlID0gdGhpcy4kc3RvcmUuc3RhdGU7XHJcbiAgICAgIHZhciBnZXR0ZXJzID0gdGhpcy4kc3RvcmUuZ2V0dGVycztcclxuICAgICAgaWYgKG5hbWVzcGFjZSkge1xyXG4gICAgICAgIHZhciBtb2R1bGUgPSBnZXRNb2R1bGVCeU5hbWVzcGFjZSh0aGlzLiRzdG9yZSwgJ21hcFN0YXRlJywgbmFtZXNwYWNlKTtcclxuICAgICAgICBpZiAoIW1vZHVsZSkge1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0YXRlID0gbW9kdWxlLmNvbnRleHQuc3RhdGU7XHJcbiAgICAgICAgZ2V0dGVycyA9IG1vZHVsZS5jb250ZXh0LmdldHRlcnM7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbidcclxuICAgICAgICA/IHZhbC5jYWxsKHRoaXMsIHN0YXRlLCBnZXR0ZXJzKVxyXG4gICAgICAgIDogc3RhdGVbdmFsXVxyXG4gICAgfTtcclxuICAgIC8vIG1hcmsgdnVleCBnZXR0ZXIgZm9yIGRldnRvb2xzXHJcbiAgICByZXNba2V5XS52dWV4ID0gdHJ1ZTtcclxuICB9KTtcclxuICByZXR1cm4gcmVzXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIFJlZHVjZSB0aGUgY29kZSB3aGljaCB3cml0dGVuIGluIFZ1ZS5qcyBmb3IgY29tbWl0dGluZyB0aGUgbXV0YXRpb25cclxuICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lc3BhY2VdIC0gTW9kdWxlJ3MgbmFtZXNwYWNlXHJcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBtdXRhdGlvbnMgIyBPYmplY3QncyBpdGVtIGNhbiBiZSBhIGZ1bmN0aW9uIHdoaWNoIGFjY2VwdCBgY29tbWl0YCBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgcGFyYW0sIGl0IGNhbiBhY2NlcHQgYW5vdGhlciBwYXJhbXMuIFlvdSBjYW4gY29tbWl0IG11dGF0aW9uIGFuZCBkbyBhbnkgb3RoZXIgdGhpbmdzIGluIHRoaXMgZnVuY3Rpb24uIHNwZWNpYWxseSwgWW91IG5lZWQgdG8gcGFzcyBhbnRob3IgcGFyYW1zIGZyb20gdGhlIG1hcHBlZCBmdW5jdGlvbi5cclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKi9cclxudmFyIG1hcE11dGF0aW9ucyA9IG5vcm1hbGl6ZU5hbWVzcGFjZShmdW5jdGlvbiAobmFtZXNwYWNlLCBtdXRhdGlvbnMpIHtcclxuICB2YXIgcmVzID0ge307XHJcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNWYWxpZE1hcChtdXRhdGlvbnMpKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdbdnVleF0gbWFwTXV0YXRpb25zOiBtYXBwZXIgcGFyYW1ldGVyIG11c3QgYmUgZWl0aGVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCcpO1xyXG4gIH1cclxuICBub3JtYWxpemVNYXAobXV0YXRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChyZWYpIHtcclxuICAgIHZhciBrZXkgPSByZWYua2V5O1xyXG4gICAgdmFyIHZhbCA9IHJlZi52YWw7XHJcblxyXG4gICAgcmVzW2tleV0gPSBmdW5jdGlvbiBtYXBwZWRNdXRhdGlvbiAoKSB7XHJcbiAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcbiAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XHJcblxyXG4gICAgICAvLyBHZXQgdGhlIGNvbW1pdCBtZXRob2QgZnJvbSBzdG9yZVxyXG4gICAgICB2YXIgY29tbWl0ID0gdGhpcy4kc3RvcmUuY29tbWl0O1xyXG4gICAgICBpZiAobmFtZXNwYWNlKSB7XHJcbiAgICAgICAgdmFyIG1vZHVsZSA9IGdldE1vZHVsZUJ5TmFtZXNwYWNlKHRoaXMuJHN0b3JlLCAnbWFwTXV0YXRpb25zJywgbmFtZXNwYWNlKTtcclxuICAgICAgICBpZiAoIW1vZHVsZSkge1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbW1pdCA9IG1vZHVsZS5jb250ZXh0LmNvbW1pdDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgID8gdmFsLmFwcGx5KHRoaXMsIFtjb21taXRdLmNvbmNhdChhcmdzKSlcclxuICAgICAgICA6IGNvbW1pdC5hcHBseSh0aGlzLiRzdG9yZSwgW3ZhbF0uY29uY2F0KGFyZ3MpKVxyXG4gICAgfTtcclxuICB9KTtcclxuICByZXR1cm4gcmVzXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIFJlZHVjZSB0aGUgY29kZSB3aGljaCB3cml0dGVuIGluIFZ1ZS5qcyBmb3IgZ2V0dGluZyB0aGUgZ2V0dGVyc1xyXG4gKiBAcGFyYW0ge1N0cmluZ30gW25hbWVzcGFjZV0gLSBNb2R1bGUncyBuYW1lc3BhY2VcclxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IGdldHRlcnNcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKi9cclxudmFyIG1hcEdldHRlcnMgPSBub3JtYWxpemVOYW1lc3BhY2UoZnVuY3Rpb24gKG5hbWVzcGFjZSwgZ2V0dGVycykge1xyXG4gIHZhciByZXMgPSB7fTtcclxuICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc1ZhbGlkTWFwKGdldHRlcnMpKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdbdnVleF0gbWFwR2V0dGVyczogbWFwcGVyIHBhcmFtZXRlciBtdXN0IGJlIGVpdGhlciBhbiBBcnJheSBvciBhbiBPYmplY3QnKTtcclxuICB9XHJcbiAgbm9ybWFsaXplTWFwKGdldHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKHJlZikge1xyXG4gICAgdmFyIGtleSA9IHJlZi5rZXk7XHJcbiAgICB2YXIgdmFsID0gcmVmLnZhbDtcclxuXHJcbiAgICAvLyBUaGUgbmFtZXNwYWNlIGhhcyBiZWVuIG11dGF0ZWQgYnkgbm9ybWFsaXplTmFtZXNwYWNlXHJcbiAgICB2YWwgPSBuYW1lc3BhY2UgKyB2YWw7XHJcbiAgICByZXNba2V5XSA9IGZ1bmN0aW9uIG1hcHBlZEdldHRlciAoKSB7XHJcbiAgICAgIGlmIChuYW1lc3BhY2UgJiYgIWdldE1vZHVsZUJ5TmFtZXNwYWNlKHRoaXMuJHN0b3JlLCAnbWFwR2V0dGVycycsIG5hbWVzcGFjZSkpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICEodmFsIGluIHRoaXMuJHN0b3JlLmdldHRlcnMpKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcigoXCJbdnVleF0gdW5rbm93biBnZXR0ZXI6IFwiICsgdmFsKSk7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbdmFsXVxyXG4gICAgfTtcclxuICAgIC8vIG1hcmsgdnVleCBnZXR0ZXIgZm9yIGRldnRvb2xzXHJcbiAgICByZXNba2V5XS52dWV4ID0gdHJ1ZTtcclxuICB9KTtcclxuICByZXR1cm4gcmVzXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIFJlZHVjZSB0aGUgY29kZSB3aGljaCB3cml0dGVuIGluIFZ1ZS5qcyBmb3IgZGlzcGF0Y2ggdGhlIGFjdGlvblxyXG4gKiBAcGFyYW0ge1N0cmluZ30gW25hbWVzcGFjZV0gLSBNb2R1bGUncyBuYW1lc3BhY2VcclxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IGFjdGlvbnMgIyBPYmplY3QncyBpdGVtIGNhbiBiZSBhIGZ1bmN0aW9uIHdoaWNoIGFjY2VwdCBgZGlzcGF0Y2hgIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBwYXJhbSwgaXQgY2FuIGFjY2VwdCBhbnRob3IgcGFyYW1zLiBZb3UgY2FuIGRpc3BhdGNoIGFjdGlvbiBhbmQgZG8gYW55IG90aGVyIHRoaW5ncyBpbiB0aGlzIGZ1bmN0aW9uLiBzcGVjaWFsbHksIFlvdSBuZWVkIHRvIHBhc3MgYW50aG9yIHBhcmFtcyBmcm9tIHRoZSBtYXBwZWQgZnVuY3Rpb24uXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbnZhciBtYXBBY3Rpb25zID0gbm9ybWFsaXplTmFtZXNwYWNlKGZ1bmN0aW9uIChuYW1lc3BhY2UsIGFjdGlvbnMpIHtcclxuICB2YXIgcmVzID0ge307XHJcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNWYWxpZE1hcChhY3Rpb25zKSkge1xyXG4gICAgY29uc29sZS5lcnJvcignW3Z1ZXhdIG1hcEFjdGlvbnM6IG1hcHBlciBwYXJhbWV0ZXIgbXVzdCBiZSBlaXRoZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0Jyk7XHJcbiAgfVxyXG4gIG5vcm1hbGl6ZU1hcChhY3Rpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChyZWYpIHtcclxuICAgIHZhciBrZXkgPSByZWYua2V5O1xyXG4gICAgdmFyIHZhbCA9IHJlZi52YWw7XHJcblxyXG4gICAgcmVzW2tleV0gPSBmdW5jdGlvbiBtYXBwZWRBY3Rpb24gKCkge1xyXG4gICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xyXG4gICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xyXG5cclxuICAgICAgLy8gZ2V0IGRpc3BhdGNoIGZ1bmN0aW9uIGZyb20gc3RvcmVcclxuICAgICAgdmFyIGRpc3BhdGNoID0gdGhpcy4kc3RvcmUuZGlzcGF0Y2g7XHJcbiAgICAgIGlmIChuYW1lc3BhY2UpIHtcclxuICAgICAgICB2YXIgbW9kdWxlID0gZ2V0TW9kdWxlQnlOYW1lc3BhY2UodGhpcy4kc3RvcmUsICdtYXBBY3Rpb25zJywgbmFtZXNwYWNlKTtcclxuICAgICAgICBpZiAoIW1vZHVsZSkge1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRpc3BhdGNoID0gbW9kdWxlLmNvbnRleHQuZGlzcGF0Y2g7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbidcclxuICAgICAgICA/IHZhbC5hcHBseSh0aGlzLCBbZGlzcGF0Y2hdLmNvbmNhdChhcmdzKSlcclxuICAgICAgICA6IGRpc3BhdGNoLmFwcGx5KHRoaXMuJHN0b3JlLCBbdmFsXS5jb25jYXQoYXJncykpXHJcbiAgICB9O1xyXG4gIH0pO1xyXG4gIHJldHVybiByZXNcclxufSk7XHJcblxyXG4vKipcclxuICogUmViaW5kaW5nIG5hbWVzcGFjZSBwYXJhbSBmb3IgbWFwWFhYIGZ1bmN0aW9uIGluIHNwZWNpYWwgc2NvcGVkLCBhbmQgcmV0dXJuIHRoZW0gYnkgc2ltcGxlIG9iamVjdFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbnZhciBjcmVhdGVOYW1lc3BhY2VkSGVscGVycyA9IGZ1bmN0aW9uIChuYW1lc3BhY2UpIHsgcmV0dXJuICh7XHJcbiAgbWFwU3RhdGU6IG1hcFN0YXRlLmJpbmQobnVsbCwgbmFtZXNwYWNlKSxcclxuICBtYXBHZXR0ZXJzOiBtYXBHZXR0ZXJzLmJpbmQobnVsbCwgbmFtZXNwYWNlKSxcclxuICBtYXBNdXRhdGlvbnM6IG1hcE11dGF0aW9ucy5iaW5kKG51bGwsIG5hbWVzcGFjZSksXHJcbiAgbWFwQWN0aW9uczogbWFwQWN0aW9ucy5iaW5kKG51bGwsIG5hbWVzcGFjZSlcclxufSk7IH07XHJcblxyXG4vKipcclxuICogTm9ybWFsaXplIHRoZSBtYXBcclxuICogbm9ybWFsaXplTWFwKFsxLCAyLCAzXSkgPT4gWyB7IGtleTogMSwgdmFsOiAxIH0sIHsga2V5OiAyLCB2YWw6IDIgfSwgeyBrZXk6IDMsIHZhbDogMyB9IF1cclxuICogbm9ybWFsaXplTWFwKHthOiAxLCBiOiAyLCBjOiAzfSkgPT4gWyB7IGtleTogJ2EnLCB2YWw6IDEgfSwgeyBrZXk6ICdiJywgdmFsOiAyIH0sIHsga2V5OiAnYycsIHZhbDogMyB9IF1cclxuICogQHBhcmFtIHtBcnJheXxPYmplY3R9IG1hcFxyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqL1xyXG5mdW5jdGlvbiBub3JtYWxpemVNYXAgKG1hcCkge1xyXG4gIGlmICghaXNWYWxpZE1hcChtYXApKSB7XHJcbiAgICByZXR1cm4gW11cclxuICB9XHJcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkobWFwKVxyXG4gICAgPyBtYXAubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuICh7IGtleToga2V5LCB2YWw6IGtleSB9KTsgfSlcclxuICAgIDogT2JqZWN0LmtleXMobWFwKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gKHsga2V5OiBrZXksIHZhbDogbWFwW2tleV0gfSk7IH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBWYWxpZGF0ZSB3aGV0aGVyIGdpdmVuIG1hcCBpcyB2YWxpZCBvciBub3RcclxuICogQHBhcmFtIHsqfSBtYXBcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICovXHJcbmZ1bmN0aW9uIGlzVmFsaWRNYXAgKG1hcCkge1xyXG4gIHJldHVybiBBcnJheS5pc0FycmF5KG1hcCkgfHwgaXNPYmplY3QobWFwKVxyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJuIGEgZnVuY3Rpb24gZXhwZWN0IHR3byBwYXJhbSBjb250YWlucyBuYW1lc3BhY2UgYW5kIG1hcC4gaXQgd2lsbCBub3JtYWxpemUgdGhlIG5hbWVzcGFjZSBhbmQgdGhlbiB0aGUgcGFyYW0ncyBmdW5jdGlvbiB3aWxsIGhhbmRsZSB0aGUgbmV3IG5hbWVzcGFjZSBhbmQgdGhlIG1hcC5cclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RnVuY3Rpb259XHJcbiAqL1xyXG5mdW5jdGlvbiBub3JtYWxpemVOYW1lc3BhY2UgKGZuKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uIChuYW1lc3BhY2UsIG1hcCkge1xyXG4gICAgaWYgKHR5cGVvZiBuYW1lc3BhY2UgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIG1hcCA9IG5hbWVzcGFjZTtcclxuICAgICAgbmFtZXNwYWNlID0gJyc7XHJcbiAgICB9IGVsc2UgaWYgKG5hbWVzcGFjZS5jaGFyQXQobmFtZXNwYWNlLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcclxuICAgICAgbmFtZXNwYWNlICs9ICcvJztcclxuICAgIH1cclxuICAgIHJldHVybiBmbihuYW1lc3BhY2UsIG1hcClcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZWFyY2ggYSBzcGVjaWFsIG1vZHVsZSBmcm9tIHN0b3JlIGJ5IG5hbWVzcGFjZS4gaWYgbW9kdWxlIG5vdCBleGlzdCwgcHJpbnQgZXJyb3IgbWVzc2FnZS5cclxuICogQHBhcmFtIHtPYmplY3R9IHN0b3JlXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBoZWxwZXJcclxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRNb2R1bGVCeU5hbWVzcGFjZSAoc3RvcmUsIGhlbHBlciwgbmFtZXNwYWNlKSB7XHJcbiAgdmFyIG1vZHVsZSA9IHN0b3JlLl9tb2R1bGVzTmFtZXNwYWNlTWFwW25hbWVzcGFjZV07XHJcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhbW9kdWxlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSBtb2R1bGUgbmFtZXNwYWNlIG5vdCBmb3VuZCBpbiBcIiArIGhlbHBlciArIFwiKCk6IFwiICsgbmFtZXNwYWNlKSk7XHJcbiAgfVxyXG4gIHJldHVybiBtb2R1bGVcclxufVxyXG5cclxuLy8gQ3JlZGl0czogYm9ycm93ZWQgY29kZSBmcm9tIGZjb21iL3JlZHV4LWxvZ2dlclxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTG9nZ2VyIChyZWYpIHtcclxuICBpZiAoIHJlZiA9PT0gdm9pZCAwICkgcmVmID0ge307XHJcbiAgdmFyIGNvbGxhcHNlZCA9IHJlZi5jb2xsYXBzZWQ7IGlmICggY29sbGFwc2VkID09PSB2b2lkIDAgKSBjb2xsYXBzZWQgPSB0cnVlO1xyXG4gIHZhciBmaWx0ZXIgPSByZWYuZmlsdGVyOyBpZiAoIGZpbHRlciA9PT0gdm9pZCAwICkgZmlsdGVyID0gZnVuY3Rpb24gKG11dGF0aW9uLCBzdGF0ZUJlZm9yZSwgc3RhdGVBZnRlcikgeyByZXR1cm4gdHJ1ZTsgfTtcclxuICB2YXIgdHJhbnNmb3JtZXIgPSByZWYudHJhbnNmb3JtZXI7IGlmICggdHJhbnNmb3JtZXIgPT09IHZvaWQgMCApIHRyYW5zZm9ybWVyID0gZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiBzdGF0ZTsgfTtcclxuICB2YXIgbXV0YXRpb25UcmFuc2Zvcm1lciA9IHJlZi5tdXRhdGlvblRyYW5zZm9ybWVyOyBpZiAoIG11dGF0aW9uVHJhbnNmb3JtZXIgPT09IHZvaWQgMCApIG11dGF0aW9uVHJhbnNmb3JtZXIgPSBmdW5jdGlvbiAobXV0KSB7IHJldHVybiBtdXQ7IH07XHJcbiAgdmFyIGFjdGlvbkZpbHRlciA9IHJlZi5hY3Rpb25GaWx0ZXI7IGlmICggYWN0aW9uRmlsdGVyID09PSB2b2lkIDAgKSBhY3Rpb25GaWx0ZXIgPSBmdW5jdGlvbiAoYWN0aW9uLCBzdGF0ZSkgeyByZXR1cm4gdHJ1ZTsgfTtcclxuICB2YXIgYWN0aW9uVHJhbnNmb3JtZXIgPSByZWYuYWN0aW9uVHJhbnNmb3JtZXI7IGlmICggYWN0aW9uVHJhbnNmb3JtZXIgPT09IHZvaWQgMCApIGFjdGlvblRyYW5zZm9ybWVyID0gZnVuY3Rpb24gKGFjdCkgeyByZXR1cm4gYWN0OyB9O1xyXG4gIHZhciBsb2dNdXRhdGlvbnMgPSByZWYubG9nTXV0YXRpb25zOyBpZiAoIGxvZ011dGF0aW9ucyA9PT0gdm9pZCAwICkgbG9nTXV0YXRpb25zID0gdHJ1ZTtcclxuICB2YXIgbG9nQWN0aW9ucyA9IHJlZi5sb2dBY3Rpb25zOyBpZiAoIGxvZ0FjdGlvbnMgPT09IHZvaWQgMCApIGxvZ0FjdGlvbnMgPSB0cnVlO1xyXG4gIHZhciBsb2dnZXIgPSByZWYubG9nZ2VyOyBpZiAoIGxvZ2dlciA9PT0gdm9pZCAwICkgbG9nZ2VyID0gY29uc29sZTtcclxuXHJcbiAgcmV0dXJuIGZ1bmN0aW9uIChzdG9yZSkge1xyXG4gICAgdmFyIHByZXZTdGF0ZSA9IGRlZXBDb3B5KHN0b3JlLnN0YXRlKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIGxvZ2dlciA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGxvZ011dGF0aW9ucykge1xyXG4gICAgICBzdG9yZS5zdWJzY3JpYmUoZnVuY3Rpb24gKG11dGF0aW9uLCBzdGF0ZSkge1xyXG4gICAgICAgIHZhciBuZXh0U3RhdGUgPSBkZWVwQ29weShzdGF0ZSk7XHJcblxyXG4gICAgICAgIGlmIChmaWx0ZXIobXV0YXRpb24sIHByZXZTdGF0ZSwgbmV4dFN0YXRlKSkge1xyXG4gICAgICAgICAgdmFyIGZvcm1hdHRlZFRpbWUgPSBnZXRGb3JtYXR0ZWRUaW1lKCk7XHJcbiAgICAgICAgICB2YXIgZm9ybWF0dGVkTXV0YXRpb24gPSBtdXRhdGlvblRyYW5zZm9ybWVyKG11dGF0aW9uKTtcclxuICAgICAgICAgIHZhciBtZXNzYWdlID0gXCJtdXRhdGlvbiBcIiArIChtdXRhdGlvbi50eXBlKSArIGZvcm1hdHRlZFRpbWU7XHJcblxyXG4gICAgICAgICAgc3RhcnRNZXNzYWdlKGxvZ2dlciwgbWVzc2FnZSwgY29sbGFwc2VkKTtcclxuICAgICAgICAgIGxvZ2dlci5sb2coJyVjIHByZXYgc3RhdGUnLCAnY29sb3I6ICM5RTlFOUU7IGZvbnQtd2VpZ2h0OiBib2xkJywgdHJhbnNmb3JtZXIocHJldlN0YXRlKSk7XHJcbiAgICAgICAgICBsb2dnZXIubG9nKCclYyBtdXRhdGlvbicsICdjb2xvcjogIzAzQTlGNDsgZm9udC13ZWlnaHQ6IGJvbGQnLCBmb3JtYXR0ZWRNdXRhdGlvbik7XHJcbiAgICAgICAgICBsb2dnZXIubG9nKCclYyBuZXh0IHN0YXRlJywgJ2NvbG9yOiAjNENBRjUwOyBmb250LXdlaWdodDogYm9sZCcsIHRyYW5zZm9ybWVyKG5leHRTdGF0ZSkpO1xyXG4gICAgICAgICAgZW5kTWVzc2FnZShsb2dnZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJldlN0YXRlID0gbmV4dFN0YXRlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobG9nQWN0aW9ucykge1xyXG4gICAgICBzdG9yZS5zdWJzY3JpYmVBY3Rpb24oZnVuY3Rpb24gKGFjdGlvbiwgc3RhdGUpIHtcclxuICAgICAgICBpZiAoYWN0aW9uRmlsdGVyKGFjdGlvbiwgc3RhdGUpKSB7XHJcbiAgICAgICAgICB2YXIgZm9ybWF0dGVkVGltZSA9IGdldEZvcm1hdHRlZFRpbWUoKTtcclxuICAgICAgICAgIHZhciBmb3JtYXR0ZWRBY3Rpb24gPSBhY3Rpb25UcmFuc2Zvcm1lcihhY3Rpb24pO1xyXG4gICAgICAgICAgdmFyIG1lc3NhZ2UgPSBcImFjdGlvbiBcIiArIChhY3Rpb24udHlwZSkgKyBmb3JtYXR0ZWRUaW1lO1xyXG5cclxuICAgICAgICAgIHN0YXJ0TWVzc2FnZShsb2dnZXIsIG1lc3NhZ2UsIGNvbGxhcHNlZCk7XHJcbiAgICAgICAgICBsb2dnZXIubG9nKCclYyBhY3Rpb24nLCAnY29sb3I6ICMwM0E5RjQ7IGZvbnQtd2VpZ2h0OiBib2xkJywgZm9ybWF0dGVkQWN0aW9uKTtcclxuICAgICAgICAgIGVuZE1lc3NhZ2UobG9nZ2VyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3RhcnRNZXNzYWdlIChsb2dnZXIsIG1lc3NhZ2UsIGNvbGxhcHNlZCkge1xyXG4gIHZhciBzdGFydE1lc3NhZ2UgPSBjb2xsYXBzZWRcclxuICAgID8gbG9nZ2VyLmdyb3VwQ29sbGFwc2VkXHJcbiAgICA6IGxvZ2dlci5ncm91cDtcclxuXHJcbiAgLy8gcmVuZGVyXHJcbiAgdHJ5IHtcclxuICAgIHN0YXJ0TWVzc2FnZS5jYWxsKGxvZ2dlciwgbWVzc2FnZSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgbG9nZ2VyLmxvZyhtZXNzYWdlKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVuZE1lc3NhZ2UgKGxvZ2dlcikge1xyXG4gIHRyeSB7XHJcbiAgICBsb2dnZXIuZ3JvdXBFbmQoKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBsb2dnZXIubG9nKCfigJTigJQgbG9nIGVuZCDigJTigJQnKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEZvcm1hdHRlZFRpbWUgKCkge1xyXG4gIHZhciB0aW1lID0gbmV3IERhdGUoKTtcclxuICByZXR1cm4gKFwiIEAgXCIgKyAocGFkKHRpbWUuZ2V0SG91cnMoKSwgMikpICsgXCI6XCIgKyAocGFkKHRpbWUuZ2V0TWludXRlcygpLCAyKSkgKyBcIjpcIiArIChwYWQodGltZS5nZXRTZWNvbmRzKCksIDIpKSArIFwiLlwiICsgKHBhZCh0aW1lLmdldE1pbGxpc2Vjb25kcygpLCAzKSkpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlcGVhdCAoc3RyLCB0aW1lcykge1xyXG4gIHJldHVybiAobmV3IEFycmF5KHRpbWVzICsgMSkpLmpvaW4oc3RyKVxyXG59XHJcblxyXG5mdW5jdGlvbiBwYWQgKG51bSwgbWF4TGVuZ3RoKSB7XHJcbiAgcmV0dXJuIHJlcGVhdCgnMCcsIG1heExlbmd0aCAtIG51bS50b1N0cmluZygpLmxlbmd0aCkgKyBudW1cclxufVxyXG5cclxudmFyIGluZGV4ID0ge1xyXG4gIHZlcnNpb246ICc0LjEuMCcsXHJcbiAgU3RvcmU6IFN0b3JlLFxyXG4gIHN0b3JlS2V5OiBzdG9yZUtleSxcclxuICBjcmVhdGVTdG9yZTogY3JlYXRlU3RvcmUsXHJcbiAgdXNlU3RvcmU6IHVzZVN0b3JlLFxyXG4gIG1hcFN0YXRlOiBtYXBTdGF0ZSxcclxuICBtYXBNdXRhdGlvbnM6IG1hcE11dGF0aW9ucyxcclxuICBtYXBHZXR0ZXJzOiBtYXBHZXR0ZXJzLFxyXG4gIG1hcEFjdGlvbnM6IG1hcEFjdGlvbnMsXHJcbiAgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnM6IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzLFxyXG4gIGNyZWF0ZUxvZ2dlcjogY3JlYXRlTG9nZ2VyXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBpbmRleDtcclxuZXhwb3J0IHsgU3RvcmUsIGNyZWF0ZUxvZ2dlciwgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMsIGNyZWF0ZVN0b3JlLCBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzLCBtYXBNdXRhdGlvbnMsIG1hcFN0YXRlLCBzdG9yZUtleSwgdXNlU3RvcmUgfTtcclxuIiwiLyohXHJcbiAgKiBAaW50bGlmeS9zaGFyZWQgdjkuMS45XHJcbiAgKiAoYykgMjAyMSBrYXp1eWEga2F3YWd1Y2hpXHJcbiAgKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAgKi9cclxuLyoqXHJcbiAqIE9yaWdpbmFsIFV0aWxpdGllc1xyXG4gKiB3cml0dGVuIGJ5IGthenV5YSBrYXdhZ3VjaGlcclxuICovXHJcbmNvbnN0IGluQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xyXG5sZXQgbWFyaztcclxubGV0IG1lYXN1cmU7XHJcbmlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgIGNvbnN0IHBlcmYgPSBpbkJyb3dzZXIgJiYgd2luZG93LnBlcmZvcm1hbmNlO1xyXG4gICAgaWYgKHBlcmYgJiZcclxuICAgICAgICBwZXJmLm1hcmsgJiZcclxuICAgICAgICBwZXJmLm1lYXN1cmUgJiZcclxuICAgICAgICBwZXJmLmNsZWFyTWFya3MgJiZcclxuICAgICAgICBwZXJmLmNsZWFyTWVhc3VyZXMpIHtcclxuICAgICAgICBtYXJrID0gKHRhZykgPT4gcGVyZi5tYXJrKHRhZyk7XHJcbiAgICAgICAgbWVhc3VyZSA9IChuYW1lLCBzdGFydFRhZywgZW5kVGFnKSA9PiB7XHJcbiAgICAgICAgICAgIHBlcmYubWVhc3VyZShuYW1lLCBzdGFydFRhZywgZW5kVGFnKTtcclxuICAgICAgICAgICAgcGVyZi5jbGVhck1hcmtzKHN0YXJ0VGFnKTtcclxuICAgICAgICAgICAgcGVyZi5jbGVhck1hcmtzKGVuZFRhZyk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5jb25zdCBSRV9BUkdTID0gL1xceyhbMC05YS16QS1aXSspXFx9L2c7XHJcbi8qIGVzbGludC1kaXNhYmxlICovXHJcbmZ1bmN0aW9uIGZvcm1hdChtZXNzYWdlLCAuLi5hcmdzKSB7XHJcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgaXNPYmplY3QoYXJnc1swXSkpIHtcclxuICAgICAgICBhcmdzID0gYXJnc1swXTtcclxuICAgIH1cclxuICAgIGlmICghYXJncyB8fCAhYXJncy5oYXNPd25Qcm9wZXJ0eSkge1xyXG4gICAgICAgIGFyZ3MgPSB7fTtcclxuICAgIH1cclxuICAgIHJldHVybiBtZXNzYWdlLnJlcGxhY2UoUkVfQVJHUywgKG1hdGNoLCBpZGVudGlmaWVyKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGFyZ3MuaGFzT3duUHJvcGVydHkoaWRlbnRpZmllcikgPyBhcmdzW2lkZW50aWZpZXJdIDogJyc7XHJcbiAgICB9KTtcclxufVxyXG5jb25zdCBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWcgPT09ICdzeW1ib2wnO1xyXG5jb25zdCBtYWtlU3ltYm9sID0gKG5hbWUpID0+IGhhc1N5bWJvbCA/IFN5bWJvbChuYW1lKSA6IG5hbWU7XHJcbmNvbnN0IGdlbmVyYXRlRm9ybWF0Q2FjaGVLZXkgPSAobG9jYWxlLCBrZXksIHNvdXJjZSkgPT4gZnJpZW5kbHlKU09Oc3RyaW5naWZ5KHsgbDogbG9jYWxlLCBrOiBrZXksIHM6IHNvdXJjZSB9KTtcclxuY29uc3QgZnJpZW5kbHlKU09Oc3RyaW5naWZ5ID0gKGpzb24pID0+IEpTT04uc3RyaW5naWZ5KGpzb24pXHJcbiAgICAucmVwbGFjZSgvXFx1MjAyOC9nLCAnXFxcXHUyMDI4JylcclxuICAgIC5yZXBsYWNlKC9cXHUyMDI5L2csICdcXFxcdTIwMjknKVxyXG4gICAgLnJlcGxhY2UoL1xcdTAwMjcvZywgJ1xcXFx1MDAyNycpO1xyXG5jb25zdCBpc051bWJlciA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCk7XHJcbmNvbnN0IGlzRGF0ZSA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XHJcbmNvbnN0IGlzUmVnRXhwID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xyXG5jb25zdCBpc0VtcHR5T2JqZWN0ID0gKHZhbCkgPT4gaXNQbGFpbk9iamVjdCh2YWwpICYmIE9iamVjdC5rZXlzKHZhbCkubGVuZ3RoID09PSAwO1xyXG5mdW5jdGlvbiB3YXJuKG1zZywgZXJyKSB7XHJcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGBbaW50bGlmeV0gYCArIG1zZyk7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyLnN0YWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3QgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcclxubGV0IF9nbG9iYWxUaGlzO1xyXG5jb25zdCBnZXRHbG9iYWxUaGlzID0gKCkgPT4ge1xyXG4gICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICByZXR1cm4gKF9nbG9iYWxUaGlzIHx8XHJcbiAgICAgICAgKF9nbG9iYWxUaGlzID1cclxuICAgICAgICAgICAgdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICA/IGdsb2JhbFRoaXNcclxuICAgICAgICAgICAgICAgIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgPyBzZWxmXHJcbiAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHdpbmRvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGdsb2JhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7fSkpO1xyXG59O1xyXG5mdW5jdGlvbiBlc2NhcGVIdG1sKHJhd1RleHQpIHtcclxuICAgIHJldHVybiByYXdUZXh0XHJcbiAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxyXG4gICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcclxuICAgICAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXHJcbiAgICAgICAgLnJlcGxhY2UoLycvZywgJyZhcG9zOycpO1xyXG59XHJcbmNvbnN0IGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcclxuZnVuY3Rpb24gaGFzT3duKG9iaiwga2V5KSB7XHJcbiAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XHJcbn1cclxuLyogZXNsaW50LWVuYWJsZSAqL1xyXG4vKipcclxuICogVXNlZnVsIFV0aWxpdGllcyBCeSBFdmFuIHlvdVxyXG4gKiBNb2RpZmllZCBieSBrYXp1eWEga2F3YWd1Y2hpXHJcbiAqIE1JVCBMaWNlbnNlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUtbmV4dC9ibG9iL21hc3Rlci9wYWNrYWdlcy9zaGFyZWQvc3JjL2luZGV4LnRzXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUtbmV4dC9ibG9iL21hc3Rlci9wYWNrYWdlcy9zaGFyZWQvc3JjL2NvZGVmcmFtZS50c1xyXG4gKi9cclxuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XHJcbmNvbnN0IGlzRnVuY3Rpb24gPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nO1xyXG5jb25zdCBpc1N0cmluZyA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xyXG5jb25zdCBpc0Jvb2xlYW4gPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnYm9vbGVhbic7XHJcbmNvbnN0IGlzU3ltYm9sID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N5bWJvbCc7XHJcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xyXG5jb25zdCBpc1Byb21pc2UgPSAodmFsKSA9PiB7XHJcbiAgICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC50aGVuKSAmJiBpc0Z1bmN0aW9uKHZhbC5jYXRjaCk7XHJcbn07XHJcbmNvbnN0IG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcclxuY29uc3QgdG9UeXBlU3RyaW5nID0gKHZhbHVlKSA9PiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcclxuY29uc3QgaXNQbGFpbk9iamVjdCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSAnW29iamVjdCBPYmplY3RdJztcclxuLy8gZm9yIGNvbnZlcnRpbmcgbGlzdCBhbmQgbmFtZWQgdmFsdWVzIHRvIGRpc3BsYXllZCBzdHJpbmdzLlxyXG5jb25zdCB0b0Rpc3BsYXlTdHJpbmcgPSAodmFsKSA9PiB7XHJcbiAgICByZXR1cm4gdmFsID09IG51bGxcclxuICAgICAgICA/ICcnXHJcbiAgICAgICAgOiBpc0FycmF5KHZhbCkgfHwgKGlzUGxhaW5PYmplY3QodmFsKSAmJiB2YWwudG9TdHJpbmcgPT09IG9iamVjdFRvU3RyaW5nKVxyXG4gICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHZhbCwgbnVsbCwgMilcclxuICAgICAgICAgICAgOiBTdHJpbmcodmFsKTtcclxufTtcclxuY29uc3QgUkFOR0UgPSAyO1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUNvZGVGcmFtZShzb3VyY2UsIHN0YXJ0ID0gMCwgZW5kID0gc291cmNlLmxlbmd0aCkge1xyXG4gICAgY29uc3QgbGluZXMgPSBzb3VyY2Uuc3BsaXQoL1xccj9cXG4vKTtcclxuICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICBjb25zdCByZXMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb3VudCArPSBsaW5lc1tpXS5sZW5ndGggKyAxO1xyXG4gICAgICAgIGlmIChjb3VudCA+PSBzdGFydCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIFJBTkdFOyBqIDw9IGkgKyBSQU5HRSB8fCBlbmQgPiBjb3VudDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaiA8IDAgfHwgaiA+PSBsaW5lcy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gaiArIDE7XHJcbiAgICAgICAgICAgICAgICByZXMucHVzaChgJHtsaW5lfSR7JyAnLnJlcGVhdCgzIC0gU3RyaW5nKGxpbmUpLmxlbmd0aCl9fCAgJHtsaW5lc1tqXX1gKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVMZW5ndGggPSBsaW5lc1tqXS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHB1c2ggdW5kZXJsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFkID0gc3RhcnQgLSAoY291bnQgLSBsaW5lTGVuZ3RoKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoMSwgZW5kID4gY291bnQgPyBsaW5lTGVuZ3RoIC0gcGFkIDogZW5kIC0gc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKGAgICB8ICBgICsgJyAnLnJlcGVhdChwYWQpICsgJ14nLnJlcGVhdChsZW5ndGgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGogPiBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZCA+IGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KE1hdGgubWluKGVuZCAtIGNvdW50LCBsaW5lTGVuZ3RoKSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKGAgICB8ICBgICsgJ14nLnJlcGVhdChsZW5ndGgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQgKz0gbGluZUxlbmd0aCArIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5qb2luKCdcXG4nKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEV2ZW50IGVtaXR0ZXIsIGZvcmtlZCBmcm9tIHRoZSBiZWxvdzpcclxuICogLSBvcmlnaW5hbCByZXBvc2l0b3J5IHVybDogaHR0cHM6Ly9naXRodWIuY29tL2RldmVsb3BpdC9taXR0XHJcbiAqIC0gY29kZSB1cmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQvbWl0dC9ibG9iL21hc3Rlci9zcmMvaW5kZXgudHNcclxuICogLSBhdXRob3I6IEphc29uIE1pbGxlciAoaHR0cHM6Ly9naXRodWIuY29tL2RldmVsb3BpdClcclxuICogLSBsaWNlbnNlOiBNSVRcclxuICovXHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBldmVudCBlbWl0dGVyXHJcbiAqXHJcbiAqIEByZXR1cm5zIEFuIGV2ZW50IGVtaXR0ZXJcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUVtaXR0ZXIoKSB7XHJcbiAgICBjb25zdCBldmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICBjb25zdCBlbWl0dGVyID0ge1xyXG4gICAgICAgIGV2ZW50cyxcclxuICAgICAgICBvbihldmVudCwgaGFuZGxlcikge1xyXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVycyA9IGV2ZW50cy5nZXQoZXZlbnQpO1xyXG4gICAgICAgICAgICBjb25zdCBhZGRlZCA9IGhhbmRsZXJzICYmIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XHJcbiAgICAgICAgICAgIGlmICghYWRkZWQpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5zZXQoZXZlbnQsIFtoYW5kbGVyXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG9mZihldmVudCwgaGFuZGxlcikge1xyXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVycyA9IGV2ZW50cy5nZXQoZXZlbnQpO1xyXG4gICAgICAgICAgICBpZiAoaGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXJzLnNwbGljZShoYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpID4+PiAwLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW1pdChldmVudCwgcGF5bG9hZCkge1xyXG4gICAgICAgICAgICAoZXZlbnRzLmdldChldmVudCkgfHwgW10pXHJcbiAgICAgICAgICAgICAgICAuc2xpY2UoKVxyXG4gICAgICAgICAgICAgICAgLm1hcChoYW5kbGVyID0+IGhhbmRsZXIocGF5bG9hZCkpO1xyXG4gICAgICAgICAgICAoZXZlbnRzLmdldCgnKicpIHx8IFtdKVxyXG4gICAgICAgICAgICAgICAgLnNsaWNlKClcclxuICAgICAgICAgICAgICAgIC5tYXAoaGFuZGxlciA9PiBoYW5kbGVyKGV2ZW50LCBwYXlsb2FkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBlbWl0dGVyO1xyXG59XHJcblxyXG5leHBvcnQgeyBhc3NpZ24sIGNyZWF0ZUVtaXR0ZXIsIGVzY2FwZUh0bWwsIGZvcm1hdCwgZnJpZW5kbHlKU09Oc3RyaW5naWZ5LCBnZW5lcmF0ZUNvZGVGcmFtZSwgZ2VuZXJhdGVGb3JtYXRDYWNoZUtleSwgZ2V0R2xvYmFsVGhpcywgaGFzT3duLCBpbkJyb3dzZXIsIGlzQXJyYXksIGlzQm9vbGVhbiwgaXNEYXRlLCBpc0VtcHR5T2JqZWN0LCBpc0Z1bmN0aW9uLCBpc051bWJlciwgaXNPYmplY3QsIGlzUGxhaW5PYmplY3QsIGlzUHJvbWlzZSwgaXNSZWdFeHAsIGlzU3RyaW5nLCBpc1N5bWJvbCwgbWFrZVN5bWJvbCwgbWFyaywgbWVhc3VyZSwgb2JqZWN0VG9TdHJpbmcsIHRvRGlzcGxheVN0cmluZywgdG9UeXBlU3RyaW5nLCB3YXJuIH07XHJcbiIsIi8qIVxyXG4gICogQGludGxpZnkvbWVzc2FnZS1yZXNvbHZlciB2OS4xLjlcclxuICAqIChjKSAyMDIxIGthenV5YSBrYXdhZ3VjaGlcclxuICAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICAqL1xyXG4vKipcclxuICogT3JpZ2luYWwgVXRpbGl0aWVzXHJcbiAqIHdyaXR0ZW4gYnkga2F6dXlhIGthd2FndWNoaVxyXG4gKi9cclxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkgO1xyXG5jb25zdCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XHJcbmZ1bmN0aW9uIGhhc093bihvYmosIGtleSkge1xyXG4gICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xyXG59XHJcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xyXG5cclxuY29uc3QgcGF0aFN0YXRlTWFjaGluZSA9IFtdO1xyXG5wYXRoU3RhdGVNYWNoaW5lWzAgLyogQkVGT1JFX1BBVEggKi9dID0ge1xyXG4gICAgW1wid1wiIC8qIFdPUktTUEFDRSAqL106IFswIC8qIEJFRk9SRV9QQVRIICovXSxcclxuICAgIFtcImlcIiAvKiBJREVOVCAqL106IFszIC8qIElOX0lERU5UICovLCAwIC8qIEFQUEVORCAqL10sXHJcbiAgICBbXCJbXCIgLyogTEVGVF9CUkFDS0VUICovXTogWzQgLyogSU5fU1VCX1BBVEggKi9dLFxyXG4gICAgW1wib1wiIC8qIEVORF9PRl9GQUlMICovXTogWzcgLyogQUZURVJfUEFUSCAqL11cclxufTtcclxucGF0aFN0YXRlTWFjaGluZVsxIC8qIElOX1BBVEggKi9dID0ge1xyXG4gICAgW1wid1wiIC8qIFdPUktTUEFDRSAqL106IFsxIC8qIElOX1BBVEggKi9dLFxyXG4gICAgW1wiLlwiIC8qIERPVCAqL106IFsyIC8qIEJFRk9SRV9JREVOVCAqL10sXHJcbiAgICBbXCJbXCIgLyogTEVGVF9CUkFDS0VUICovXTogWzQgLyogSU5fU1VCX1BBVEggKi9dLFxyXG4gICAgW1wib1wiIC8qIEVORF9PRl9GQUlMICovXTogWzcgLyogQUZURVJfUEFUSCAqL11cclxufTtcclxucGF0aFN0YXRlTWFjaGluZVsyIC8qIEJFRk9SRV9JREVOVCAqL10gPSB7XHJcbiAgICBbXCJ3XCIgLyogV09SS1NQQUNFICovXTogWzIgLyogQkVGT1JFX0lERU5UICovXSxcclxuICAgIFtcImlcIiAvKiBJREVOVCAqL106IFszIC8qIElOX0lERU5UICovLCAwIC8qIEFQUEVORCAqL10sXHJcbiAgICBbXCIwXCIgLyogWkVSTyAqL106IFszIC8qIElOX0lERU5UICovLCAwIC8qIEFQUEVORCAqL11cclxufTtcclxucGF0aFN0YXRlTWFjaGluZVszIC8qIElOX0lERU5UICovXSA9IHtcclxuICAgIFtcImlcIiAvKiBJREVOVCAqL106IFszIC8qIElOX0lERU5UICovLCAwIC8qIEFQUEVORCAqL10sXHJcbiAgICBbXCIwXCIgLyogWkVSTyAqL106IFszIC8qIElOX0lERU5UICovLCAwIC8qIEFQUEVORCAqL10sXHJcbiAgICBbXCJ3XCIgLyogV09SS1NQQUNFICovXTogWzEgLyogSU5fUEFUSCAqLywgMSAvKiBQVVNIICovXSxcclxuICAgIFtcIi5cIiAvKiBET1QgKi9dOiBbMiAvKiBCRUZPUkVfSURFTlQgKi8sIDEgLyogUFVTSCAqL10sXHJcbiAgICBbXCJbXCIgLyogTEVGVF9CUkFDS0VUICovXTogWzQgLyogSU5fU1VCX1BBVEggKi8sIDEgLyogUFVTSCAqL10sXHJcbiAgICBbXCJvXCIgLyogRU5EX09GX0ZBSUwgKi9dOiBbNyAvKiBBRlRFUl9QQVRIICovLCAxIC8qIFBVU0ggKi9dXHJcbn07XHJcbnBhdGhTdGF0ZU1hY2hpbmVbNCAvKiBJTl9TVUJfUEFUSCAqL10gPSB7XHJcbiAgICBbXCInXCIgLyogU0lOR0xFX1FVT1RFICovXTogWzUgLyogSU5fU0lOR0xFX1FVT1RFICovLCAwIC8qIEFQUEVORCAqL10sXHJcbiAgICBbXCJcXFwiXCIgLyogRE9VQkxFX1FVT1RFICovXTogWzYgLyogSU5fRE9VQkxFX1FVT1RFICovLCAwIC8qIEFQUEVORCAqL10sXHJcbiAgICBbXCJbXCIgLyogTEVGVF9CUkFDS0VUICovXTogW1xyXG4gICAgICAgIDQgLyogSU5fU1VCX1BBVEggKi8sXHJcbiAgICAgICAgMiAvKiBJTkNfU1VCX1BBVEhfREVQVEggKi9cclxuICAgIF0sXHJcbiAgICBbXCJdXCIgLyogUklHSFRfQlJBQ0tFVCAqL106IFsxIC8qIElOX1BBVEggKi8sIDMgLyogUFVTSF9TVUJfUEFUSCAqL10sXHJcbiAgICBbXCJvXCIgLyogRU5EX09GX0ZBSUwgKi9dOiA4IC8qIEVSUk9SICovLFxyXG4gICAgW1wibFwiIC8qIEVMU0UgKi9dOiBbNCAvKiBJTl9TVUJfUEFUSCAqLywgMCAvKiBBUFBFTkQgKi9dXHJcbn07XHJcbnBhdGhTdGF0ZU1hY2hpbmVbNSAvKiBJTl9TSU5HTEVfUVVPVEUgKi9dID0ge1xyXG4gICAgW1wiJ1wiIC8qIFNJTkdMRV9RVU9URSAqL106IFs0IC8qIElOX1NVQl9QQVRIICovLCAwIC8qIEFQUEVORCAqL10sXHJcbiAgICBbXCJvXCIgLyogRU5EX09GX0ZBSUwgKi9dOiA4IC8qIEVSUk9SICovLFxyXG4gICAgW1wibFwiIC8qIEVMU0UgKi9dOiBbNSAvKiBJTl9TSU5HTEVfUVVPVEUgKi8sIDAgLyogQVBQRU5EICovXVxyXG59O1xyXG5wYXRoU3RhdGVNYWNoaW5lWzYgLyogSU5fRE9VQkxFX1FVT1RFICovXSA9IHtcclxuICAgIFtcIlxcXCJcIiAvKiBET1VCTEVfUVVPVEUgKi9dOiBbNCAvKiBJTl9TVUJfUEFUSCAqLywgMCAvKiBBUFBFTkQgKi9dLFxyXG4gICAgW1wib1wiIC8qIEVORF9PRl9GQUlMICovXTogOCAvKiBFUlJPUiAqLyxcclxuICAgIFtcImxcIiAvKiBFTFNFICovXTogWzYgLyogSU5fRE9VQkxFX1FVT1RFICovLCAwIC8qIEFQUEVORCAqL11cclxufTtcclxuLyoqXHJcbiAqIENoZWNrIGlmIGFuIGV4cHJlc3Npb24gaXMgYSBsaXRlcmFsIHZhbHVlLlxyXG4gKi9cclxuY29uc3QgbGl0ZXJhbFZhbHVlUkUgPSAvXlxccz8oPzp0cnVlfGZhbHNlfC0/W1xcZC5dK3wnW14nXSonfFwiW15cIl0qXCIpXFxzPyQvO1xyXG5mdW5jdGlvbiBpc0xpdGVyYWwoZXhwKSB7XHJcbiAgICByZXR1cm4gbGl0ZXJhbFZhbHVlUkUudGVzdChleHApO1xyXG59XHJcbi8qKlxyXG4gKiBTdHJpcCBxdW90ZXMgZnJvbSBhIHN0cmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gc3RyaXBRdW90ZXMoc3RyKSB7XHJcbiAgICBjb25zdCBhID0gc3RyLmNoYXJDb2RlQXQoMCk7XHJcbiAgICBjb25zdCBiID0gc3RyLmNoYXJDb2RlQXQoc3RyLmxlbmd0aCAtIDEpO1xyXG4gICAgcmV0dXJuIGEgPT09IGIgJiYgKGEgPT09IDB4MjIgfHwgYSA9PT0gMHgyNykgPyBzdHIuc2xpY2UoMSwgLTEpIDogc3RyO1xyXG59XHJcbi8qKlxyXG4gKiBEZXRlcm1pbmUgdGhlIHR5cGUgb2YgYSBjaGFyYWN0ZXIgaW4gYSBrZXlwYXRoLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0UGF0aENoYXJUeXBlKGNoKSB7XHJcbiAgICBpZiAoY2ggPT09IHVuZGVmaW5lZCB8fCBjaCA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBcIm9cIiAvKiBFTkRfT0ZfRkFJTCAqLztcclxuICAgIH1cclxuICAgIGNvbnN0IGNvZGUgPSBjaC5jaGFyQ29kZUF0KDApO1xyXG4gICAgc3dpdGNoIChjb2RlKSB7XHJcbiAgICAgICAgY2FzZSAweDViOiAvLyBbXHJcbiAgICAgICAgY2FzZSAweDVkOiAvLyBdXHJcbiAgICAgICAgY2FzZSAweDJlOiAvLyAuXHJcbiAgICAgICAgY2FzZSAweDIyOiAvLyBcIlxyXG4gICAgICAgIGNhc2UgMHgyNzogLy8gJ1xyXG4gICAgICAgICAgICByZXR1cm4gY2g7XHJcbiAgICAgICAgY2FzZSAweDVmOiAvLyBfXHJcbiAgICAgICAgY2FzZSAweDI0OiAvLyAkXHJcbiAgICAgICAgY2FzZSAweDJkOiAvLyAtXHJcbiAgICAgICAgICAgIHJldHVybiBcImlcIiAvKiBJREVOVCAqLztcclxuICAgICAgICBjYXNlIDB4MDk6IC8vIFRhYiAoSFQpXHJcbiAgICAgICAgY2FzZSAweDBhOiAvLyBOZXdsaW5lIChMRilcclxuICAgICAgICBjYXNlIDB4MGQ6IC8vIFJldHVybiAoQ1IpXHJcbiAgICAgICAgY2FzZSAweGEwOiAvLyBOby1icmVhayBzcGFjZSAoTkJTUClcclxuICAgICAgICBjYXNlIDB4ZmVmZjogLy8gQnl0ZSBPcmRlciBNYXJrIChCT00pXHJcbiAgICAgICAgY2FzZSAweDIwMjg6IC8vIExpbmUgU2VwYXJhdG9yIChMUylcclxuICAgICAgICBjYXNlIDB4MjAyOTogLy8gUGFyYWdyYXBoIFNlcGFyYXRvciAoUFMpXHJcbiAgICAgICAgICAgIHJldHVybiBcIndcIiAvKiBXT1JLU1BBQ0UgKi87XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCJpXCIgLyogSURFTlQgKi87XHJcbn1cclxuLyoqXHJcbiAqIEZvcm1hdCBhIHN1YlBhdGgsIHJldHVybiBpdHMgcGxhaW4gZm9ybSBpZiBpdCBpc1xyXG4gKiBhIGxpdGVyYWwgc3RyaW5nIG9yIG51bWJlci4gT3RoZXJ3aXNlIHByZXBlbmQgdGhlXHJcbiAqIGR5bmFtaWMgaW5kaWNhdG9yICgqKS5cclxuICovXHJcbmZ1bmN0aW9uIGZvcm1hdFN1YlBhdGgocGF0aCkge1xyXG4gICAgY29uc3QgdHJpbW1lZCA9IHBhdGgudHJpbSgpO1xyXG4gICAgLy8gaW52YWxpZCBsZWFkaW5nIDBcclxuICAgIGlmIChwYXRoLmNoYXJBdCgwKSA9PT0gJzAnICYmIGlzTmFOKHBhcnNlSW50KHBhdGgpKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBpc0xpdGVyYWwodHJpbW1lZClcclxuICAgICAgICA/IHN0cmlwUXVvdGVzKHRyaW1tZWQpXHJcbiAgICAgICAgOiBcIipcIiAvKiBBU1RBUklTSyAqLyArIHRyaW1tZWQ7XHJcbn1cclxuLyoqXHJcbiAqIFBhcnNlIGEgc3RyaW5nIHBhdGggaW50byBhbiBhcnJheSBvZiBzZWdtZW50c1xyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2UocGF0aCkge1xyXG4gICAgY29uc3Qga2V5cyA9IFtdO1xyXG4gICAgbGV0IGluZGV4ID0gLTE7XHJcbiAgICBsZXQgbW9kZSA9IDAgLyogQkVGT1JFX1BBVEggKi87XHJcbiAgICBsZXQgc3ViUGF0aERlcHRoID0gMDtcclxuICAgIGxldCBjO1xyXG4gICAgbGV0IGtleTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG4gICAgbGV0IG5ld0NoYXI7XHJcbiAgICBsZXQgdHlwZTtcclxuICAgIGxldCB0cmFuc2l0aW9uO1xyXG4gICAgbGV0IGFjdGlvbjtcclxuICAgIGxldCB0eXBlTWFwO1xyXG4gICAgY29uc3QgYWN0aW9ucyA9IFtdO1xyXG4gICAgYWN0aW9uc1swIC8qIEFQUEVORCAqL10gPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGtleSA9IG5ld0NoYXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBrZXkgKz0gbmV3Q2hhcjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgYWN0aW9uc1sxIC8qIFBVU0ggKi9dID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcclxuICAgICAgICAgICAga2V5ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBhY3Rpb25zWzIgLyogSU5DX1NVQl9QQVRIX0RFUFRIICovXSA9ICgpID0+IHtcclxuICAgICAgICBhY3Rpb25zWzAgLyogQVBQRU5EICovXSgpO1xyXG4gICAgICAgIHN1YlBhdGhEZXB0aCsrO1xyXG4gICAgfTtcclxuICAgIGFjdGlvbnNbMyAvKiBQVVNIX1NVQl9QQVRIICovXSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoc3ViUGF0aERlcHRoID4gMCkge1xyXG4gICAgICAgICAgICBzdWJQYXRoRGVwdGgtLTtcclxuICAgICAgICAgICAgbW9kZSA9IDQgLyogSU5fU1VCX1BBVEggKi87XHJcbiAgICAgICAgICAgIGFjdGlvbnNbMCAvKiBBUFBFTkQgKi9dKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzdWJQYXRoRGVwdGggPSAwO1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBrZXkgPSBmb3JtYXRTdWJQYXRoKGtleSk7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25zWzEgLyogUFVTSCAqL10oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBmdW5jdGlvbiBtYXliZVVuZXNjYXBlUXVvdGUoKSB7XHJcbiAgICAgICAgY29uc3QgbmV4dENoYXIgPSBwYXRoW2luZGV4ICsgMV07XHJcbiAgICAgICAgaWYgKChtb2RlID09PSA1IC8qIElOX1NJTkdMRV9RVU9URSAqLyAmJlxyXG4gICAgICAgICAgICBuZXh0Q2hhciA9PT0gXCInXCIgLyogU0lOR0xFX1FVT1RFICovKSB8fFxyXG4gICAgICAgICAgICAobW9kZSA9PT0gNiAvKiBJTl9ET1VCTEVfUVVPVEUgKi8gJiZcclxuICAgICAgICAgICAgICAgIG5leHRDaGFyID09PSBcIlxcXCJcIiAvKiBET1VCTEVfUVVPVEUgKi8pKSB7XHJcbiAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgIG5ld0NoYXIgPSAnXFxcXCcgKyBuZXh0Q2hhcjtcclxuICAgICAgICAgICAgYWN0aW9uc1swIC8qIEFQUEVORCAqL10oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgd2hpbGUgKG1vZGUgIT09IG51bGwpIHtcclxuICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgIGMgPSBwYXRoW2luZGV4XTtcclxuICAgICAgICBpZiAoYyA9PT0gJ1xcXFwnICYmIG1heWJlVW5lc2NhcGVRdW90ZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0eXBlID0gZ2V0UGF0aENoYXJUeXBlKGMpO1xyXG4gICAgICAgIHR5cGVNYXAgPSBwYXRoU3RhdGVNYWNoaW5lW21vZGVdO1xyXG4gICAgICAgIHRyYW5zaXRpb24gPSB0eXBlTWFwW3R5cGVdIHx8IHR5cGVNYXBbXCJsXCIgLyogRUxTRSAqL10gfHwgOCAvKiBFUlJPUiAqLztcclxuICAgICAgICAvLyBjaGVjayBwYXJzZSBlcnJvclxyXG4gICAgICAgIGlmICh0cmFuc2l0aW9uID09PSA4IC8qIEVSUk9SICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbW9kZSA9IHRyYW5zaXRpb25bMF07XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb25bMV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBhY3Rpb24gPSBhY3Rpb25zW3RyYW5zaXRpb25bMV1dO1xyXG4gICAgICAgICAgICBpZiAoYWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdDaGFyID0gYztcclxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24oKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2hlY2sgcGFyc2UgZmluaXNoXHJcbiAgICAgICAgaWYgKG1vZGUgPT09IDcgLyogQUZURVJfUEFUSCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4ga2V5cztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8gcGF0aCB0b2tlbiBjYWNoZVxyXG5jb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcclxuZnVuY3Rpb24gcmVzb2x2ZVZhbHVlKG9iaiwgcGF0aCkge1xyXG4gICAgLy8gY2hlY2sgb2JqZWN0XHJcbiAgICBpZiAoIWlzT2JqZWN0KG9iaikpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIC8vIHBhcnNlIHBhdGhcclxuICAgIGxldCBoaXQgPSBjYWNoZS5nZXQocGF0aCk7XHJcbiAgICBpZiAoIWhpdCkge1xyXG4gICAgICAgIGhpdCA9IHBhcnNlKHBhdGgpO1xyXG4gICAgICAgIGlmIChoaXQpIHtcclxuICAgICAgICAgICAgY2FjaGUuc2V0KHBhdGgsIGhpdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gY2hlY2sgaGl0XHJcbiAgICBpZiAoIWhpdCkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgLy8gcmVzb2x2ZSBwYXRoIHZhbHVlXHJcbiAgICBjb25zdCBsZW4gPSBoaXQubGVuZ3RoO1xyXG4gICAgbGV0IGxhc3QgPSBvYmo7XHJcbiAgICBsZXQgaSA9IDA7XHJcbiAgICB3aGlsZSAoaSA8IGxlbikge1xyXG4gICAgICAgIGNvbnN0IHZhbCA9IGxhc3RbaGl0W2ldXTtcclxuICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxhc3QgPSB2YWw7XHJcbiAgICAgICAgaSsrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxhc3Q7XHJcbn1cclxuLyoqXHJcbiAqIFRyYW5zZm9ybSBmbGF0IGpzb24gaW4gb2JqIHRvIG5vcm1hbCBqc29uIGluIG9ialxyXG4gKi9cclxuZnVuY3Rpb24gaGFuZGxlRmxhdEpzb24ob2JqKSB7XHJcbiAgICAvLyBjaGVjayBvYmpcclxuICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcclxuICAgICAgICAvLyBjaGVjayBrZXlcclxuICAgICAgICBpZiAoIWhhc093bihvYmosIGtleSkpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGhhbmRsZSBmb3Igbm9ybWFsIGpzb25cclxuICAgICAgICBpZiAoIWtleS5pbmNsdWRlcyhcIi5cIiAvKiBET1QgKi8pKSB7XHJcbiAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZSBwcm9jZXNzIHZhbHVlIGlmIHZhbHVlIGlzIGFsc28gYSBvYmplY3RcclxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KG9ialtrZXldKSkge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlRmxhdEpzb24ob2JqW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGhhbmRsZSBmb3IgZmxhdCBqc29uLCB0cmFuc2Zvcm0gdG8gbm9ybWFsIGpzb25cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZ28gdG8gdGhlIGxhc3Qgb2JqZWN0XHJcbiAgICAgICAgICAgIGNvbnN0IHN1YktleXMgPSBrZXkuc3BsaXQoXCIuXCIgLyogRE9UICovKTtcclxuICAgICAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gc3ViS2V5cy5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudE9iaiA9IG9iajtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXN0SW5kZXg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoc3ViS2V5c1tpXSBpbiBjdXJyZW50T2JqKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmpbc3ViS2V5c1tpXV0gPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmogPSBjdXJyZW50T2JqW3N1YktleXNbaV1dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBsYXN0IG9iamVjdCB2YWx1ZSwgZGVsZXRlIG9sZCBwcm9wZXJ0eVxyXG4gICAgICAgICAgICBjdXJyZW50T2JqW3N1YktleXNbbGFzdEluZGV4XV0gPSBvYmpba2V5XTtcclxuICAgICAgICAgICAgZGVsZXRlIG9ialtrZXldO1xyXG4gICAgICAgICAgICAvLyByZWN1cnNpdmUgcHJvY2VzcyB2YWx1ZSBpZiB2YWx1ZSBpcyBhbHNvIGEgb2JqZWN0XHJcbiAgICAgICAgICAgIGlmIChpc09iamVjdChjdXJyZW50T2JqW3N1YktleXNbbGFzdEluZGV4XV0pKSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVGbGF0SnNvbihjdXJyZW50T2JqW3N1YktleXNbbGFzdEluZGV4XV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuZXhwb3J0IHsgaGFuZGxlRmxhdEpzb24sIHBhcnNlLCByZXNvbHZlVmFsdWUgfTtcclxuIiwiLyohXHJcbiAgKiBAaW50bGlmeS9ydW50aW1lIHY5LjEuOVxyXG4gICogKGMpIDIwMjEga2F6dXlhIGthd2FndWNoaVxyXG4gICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gICovXHJcbmltcG9ydCB7IGlzTnVtYmVyLCBpc09iamVjdCwgaXNTdHJpbmcsIGlzRnVuY3Rpb24sIGlzUGxhaW5PYmplY3QsIHRvRGlzcGxheVN0cmluZyB9IGZyb20gJ0BpbnRsaWZ5L3NoYXJlZCc7XHJcblxyXG5jb25zdCBERUZBVUxUX01PRElGSUVSID0gKHN0cikgPT4gc3RyO1xyXG5jb25zdCBERUZBVUxUX01FU1NBR0UgPSAoY3R4KSA9PiAnJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG5jb25zdCBERUZBVUxUX01FU1NBR0VfREFUQV9UWVBFID0gJ3RleHQnO1xyXG5jb25zdCBERUZBVUxUX05PUk1BTElaRSA9ICh2YWx1ZXMpID0+IHZhbHVlcy5sZW5ndGggPT09IDAgPyAnJyA6IHZhbHVlcy5qb2luKCcnKTtcclxuY29uc3QgREVGQVVMVF9JTlRFUlBPTEFURSA9IHRvRGlzcGxheVN0cmluZztcclxuZnVuY3Rpb24gcGx1cmFsRGVmYXVsdChjaG9pY2UsIGNob2ljZXNMZW5ndGgpIHtcclxuICAgIGNob2ljZSA9IE1hdGguYWJzKGNob2ljZSk7XHJcbiAgICBpZiAoY2hvaWNlc0xlbmd0aCA9PT0gMikge1xyXG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgICAgIHJldHVybiBjaG9pY2VcclxuICAgICAgICAgICAgPyBjaG9pY2UgPiAxXHJcbiAgICAgICAgICAgICAgICA/IDFcclxuICAgICAgICAgICAgICAgIDogMFxyXG4gICAgICAgICAgICA6IDE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2hvaWNlID8gTWF0aC5taW4oY2hvaWNlLCAyKSA6IDA7XHJcbn1cclxuZnVuY3Rpb24gZ2V0UGx1cmFsSW5kZXgob3B0aW9ucykge1xyXG4gICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICBjb25zdCBpbmRleCA9IGlzTnVtYmVyKG9wdGlvbnMucGx1cmFsSW5kZXgpXHJcbiAgICAgICAgPyBvcHRpb25zLnBsdXJhbEluZGV4XHJcbiAgICAgICAgOiAtMTtcclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgcmV0dXJuIG9wdGlvbnMubmFtZWQgJiYgKGlzTnVtYmVyKG9wdGlvbnMubmFtZWQuY291bnQpIHx8IGlzTnVtYmVyKG9wdGlvbnMubmFtZWQubikpXHJcbiAgICAgICAgPyBpc051bWJlcihvcHRpb25zLm5hbWVkLmNvdW50KVxyXG4gICAgICAgICAgICA/IG9wdGlvbnMubmFtZWQuY291bnRcclxuICAgICAgICAgICAgOiBpc051bWJlcihvcHRpb25zLm5hbWVkLm4pXHJcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMubmFtZWQublxyXG4gICAgICAgICAgICAgICAgOiBpbmRleFxyXG4gICAgICAgIDogaW5kZXg7XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplTmFtZWQocGx1cmFsSW5kZXgsIHByb3BzKSB7XHJcbiAgICBpZiAoIXByb3BzLmNvdW50KSB7XHJcbiAgICAgICAgcHJvcHMuY291bnQgPSBwbHVyYWxJbmRleDtcclxuICAgIH1cclxuICAgIGlmICghcHJvcHMubikge1xyXG4gICAgICAgIHByb3BzLm4gPSBwbHVyYWxJbmRleDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjcmVhdGVNZXNzYWdlQ29udGV4dChvcHRpb25zID0ge30pIHtcclxuICAgIGNvbnN0IGxvY2FsZSA9IG9wdGlvbnMubG9jYWxlO1xyXG4gICAgY29uc3QgcGx1cmFsSW5kZXggPSBnZXRQbHVyYWxJbmRleChvcHRpb25zKTtcclxuICAgIGNvbnN0IHBsdXJhbFJ1bGUgPSBpc09iamVjdChvcHRpb25zLnBsdXJhbFJ1bGVzKSAmJlxyXG4gICAgICAgIGlzU3RyaW5nKGxvY2FsZSkgJiZcclxuICAgICAgICBpc0Z1bmN0aW9uKG9wdGlvbnMucGx1cmFsUnVsZXNbbG9jYWxlXSlcclxuICAgICAgICA/IG9wdGlvbnMucGx1cmFsUnVsZXNbbG9jYWxlXVxyXG4gICAgICAgIDogcGx1cmFsRGVmYXVsdDtcclxuICAgIGNvbnN0IG9yZ1BsdXJhbFJ1bGUgPSBpc09iamVjdChvcHRpb25zLnBsdXJhbFJ1bGVzKSAmJlxyXG4gICAgICAgIGlzU3RyaW5nKGxvY2FsZSkgJiZcclxuICAgICAgICBpc0Z1bmN0aW9uKG9wdGlvbnMucGx1cmFsUnVsZXNbbG9jYWxlXSlcclxuICAgICAgICA/IHBsdXJhbERlZmF1bHRcclxuICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgIGNvbnN0IHBsdXJhbCA9IChtZXNzYWdlcykgPT4gbWVzc2FnZXNbcGx1cmFsUnVsZShwbHVyYWxJbmRleCwgbWVzc2FnZXMubGVuZ3RoLCBvcmdQbHVyYWxSdWxlKV07XHJcbiAgICBjb25zdCBfbGlzdCA9IG9wdGlvbnMubGlzdCB8fCBbXTtcclxuICAgIGNvbnN0IGxpc3QgPSAoaW5kZXgpID0+IF9saXN0W2luZGV4XTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICBjb25zdCBfbmFtZWQgPSBvcHRpb25zLm5hbWVkIHx8IHt9O1xyXG4gICAgaXNOdW1iZXIob3B0aW9ucy5wbHVyYWxJbmRleCkgJiYgbm9ybWFsaXplTmFtZWQocGx1cmFsSW5kZXgsIF9uYW1lZCk7XHJcbiAgICBjb25zdCBuYW1lZCA9IChrZXkpID0+IF9uYW1lZFtrZXldO1xyXG4gICAgLy8gVE9ETzogbmVlZCB0byBkZXNpZ24gcmVzb2x2ZSBtZXNzYWdlIGZ1bmN0aW9uP1xyXG4gICAgZnVuY3Rpb24gbWVzc2FnZShrZXkpIHtcclxuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgICAgICBjb25zdCBtc2cgPSBpc0Z1bmN0aW9uKG9wdGlvbnMubWVzc2FnZXMpXHJcbiAgICAgICAgICAgID8gb3B0aW9ucy5tZXNzYWdlcyhrZXkpXHJcbiAgICAgICAgICAgIDogaXNPYmplY3Qob3B0aW9ucy5tZXNzYWdlcylcclxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5tZXNzYWdlc1trZXldXHJcbiAgICAgICAgICAgICAgICA6IGZhbHNlO1xyXG4gICAgICAgIHJldHVybiAhbXNnXHJcbiAgICAgICAgICAgID8gb3B0aW9ucy5wYXJlbnRcclxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5wYXJlbnQubWVzc2FnZShrZXkpIC8vIHJlc29sdmUgZnJvbSBwYXJlbnQgbWVzc2FnZXNcclxuICAgICAgICAgICAgICAgIDogREVGQVVMVF9NRVNTQUdFXHJcbiAgICAgICAgICAgIDogbXNnO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX21vZGlmaWVyID0gKG5hbWUpID0+IG9wdGlvbnMubW9kaWZpZXJzXHJcbiAgICAgICAgPyBvcHRpb25zLm1vZGlmaWVyc1tuYW1lXVxyXG4gICAgICAgIDogREVGQVVMVF9NT0RJRklFUjtcclxuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5wcm9jZXNzb3IpICYmIGlzRnVuY3Rpb24ob3B0aW9ucy5wcm9jZXNzb3Iubm9ybWFsaXplKVxyXG4gICAgICAgID8gb3B0aW9ucy5wcm9jZXNzb3Iubm9ybWFsaXplXHJcbiAgICAgICAgOiBERUZBVUxUX05PUk1BTElaRTtcclxuICAgIGNvbnN0IGludGVycG9sYXRlID0gaXNQbGFpbk9iamVjdChvcHRpb25zLnByb2Nlc3NvcikgJiZcclxuICAgICAgICBpc0Z1bmN0aW9uKG9wdGlvbnMucHJvY2Vzc29yLmludGVycG9sYXRlKVxyXG4gICAgICAgID8gb3B0aW9ucy5wcm9jZXNzb3IuaW50ZXJwb2xhdGVcclxuICAgICAgICA6IERFRkFVTFRfSU5URVJQT0xBVEU7XHJcbiAgICBjb25zdCB0eXBlID0gaXNQbGFpbk9iamVjdChvcHRpb25zLnByb2Nlc3NvcikgJiYgaXNTdHJpbmcob3B0aW9ucy5wcm9jZXNzb3IudHlwZSlcclxuICAgICAgICA/IG9wdGlvbnMucHJvY2Vzc29yLnR5cGVcclxuICAgICAgICA6IERFRkFVTFRfTUVTU0FHRV9EQVRBX1RZUEU7XHJcbiAgICBjb25zdCBjdHggPSB7XHJcbiAgICAgICAgW1wibGlzdFwiIC8qIExJU1QgKi9dOiBsaXN0LFxyXG4gICAgICAgIFtcIm5hbWVkXCIgLyogTkFNRUQgKi9dOiBuYW1lZCxcclxuICAgICAgICBbXCJwbHVyYWxcIiAvKiBQTFVSQUwgKi9dOiBwbHVyYWwsXHJcbiAgICAgICAgW1wibGlua2VkXCIgLyogTElOS0VEICovXTogKGtleSwgbW9kaWZpZXIpID0+IHtcclxuICAgICAgICAgICAgLy8gVE9ETzogc2hvdWxkIGNoZWNrIGBrZXlgXHJcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IG1lc3NhZ2Uoa2V5KShjdHgpO1xyXG4gICAgICAgICAgICByZXR1cm4gaXNTdHJpbmcobW9kaWZpZXIpID8gX21vZGlmaWVyKG1vZGlmaWVyKShtc2cpIDogbXNnO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgW1wibWVzc2FnZVwiIC8qIE1FU1NBR0UgKi9dOiBtZXNzYWdlLFxyXG4gICAgICAgIFtcInR5cGVcIiAvKiBUWVBFICovXTogdHlwZSxcclxuICAgICAgICBbXCJpbnRlcnBvbGF0ZVwiIC8qIElOVEVSUE9MQVRFICovXTogaW50ZXJwb2xhdGUsXHJcbiAgICAgICAgW1wibm9ybWFsaXplXCIgLyogTk9STUFMSVpFICovXTogbm9ybWFsaXplXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGN0eDtcclxufVxyXG5cclxuZXhwb3J0IHsgREVGQVVMVF9NRVNTQUdFX0RBVEFfVFlQRSwgY3JlYXRlTWVzc2FnZUNvbnRleHQgfTtcclxuIiwiLyohXHJcbiAgKiBAaW50bGlmeS9tZXNzYWdlLWNvbXBpbGVyIHY5LjEuOVxyXG4gICogKGMpIDIwMjEga2F6dXlhIGthd2FndWNoaVxyXG4gICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gICovXHJcbmltcG9ydCB7IGZvcm1hdCwgYXNzaWduLCBpc1N0cmluZyB9IGZyb20gJ0BpbnRsaWZ5L3NoYXJlZCc7XHJcblxyXG4vKiogQGludGVybmFsICovXHJcbmNvbnN0IGVycm9yTWVzc2FnZXMgPSB7XHJcbiAgICAvLyB0b2tlbml6ZXIgZXJyb3IgbWVzc2FnZXNcclxuICAgIFswIC8qIEVYUEVDVEVEX1RPS0VOICovXTogYEV4cGVjdGVkIHRva2VuOiAnezB9J2AsXHJcbiAgICBbMSAvKiBJTlZBTElEX1RPS0VOX0lOX1BMQUNFSE9MREVSICovXTogYEludmFsaWQgdG9rZW4gaW4gcGxhY2Vob2xkZXI6ICd7MH0nYCxcclxuICAgIFsyIC8qIFVOVEVSTUlOQVRFRF9TSU5HTEVfUVVPVEVfSU5fUExBQ0VIT0xERVIgKi9dOiBgVW50ZXJtaW5hdGVkIHNpbmdsZSBxdW90ZSBpbiBwbGFjZWhvbGRlcmAsXHJcbiAgICBbMyAvKiBVTktOT1dOX0VTQ0FQRV9TRVFVRU5DRSAqL106IGBVbmtub3duIGVzY2FwZSBzZXF1ZW5jZTogXFxcXHswfWAsXHJcbiAgICBbNCAvKiBJTlZBTElEX1VOSUNPREVfRVNDQVBFX1NFUVVFTkNFICovXTogYEludmFsaWQgdW5pY29kZSBlc2NhcGUgc2VxdWVuY2U6IHswfWAsXHJcbiAgICBbNSAvKiBVTkJBTEFOQ0VEX0NMT1NJTkdfQlJBQ0UgKi9dOiBgVW5iYWxhbmNlZCBjbG9zaW5nIGJyYWNlYCxcclxuICAgIFs2IC8qIFVOVEVSTUlOQVRFRF9DTE9TSU5HX0JSQUNFICovXTogYFVudGVybWluYXRlZCBjbG9zaW5nIGJyYWNlYCxcclxuICAgIFs3IC8qIEVNUFRZX1BMQUNFSE9MREVSICovXTogYEVtcHR5IHBsYWNlaG9sZGVyYCxcclxuICAgIFs4IC8qIE5PVF9BTExPV19ORVNUX1BMQUNFSE9MREVSICovXTogYE5vdCBhbGxvd2VkIG5lc3QgcGxhY2Vob2xkZXJgLFxyXG4gICAgWzkgLyogSU5WQUxJRF9MSU5LRURfRk9STUFUICovXTogYEludmFsaWQgbGlua2VkIGZvcm1hdGAsXHJcbiAgICAvLyBwYXJzZXIgZXJyb3IgbWVzc2FnZXNcclxuICAgIFsxMCAvKiBNVVNUX0hBVkVfTUVTU0FHRVNfSU5fUExVUkFMICovXTogYFBsdXJhbCBtdXN0IGhhdmUgbWVzc2FnZXNgLFxyXG4gICAgWzExIC8qIFVORVhQRUNURURfRU1QVFlfTElOS0VEX01PRElGSUVSICovXTogYFVuZXhwZWN0ZWQgZW1wdHkgbGlua2VkIG1vZGlmaWVyYCxcclxuICAgIFsxMiAvKiBVTkVYUEVDVEVEX0VNUFRZX0xJTktFRF9LRVkgKi9dOiBgVW5leHBlY3RlZCBlbXB0eSBsaW5rZWQga2V5YCxcclxuICAgIFsxMyAvKiBVTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMgKi9dOiBgVW5leHBlY3RlZCBsZXhpY2FsIGFuYWx5c2lzIGluIHRva2VuOiAnezB9J2BcclxufTtcclxuZnVuY3Rpb24gY3JlYXRlQ29tcGlsZUVycm9yKGNvZGUsIGxvYywgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICBjb25zdCB7IGRvbWFpbiwgbWVzc2FnZXMsIGFyZ3MgfSA9IG9wdGlvbnM7XHJcbiAgICBjb25zdCBtc2cgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcclxuICAgICAgICA/IGZvcm1hdCgobWVzc2FnZXMgfHwgZXJyb3JNZXNzYWdlcylbY29kZV0gfHwgJycsIC4uLihhcmdzIHx8IFtdKSlcclxuICAgICAgICA6IGNvZGU7XHJcbiAgICBjb25zdCBlcnJvciA9IG5ldyBTeW50YXhFcnJvcihTdHJpbmcobXNnKSk7XHJcbiAgICBlcnJvci5jb2RlID0gY29kZTtcclxuICAgIGlmIChsb2MpIHtcclxuICAgICAgICBlcnJvci5sb2NhdGlvbiA9IGxvYztcclxuICAgIH1cclxuICAgIGVycm9yLmRvbWFpbiA9IGRvbWFpbjtcclxuICAgIHJldHVybiBlcnJvcjtcclxufVxyXG4vKiogQGludGVybmFsICovXHJcbmZ1bmN0aW9uIGRlZmF1bHRPbkVycm9yKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxufVxyXG5cclxuY29uc3QgTG9jYXRpb25TdHViID0ge1xyXG4gICAgc3RhcnQ6IHsgbGluZTogMSwgY29sdW1uOiAxLCBvZmZzZXQ6IDAgfSxcclxuICAgIGVuZDogeyBsaW5lOiAxLCBjb2x1bW46IDEsIG9mZnNldDogMCB9XHJcbn07XHJcbmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uKGxpbmUsIGNvbHVtbiwgb2Zmc2V0KSB7XHJcbiAgICByZXR1cm4geyBsaW5lLCBjb2x1bW4sIG9mZnNldCB9O1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKHN0YXJ0LCBlbmQsIHNvdXJjZSkge1xyXG4gICAgY29uc3QgbG9jID0geyBzdGFydCwgZW5kIH07XHJcbiAgICBpZiAoc291cmNlICE9IG51bGwpIHtcclxuICAgICAgICBsb2Muc291cmNlID0gc291cmNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxvYztcclxufVxyXG5cclxuY29uc3QgQ0hBUl9TUCA9ICcgJztcclxuY29uc3QgQ0hBUl9DUiA9ICdcXHInO1xyXG5jb25zdCBDSEFSX0xGID0gJ1xcbic7XHJcbmNvbnN0IENIQVJfTFMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MjAyOCk7XHJcbmNvbnN0IENIQVJfUFMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MjAyOSk7XHJcbmZ1bmN0aW9uIGNyZWF0ZVNjYW5uZXIoc3RyKSB7XHJcbiAgICBjb25zdCBfYnVmID0gc3RyO1xyXG4gICAgbGV0IF9pbmRleCA9IDA7XHJcbiAgICBsZXQgX2xpbmUgPSAxO1xyXG4gICAgbGV0IF9jb2x1bW4gPSAxO1xyXG4gICAgbGV0IF9wZWVrT2Zmc2V0ID0gMDtcclxuICAgIGNvbnN0IGlzQ1JMRiA9IChpbmRleCkgPT4gX2J1ZltpbmRleF0gPT09IENIQVJfQ1IgJiYgX2J1ZltpbmRleCArIDFdID09PSBDSEFSX0xGO1xyXG4gICAgY29uc3QgaXNMRiA9IChpbmRleCkgPT4gX2J1ZltpbmRleF0gPT09IENIQVJfTEY7XHJcbiAgICBjb25zdCBpc1BTID0gKGluZGV4KSA9PiBfYnVmW2luZGV4XSA9PT0gQ0hBUl9QUztcclxuICAgIGNvbnN0IGlzTFMgPSAoaW5kZXgpID0+IF9idWZbaW5kZXhdID09PSBDSEFSX0xTO1xyXG4gICAgY29uc3QgaXNMaW5lRW5kID0gKGluZGV4KSA9PiBpc0NSTEYoaW5kZXgpIHx8IGlzTEYoaW5kZXgpIHx8IGlzUFMoaW5kZXgpIHx8IGlzTFMoaW5kZXgpO1xyXG4gICAgY29uc3QgaW5kZXggPSAoKSA9PiBfaW5kZXg7XHJcbiAgICBjb25zdCBsaW5lID0gKCkgPT4gX2xpbmU7XHJcbiAgICBjb25zdCBjb2x1bW4gPSAoKSA9PiBfY29sdW1uO1xyXG4gICAgY29uc3QgcGVla09mZnNldCA9ICgpID0+IF9wZWVrT2Zmc2V0O1xyXG4gICAgY29uc3QgY2hhckF0ID0gKG9mZnNldCkgPT4gaXNDUkxGKG9mZnNldCkgfHwgaXNQUyhvZmZzZXQpIHx8IGlzTFMob2Zmc2V0KSA/IENIQVJfTEYgOiBfYnVmW29mZnNldF07XHJcbiAgICBjb25zdCBjdXJyZW50Q2hhciA9ICgpID0+IGNoYXJBdChfaW5kZXgpO1xyXG4gICAgY29uc3QgY3VycmVudFBlZWsgPSAoKSA9PiBjaGFyQXQoX2luZGV4ICsgX3BlZWtPZmZzZXQpO1xyXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcclxuICAgICAgICBfcGVla09mZnNldCA9IDA7XHJcbiAgICAgICAgaWYgKGlzTGluZUVuZChfaW5kZXgpKSB7XHJcbiAgICAgICAgICAgIF9saW5lKys7XHJcbiAgICAgICAgICAgIF9jb2x1bW4gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNDUkxGKF9pbmRleCkpIHtcclxuICAgICAgICAgICAgX2luZGV4Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9pbmRleCsrO1xyXG4gICAgICAgIF9jb2x1bW4rKztcclxuICAgICAgICByZXR1cm4gX2J1ZltfaW5kZXhdO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcGVlaygpIHtcclxuICAgICAgICBpZiAoaXNDUkxGKF9pbmRleCArIF9wZWVrT2Zmc2V0KSkge1xyXG4gICAgICAgICAgICBfcGVla09mZnNldCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfcGVla09mZnNldCsrO1xyXG4gICAgICAgIHJldHVybiBfYnVmW19pbmRleCArIF9wZWVrT2Zmc2V0XTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlc2V0KCkge1xyXG4gICAgICAgIF9pbmRleCA9IDA7XHJcbiAgICAgICAgX2xpbmUgPSAxO1xyXG4gICAgICAgIF9jb2x1bW4gPSAxO1xyXG4gICAgICAgIF9wZWVrT2Zmc2V0ID0gMDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlc2V0UGVlayhvZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgX3BlZWtPZmZzZXQgPSBvZmZzZXQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBza2lwVG9QZWVrKCkge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IF9pbmRleCArIF9wZWVrT2Zmc2V0O1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXHJcbiAgICAgICAgd2hpbGUgKHRhcmdldCAhPT0gX2luZGV4KSB7XHJcbiAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgX3BlZWtPZmZzZXQgPSAwO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpbmRleCxcclxuICAgICAgICBsaW5lLFxyXG4gICAgICAgIGNvbHVtbixcclxuICAgICAgICBwZWVrT2Zmc2V0LFxyXG4gICAgICAgIGNoYXJBdCxcclxuICAgICAgICBjdXJyZW50Q2hhcixcclxuICAgICAgICBjdXJyZW50UGVlayxcclxuICAgICAgICBuZXh0LFxyXG4gICAgICAgIHBlZWssXHJcbiAgICAgICAgcmVzZXQsXHJcbiAgICAgICAgcmVzZXRQZWVrLFxyXG4gICAgICAgIHNraXBUb1BlZWtcclxuICAgIH07XHJcbn1cclxuXHJcbmNvbnN0IEVPRiA9IHVuZGVmaW5lZDtcclxuY29uc3QgTElURVJBTF9ERUxJTUlURVIgPSBcIidcIjtcclxuY29uc3QgRVJST1JfRE9NQUlOJDEgPSAndG9rZW5pemVyJztcclxuZnVuY3Rpb24gY3JlYXRlVG9rZW5pemVyKHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICBjb25zdCBsb2NhdGlvbiA9IG9wdGlvbnMubG9jYXRpb24gIT09IGZhbHNlO1xyXG4gICAgY29uc3QgX3NjbnIgPSBjcmVhdGVTY2FubmVyKHNvdXJjZSk7XHJcbiAgICBjb25zdCBjdXJyZW50T2Zmc2V0ID0gKCkgPT4gX3NjbnIuaW5kZXgoKTtcclxuICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9ICgpID0+IGNyZWF0ZVBvc2l0aW9uKF9zY25yLmxpbmUoKSwgX3NjbnIuY29sdW1uKCksIF9zY25yLmluZGV4KCkpO1xyXG4gICAgY29uc3QgX2luaXRMb2MgPSBjdXJyZW50UG9zaXRpb24oKTtcclxuICAgIGNvbnN0IF9pbml0T2Zmc2V0ID0gY3VycmVudE9mZnNldCgpO1xyXG4gICAgY29uc3QgX2NvbnRleHQgPSB7XHJcbiAgICAgICAgY3VycmVudFR5cGU6IDE0IC8qIEVPRiAqLyxcclxuICAgICAgICBvZmZzZXQ6IF9pbml0T2Zmc2V0LFxyXG4gICAgICAgIHN0YXJ0TG9jOiBfaW5pdExvYyxcclxuICAgICAgICBlbmRMb2M6IF9pbml0TG9jLFxyXG4gICAgICAgIGxhc3RUeXBlOiAxNCAvKiBFT0YgKi8sXHJcbiAgICAgICAgbGFzdE9mZnNldDogX2luaXRPZmZzZXQsXHJcbiAgICAgICAgbGFzdFN0YXJ0TG9jOiBfaW5pdExvYyxcclxuICAgICAgICBsYXN0RW5kTG9jOiBfaW5pdExvYyxcclxuICAgICAgICBicmFjZU5lc3Q6IDAsXHJcbiAgICAgICAgaW5MaW5rZWQ6IGZhbHNlLFxyXG4gICAgICAgIHRleHQ6ICcnXHJcbiAgICB9O1xyXG4gICAgY29uc3QgY29udGV4dCA9ICgpID0+IF9jb250ZXh0O1xyXG4gICAgY29uc3QgeyBvbkVycm9yIH0gPSBvcHRpb25zO1xyXG4gICAgZnVuY3Rpb24gZW1pdEVycm9yKGNvZGUsIHBvcywgb2Zmc2V0LCAuLi5hcmdzKSB7XHJcbiAgICAgICAgY29uc3QgY3R4ID0gY29udGV4dCgpO1xyXG4gICAgICAgIHBvcy5jb2x1bW4gKz0gb2Zmc2V0O1xyXG4gICAgICAgIHBvcy5vZmZzZXQgKz0gb2Zmc2V0O1xyXG4gICAgICAgIGlmIChvbkVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGNyZWF0ZUxvY2F0aW9uKGN0eC5zdGFydExvYywgcG9zKTtcclxuICAgICAgICAgICAgY29uc3QgZXJyID0gY3JlYXRlQ29tcGlsZUVycm9yKGNvZGUsIGxvYywge1xyXG4gICAgICAgICAgICAgICAgZG9tYWluOiBFUlJPUl9ET01BSU4kMSxcclxuICAgICAgICAgICAgICAgIGFyZ3NcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXRUb2tlbihjb250ZXh0LCB0eXBlLCB2YWx1ZSkge1xyXG4gICAgICAgIGNvbnRleHQuZW5kTG9jID0gY3VycmVudFBvc2l0aW9uKCk7XHJcbiAgICAgICAgY29udGV4dC5jdXJyZW50VHlwZSA9IHR5cGU7XHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSB7IHR5cGUgfTtcclxuICAgICAgICBpZiAobG9jYXRpb24pIHtcclxuICAgICAgICAgICAgdG9rZW4ubG9jID0gY3JlYXRlTG9jYXRpb24oY29udGV4dC5zdGFydExvYywgY29udGV4dC5lbmRMb2MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0b2tlbi52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICB9XHJcbiAgICBjb25zdCBnZXRFbmRUb2tlbiA9IChjb250ZXh0KSA9PiBnZXRUb2tlbihjb250ZXh0LCAxNCAvKiBFT0YgKi8pO1xyXG4gICAgZnVuY3Rpb24gZWF0KHNjbnIsIGNoKSB7XHJcbiAgICAgICAgaWYgKHNjbnIuY3VycmVudENoYXIoKSA9PT0gY2gpIHtcclxuICAgICAgICAgICAgc2Nuci5uZXh0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBjaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVtaXRFcnJvcigwIC8qIEVYUEVDVEVEX1RPS0VOICovLCBjdXJyZW50UG9zaXRpb24oKSwgMCwgY2gpO1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcGVla1NwYWNlcyhzY25yKSB7XHJcbiAgICAgICAgbGV0IGJ1ZiA9ICcnO1xyXG4gICAgICAgIHdoaWxlIChzY25yLmN1cnJlbnRQZWVrKCkgPT09IENIQVJfU1AgfHwgc2Nuci5jdXJyZW50UGVlaygpID09PSBDSEFSX0xGKSB7XHJcbiAgICAgICAgICAgIGJ1ZiArPSBzY25yLmN1cnJlbnRQZWVrKCk7XHJcbiAgICAgICAgICAgIHNjbnIucGVlaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnVmO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2tpcFNwYWNlcyhzY25yKSB7XHJcbiAgICAgICAgY29uc3QgYnVmID0gcGVla1NwYWNlcyhzY25yKTtcclxuICAgICAgICBzY25yLnNraXBUb1BlZWsoKTtcclxuICAgICAgICByZXR1cm4gYnVmO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNJZGVudGlmaWVyU3RhcnQoY2gpIHtcclxuICAgICAgICBpZiAoY2ggPT09IEVPRikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNjID0gY2guY2hhckNvZGVBdCgwKTtcclxuICAgICAgICByZXR1cm4gKChjYyA+PSA5NyAmJiBjYyA8PSAxMjIpIHx8IC8vIGEtelxyXG4gICAgICAgICAgICAoY2MgPj0gNjUgJiYgY2MgPD0gOTApIHx8IC8vIEEtWlxyXG4gICAgICAgICAgICBjYyA9PT0gOTUgLy8gX1xyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc051bWJlclN0YXJ0KGNoKSB7XHJcbiAgICAgICAgaWYgKGNoID09PSBFT0YpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjYyA9IGNoLmNoYXJDb2RlQXQoMCk7XHJcbiAgICAgICAgcmV0dXJuIGNjID49IDQ4ICYmIGNjIDw9IDU3OyAvLyAwLTlcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzTmFtZWRJZGVudGlmaWVyU3RhcnQoc2NuciwgY29udGV4dCkge1xyXG4gICAgICAgIGNvbnN0IHsgY3VycmVudFR5cGUgfSA9IGNvbnRleHQ7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRUeXBlICE9PSAyIC8qIEJyYWNlTGVmdCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBlZWtTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgY29uc3QgcmV0ID0gaXNJZGVudGlmaWVyU3RhcnQoc2Nuci5jdXJyZW50UGVlaygpKTtcclxuICAgICAgICBzY25yLnJlc2V0UGVlaygpO1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc0xpc3RJZGVudGlmaWVyU3RhcnQoc2NuciwgY29udGV4dCkge1xyXG4gICAgICAgIGNvbnN0IHsgY3VycmVudFR5cGUgfSA9IGNvbnRleHQ7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRUeXBlICE9PSAyIC8qIEJyYWNlTGVmdCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBlZWtTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRQZWVrKCkgPT09ICctJyA/IHNjbnIucGVlaygpIDogc2Nuci5jdXJyZW50UGVlaygpO1xyXG4gICAgICAgIGNvbnN0IHJldCA9IGlzTnVtYmVyU3RhcnQoY2gpO1xyXG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzTGl0ZXJhbFN0YXJ0KHNjbnIsIGNvbnRleHQpIHtcclxuICAgICAgICBjb25zdCB7IGN1cnJlbnRUeXBlIH0gPSBjb250ZXh0O1xyXG4gICAgICAgIGlmIChjdXJyZW50VHlwZSAhPT0gMiAvKiBCcmFjZUxlZnQgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwZWVrU3BhY2VzKHNjbnIpO1xyXG4gICAgICAgIGNvbnN0IHJldCA9IHNjbnIuY3VycmVudFBlZWsoKSA9PT0gTElURVJBTF9ERUxJTUlURVI7XHJcbiAgICAgICAgc2Nuci5yZXNldFBlZWsoKTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNMaW5rZWREb3RTdGFydChzY25yLCBjb250ZXh0KSB7XHJcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSB9ID0gY29udGV4dDtcclxuICAgICAgICBpZiAoY3VycmVudFR5cGUgIT09IDggLyogTGlua2VkQWxpYXMgKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwZWVrU3BhY2VzKHNjbnIpO1xyXG4gICAgICAgIGNvbnN0IHJldCA9IHNjbnIuY3VycmVudFBlZWsoKSA9PT0gXCIuXCIgLyogTGlua2VkRG90ICovO1xyXG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzTGlua2VkTW9kaWZpZXJTdGFydChzY25yLCBjb250ZXh0KSB7XHJcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSB9ID0gY29udGV4dDtcclxuICAgICAgICBpZiAoY3VycmVudFR5cGUgIT09IDkgLyogTGlua2VkRG90ICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGVla1NwYWNlcyhzY25yKTtcclxuICAgICAgICBjb25zdCByZXQgPSBpc0lkZW50aWZpZXJTdGFydChzY25yLmN1cnJlbnRQZWVrKCkpO1xyXG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzTGlua2VkRGVsaW1pdGVyU3RhcnQoc2NuciwgY29udGV4dCkge1xyXG4gICAgICAgIGNvbnN0IHsgY3VycmVudFR5cGUgfSA9IGNvbnRleHQ7XHJcbiAgICAgICAgaWYgKCEoY3VycmVudFR5cGUgPT09IDggLyogTGlua2VkQWxpYXMgKi8gfHxcclxuICAgICAgICAgICAgY3VycmVudFR5cGUgPT09IDEyIC8qIExpbmtlZE1vZGlmaWVyICovKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBlZWtTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgY29uc3QgcmV0ID0gc2Nuci5jdXJyZW50UGVlaygpID09PSBcIjpcIiAvKiBMaW5rZWREZWxpbWl0ZXIgKi87XHJcbiAgICAgICAgc2Nuci5yZXNldFBlZWsoKTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNMaW5rZWRSZWZlclN0YXJ0KHNjbnIsIGNvbnRleHQpIHtcclxuICAgICAgICBjb25zdCB7IGN1cnJlbnRUeXBlIH0gPSBjb250ZXh0O1xyXG4gICAgICAgIGlmIChjdXJyZW50VHlwZSAhPT0gMTAgLyogTGlua2VkRGVsaW1pdGVyICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZm4gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50UGVlaygpO1xyXG4gICAgICAgICAgICBpZiAoY2ggPT09IFwie1wiIC8qIEJyYWNlTGVmdCAqLykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzSWRlbnRpZmllclN0YXJ0KHNjbnIucGVlaygpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gXCJAXCIgLyogTGlua2VkQWxpYXMgKi8gfHxcclxuICAgICAgICAgICAgICAgIGNoID09PSBcIiVcIiAvKiBNb2R1bG8gKi8gfHxcclxuICAgICAgICAgICAgICAgIGNoID09PSBcInxcIiAvKiBQaXBlICovIHx8XHJcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCI6XCIgLyogTGlua2VkRGVsaW1pdGVyICovIHx8XHJcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCIuXCIgLyogTGlua2VkRG90ICovIHx8XHJcbiAgICAgICAgICAgICAgICBjaCA9PT0gQ0hBUl9TUCB8fFxyXG4gICAgICAgICAgICAgICAgIWNoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IENIQVJfTEYpIHtcclxuICAgICAgICAgICAgICAgIHNjbnIucGVlaygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBvdGhlciBjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNJZGVudGlmaWVyU3RhcnQoY2gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCByZXQgPSBmbigpO1xyXG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzUGx1cmFsU3RhcnQoc2Nucikge1xyXG4gICAgICAgIHBlZWtTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgY29uc3QgcmV0ID0gc2Nuci5jdXJyZW50UGVlaygpID09PSBcInxcIiAvKiBQaXBlICovO1xyXG4gICAgICAgIHNjbnIucmVzZXRQZWVrKCk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzVGV4dFN0YXJ0KHNjbnIsIHJlc2V0ID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IGZuID0gKGhhc1NwYWNlID0gZmFsc2UsIHByZXYgPSAnJywgZGV0ZWN0TW9kdWxvID0gZmFsc2UpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRQZWVrKCk7XHJcbiAgICAgICAgICAgIGlmIChjaCA9PT0gXCJ7XCIgLyogQnJhY2VMZWZ0ICovKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldiA9PT0gXCIlXCIgLyogTW9kdWxvICovID8gZmFsc2UgOiBoYXNTcGFjZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjaCA9PT0gXCJAXCIgLyogTGlua2VkQWxpYXMgKi8gfHwgIWNoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldiA9PT0gXCIlXCIgLyogTW9kdWxvICovID8gdHJ1ZSA6IGhhc1NwYWNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBcIiVcIiAvKiBNb2R1bG8gKi8pIHtcclxuICAgICAgICAgICAgICAgIHNjbnIucGVlaygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKGhhc1NwYWNlLCBcIiVcIiAvKiBNb2R1bG8gKi8sIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBcInxcIiAvKiBQaXBlICovKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldiA9PT0gXCIlXCIgLyogTW9kdWxvICovIHx8IGRldGVjdE1vZHVsb1xyXG4gICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIDogIShwcmV2ID09PSBDSEFSX1NQIHx8IHByZXYgPT09IENIQVJfTEYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBDSEFSX1NQKSB7XHJcbiAgICAgICAgICAgICAgICBzY25yLnBlZWsoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmbih0cnVlLCBDSEFSX1NQLCBkZXRlY3RNb2R1bG8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSBDSEFSX0xGKSB7XHJcbiAgICAgICAgICAgICAgICBzY25yLnBlZWsoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmbih0cnVlLCBDSEFSX0xGLCBkZXRlY3RNb2R1bG8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHJldCA9IGZuKCk7XHJcbiAgICAgICAgcmVzZXQgJiYgc2Nuci5yZXNldFBlZWsoKTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdGFrZUNoYXIoc2NuciwgZm4pIHtcclxuICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudENoYXIoKTtcclxuICAgICAgICBpZiAoY2ggPT09IEVPRikge1xyXG4gICAgICAgICAgICByZXR1cm4gRU9GO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZm4oY2gpKSB7XHJcbiAgICAgICAgICAgIHNjbnIubmV4dCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdGFrZUlkZW50aWZpZXJDaGFyKHNjbnIpIHtcclxuICAgICAgICBjb25zdCBjbG9zdXJlID0gKGNoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNjID0gY2guY2hhckNvZGVBdCgwKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoY2MgPj0gOTcgJiYgY2MgPD0gMTIyKSB8fCAvLyBhLXpcclxuICAgICAgICAgICAgICAgIChjYyA+PSA2NSAmJiBjYyA8PSA5MCkgfHwgLy8gQS1aXHJcbiAgICAgICAgICAgICAgICAoY2MgPj0gNDggJiYgY2MgPD0gNTcpIHx8IC8vIDAtOVxyXG4gICAgICAgICAgICAgICAgY2MgPT09IDk1IHx8IC8vIF9cclxuICAgICAgICAgICAgICAgIGNjID09PSAzNiAvLyAkXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdGFrZUNoYXIoc2NuciwgY2xvc3VyZSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB0YWtlRGlnaXQoc2Nucikge1xyXG4gICAgICAgIGNvbnN0IGNsb3N1cmUgPSAoY2gpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2MgPSBjaC5jaGFyQ29kZUF0KDApO1xyXG4gICAgICAgICAgICByZXR1cm4gY2MgPj0gNDggJiYgY2MgPD0gNTc7IC8vIDAtOVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHRha2VDaGFyKHNjbnIsIGNsb3N1cmUpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdGFrZUhleERpZ2l0KHNjbnIpIHtcclxuICAgICAgICBjb25zdCBjbG9zdXJlID0gKGNoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNjID0gY2guY2hhckNvZGVBdCgwKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoY2MgPj0gNDggJiYgY2MgPD0gNTcpIHx8IC8vIDAtOVxyXG4gICAgICAgICAgICAgICAgKGNjID49IDY1ICYmIGNjIDw9IDcwKSB8fCAvLyBBLUZcclxuICAgICAgICAgICAgICAgIChjYyA+PSA5NyAmJiBjYyA8PSAxMDIpKTsgLy8gYS1mXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdGFrZUNoYXIoc2NuciwgY2xvc3VyZSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXREaWdpdHMoc2Nucikge1xyXG4gICAgICAgIGxldCBjaCA9ICcnO1xyXG4gICAgICAgIGxldCBudW0gPSAnJztcclxuICAgICAgICB3aGlsZSAoKGNoID0gdGFrZURpZ2l0KHNjbnIpKSkge1xyXG4gICAgICAgICAgICBudW0gKz0gY2g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudW07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZWFkVGV4dChzY25yKSB7XHJcbiAgICAgICAgbGV0IGJ1ZiA9ICcnO1xyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50Q2hhcigpO1xyXG4gICAgICAgICAgICBpZiAoY2ggPT09IFwie1wiIC8qIEJyYWNlTGVmdCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgY2ggPT09IFwifVwiIC8qIEJyYWNlUmlnaHQgKi8gfHxcclxuICAgICAgICAgICAgICAgIGNoID09PSBcIkBcIiAvKiBMaW5rZWRBbGlhcyAqLyB8fFxyXG4gICAgICAgICAgICAgICAgY2ggPT09IFwifFwiIC8qIFBpcGUgKi8gfHxcclxuICAgICAgICAgICAgICAgICFjaCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IFwiJVwiIC8qIE1vZHVsbyAqLykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzVGV4dFN0YXJ0KHNjbnIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmICs9IGNoO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IENIQVJfU1AgfHwgY2ggPT09IENIQVJfTEYpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc1RleHRTdGFydChzY25yKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZiArPSBjaDtcclxuICAgICAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzUGx1cmFsU3RhcnQoc2NucikpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZiArPSBjaDtcclxuICAgICAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJ1ZiArPSBjaDtcclxuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBidWY7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZWFkTmFtZWRJZGVudGlmaWVyKHNjbnIpIHtcclxuICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xyXG4gICAgICAgIGxldCBjaCA9ICcnO1xyXG4gICAgICAgIGxldCBuYW1lID0gJyc7XHJcbiAgICAgICAgd2hpbGUgKChjaCA9IHRha2VJZGVudGlmaWVyQ2hhcihzY25yKSkpIHtcclxuICAgICAgICAgICAgbmFtZSArPSBjaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNjbnIuY3VycmVudENoYXIoKSA9PT0gRU9GKSB7XHJcbiAgICAgICAgICAgIGVtaXRFcnJvcig2IC8qIFVOVEVSTUlOQVRFRF9DTE9TSU5HX0JSQUNFICovLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVhZExpc3RJZGVudGlmaWVyKHNjbnIpIHtcclxuICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xyXG4gICAgICAgIGxldCB2YWx1ZSA9ICcnO1xyXG4gICAgICAgIGlmIChzY25yLmN1cnJlbnRDaGFyKCkgPT09ICctJykge1xyXG4gICAgICAgICAgICBzY25yLm5leHQoKTtcclxuICAgICAgICAgICAgdmFsdWUgKz0gYC0ke2dldERpZ2l0cyhzY25yKX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFsdWUgKz0gZ2V0RGlnaXRzKHNjbnIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2Nuci5jdXJyZW50Q2hhcigpID09PSBFT0YpIHtcclxuICAgICAgICAgICAgZW1pdEVycm9yKDYgLyogVU5URVJNSU5BVEVEX0NMT1NJTkdfQlJBQ0UgKi8sIGN1cnJlbnRQb3NpdGlvbigpLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVhZExpdGVyYWwoc2Nucikge1xyXG4gICAgICAgIHNraXBTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgZWF0KHNjbnIsIGBcXCdgKTtcclxuICAgICAgICBsZXQgY2ggPSAnJztcclxuICAgICAgICBsZXQgbGl0ZXJhbCA9ICcnO1xyXG4gICAgICAgIGNvbnN0IGZuID0gKHgpID0+IHggIT09IExJVEVSQUxfREVMSU1JVEVSICYmIHggIT09IENIQVJfTEY7XHJcbiAgICAgICAgd2hpbGUgKChjaCA9IHRha2VDaGFyKHNjbnIsIGZuKSkpIHtcclxuICAgICAgICAgICAgaWYgKGNoID09PSAnXFxcXCcpIHtcclxuICAgICAgICAgICAgICAgIGxpdGVyYWwgKz0gcmVhZEVzY2FwZVNlcXVlbmNlKHNjbnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGl0ZXJhbCArPSBjaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjdXJyZW50ID0gc2Nuci5jdXJyZW50Q2hhcigpO1xyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBDSEFSX0xGIHx8IGN1cnJlbnQgPT09IEVPRikge1xyXG4gICAgICAgICAgICBlbWl0RXJyb3IoMiAvKiBVTlRFUk1JTkFURURfU0lOR0xFX1FVT1RFX0lOX1BMQUNFSE9MREVSICovLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XHJcbiAgICAgICAgICAgIC8vIFRPRE86IElzIGl0IGNvcnJlY3QgcmVhbGx5P1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gQ0hBUl9MRikge1xyXG4gICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICBlYXQoc2NuciwgYFxcJ2ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBsaXRlcmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlYXQoc2NuciwgYFxcJ2ApO1xyXG4gICAgICAgIHJldHVybiBsaXRlcmFsO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVhZEVzY2FwZVNlcXVlbmNlKHNjbnIpIHtcclxuICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudENoYXIoKTtcclxuICAgICAgICBzd2l0Y2ggKGNoKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ1xcXFwnOlxyXG4gICAgICAgICAgICBjYXNlIGBcXCdgOlxyXG4gICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYFxcXFwke2NofWA7XHJcbiAgICAgICAgICAgIGNhc2UgJ3UnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRVbmljb2RlRXNjYXBlU2VxdWVuY2Uoc2NuciwgY2gsIDQpO1xyXG4gICAgICAgICAgICBjYXNlICdVJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkVW5pY29kZUVzY2FwZVNlcXVlbmNlKHNjbnIsIGNoLCA2KTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGVtaXRFcnJvcigzIC8qIFVOS05PV05fRVNDQVBFX1NFUVVFTkNFICovLCBjdXJyZW50UG9zaXRpb24oKSwgMCwgY2gpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlYWRVbmljb2RlRXNjYXBlU2VxdWVuY2Uoc2NuciwgdW5pY29kZSwgZGlnaXRzKSB7XHJcbiAgICAgICAgZWF0KHNjbnIsIHVuaWNvZGUpO1xyXG4gICAgICAgIGxldCBzZXF1ZW5jZSA9ICcnO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlnaXRzOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY2ggPSB0YWtlSGV4RGlnaXQoc2Nucik7XHJcbiAgICAgICAgICAgIGlmICghY2gpIHtcclxuICAgICAgICAgICAgICAgIGVtaXRFcnJvcig0IC8qIElOVkFMSURfVU5JQ09ERV9FU0NBUEVfU0VRVUVOQ0UgKi8sIGN1cnJlbnRQb3NpdGlvbigpLCAwLCBgXFxcXCR7dW5pY29kZX0ke3NlcXVlbmNlfSR7c2Nuci5jdXJyZW50Q2hhcigpfWApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VxdWVuY2UgKz0gY2g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgXFxcXCR7dW5pY29kZX0ke3NlcXVlbmNlfWA7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZWFkSW52YWxpZElkZW50aWZpZXIoc2Nucikge1xyXG4gICAgICAgIHNraXBTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgbGV0IGNoID0gJyc7XHJcbiAgICAgICAgbGV0IGlkZW50aWZpZXJzID0gJyc7XHJcbiAgICAgICAgY29uc3QgY2xvc3VyZSA9IChjaCkgPT4gY2ggIT09IFwie1wiIC8qIEJyYWNlTGVmdCAqLyAmJlxyXG4gICAgICAgICAgICBjaCAhPT0gXCJ9XCIgLyogQnJhY2VSaWdodCAqLyAmJlxyXG4gICAgICAgICAgICBjaCAhPT0gQ0hBUl9TUCAmJlxyXG4gICAgICAgICAgICBjaCAhPT0gQ0hBUl9MRjtcclxuICAgICAgICB3aGlsZSAoKGNoID0gdGFrZUNoYXIoc2NuciwgY2xvc3VyZSkpKSB7XHJcbiAgICAgICAgICAgIGlkZW50aWZpZXJzICs9IGNoO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaWRlbnRpZmllcnM7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZWFkTGlua2VkTW9kaWZpZXIoc2Nucikge1xyXG4gICAgICAgIGxldCBjaCA9ICcnO1xyXG4gICAgICAgIGxldCBuYW1lID0gJyc7XHJcbiAgICAgICAgd2hpbGUgKChjaCA9IHRha2VJZGVudGlmaWVyQ2hhcihzY25yKSkpIHtcclxuICAgICAgICAgICAgbmFtZSArPSBjaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5hbWU7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZWFkTGlua2VkUmVmZXIoc2Nucikge1xyXG4gICAgICAgIGNvbnN0IGZuID0gKGRldGVjdCA9IGZhbHNlLCBidWYpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2ggPSBzY25yLmN1cnJlbnRDaGFyKCk7XHJcbiAgICAgICAgICAgIGlmIChjaCA9PT0gXCJ7XCIgLyogQnJhY2VMZWZ0ICovIHx8XHJcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCIlXCIgLyogTW9kdWxvICovIHx8XHJcbiAgICAgICAgICAgICAgICBjaCA9PT0gXCJAXCIgLyogTGlua2VkQWxpYXMgKi8gfHxcclxuICAgICAgICAgICAgICAgIGNoID09PSBcInxcIiAvKiBQaXBlICovIHx8XHJcbiAgICAgICAgICAgICAgICAhY2gpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBidWY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IENIQVJfU1ApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBidWY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09IENIQVJfTEYpIHtcclxuICAgICAgICAgICAgICAgIGJ1ZiArPSBjaDtcclxuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKGRldGVjdCwgYnVmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJ1ZiArPSBjaDtcclxuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKHRydWUsIGJ1Zik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBmbihmYWxzZSwgJycpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVhZFBsdXJhbChzY25yKSB7XHJcbiAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcclxuICAgICAgICBjb25zdCBwbHVyYWwgPSBlYXQoc2NuciwgXCJ8XCIgLyogUGlwZSAqLyk7XHJcbiAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcclxuICAgICAgICByZXR1cm4gcGx1cmFsO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETzogV2UgbmVlZCByZWZhY3RvcmluZyBvZiB0b2tlbiBwYXJzaW5nIC4uLlxyXG4gICAgZnVuY3Rpb24gcmVhZFRva2VuSW5QbGFjZWhvbGRlcihzY25yLCBjb250ZXh0KSB7XHJcbiAgICAgICAgbGV0IHRva2VuID0gbnVsbDtcclxuICAgICAgICBjb25zdCBjaCA9IHNjbnIuY3VycmVudENoYXIoKTtcclxuICAgICAgICBzd2l0Y2ggKGNoKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ7XCIgLyogQnJhY2VMZWZ0ICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYnJhY2VOZXN0ID49IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IoOCAvKiBOT1RfQUxMT1dfTkVTVF9QTEFDRUhPTERFUiAqLywgY3VycmVudFBvc2l0aW9uKCksIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDIgLyogQnJhY2VMZWZ0ICovLCBcIntcIiAvKiBCcmFjZUxlZnQgKi8pO1xyXG4gICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYnJhY2VOZXN0Kys7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICAgICAgICAgIGNhc2UgXCJ9XCIgLyogQnJhY2VSaWdodCAqLzpcclxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmJyYWNlTmVzdCA+IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUeXBlID09PSAyIC8qIEJyYWNlTGVmdCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcig3IC8qIEVNUFRZX1BMQUNFSE9MREVSICovLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgMyAvKiBCcmFjZVJpZ2h0ICovLCBcIn1cIiAvKiBCcmFjZVJpZ2h0ICovKTtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYnJhY2VOZXN0LS07XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJyYWNlTmVzdCA+IDAgJiYgc2tpcFNwYWNlcyhzY25yKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmluTGlua2VkICYmIGNvbnRleHQuYnJhY2VOZXN0ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbkxpbmtlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICAgICAgICBjYXNlIFwiQFwiIC8qIExpbmtlZEFsaWFzICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYnJhY2VOZXN0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcig2IC8qIFVOVEVSTUlOQVRFRF9DTE9TSU5HX0JSQUNFICovLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHJlYWRUb2tlbkluTGlua2VkKHNjbnIsIGNvbnRleHQpIHx8IGdldEVuZFRva2VuKGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5icmFjZU5lc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkTmFtZWRJZGVudGlmaWVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGxldCB2YWxpZExpc3RJZGVudGlmaWVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGxldCB2YWxpZExpdGVyYWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzUGx1cmFsU3RhcnQoc2NucikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5icmFjZU5lc3QgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcig2IC8qIFVOVEVSTUlOQVRFRF9DTE9TSU5HX0JSQUNFICovLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgMSAvKiBQaXBlICovLCByZWFkUGx1cmFsKHNjbnIpKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZXNldFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYnJhY2VOZXN0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmluTGlua2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYnJhY2VOZXN0ID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIChjb250ZXh0LmN1cnJlbnRUeXBlID09PSA1IC8qIE5hbWVkICovIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY3VycmVudFR5cGUgPT09IDYgLyogTGlzdCAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRUeXBlID09PSA3IC8qIExpdGVyYWwgKi8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKDYgLyogVU5URVJNSU5BVEVEX0NMT1NJTkdfQlJBQ0UgKi8sIGN1cnJlbnRQb3NpdGlvbigpLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJyYWNlTmVzdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbihzY25yLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgodmFsaWROYW1lZElkZW50aWZpZXIgPSBpc05hbWVkSWRlbnRpZmllclN0YXJ0KHNjbnIsIGNvbnRleHQpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgNSAvKiBOYW1lZCAqLywgcmVhZE5hbWVkSWRlbnRpZmllcihzY25yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHZhbGlkTGlzdElkZW50aWZpZXIgPSBpc0xpc3RJZGVudGlmaWVyU3RhcnQoc2NuciwgY29udGV4dCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBnZXRUb2tlbihjb250ZXh0LCA2IC8qIExpc3QgKi8sIHJlYWRMaXN0SWRlbnRpZmllcihzY25yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKHZhbGlkTGl0ZXJhbCA9IGlzTGl0ZXJhbFN0YXJ0KHNjbnIsIGNvbnRleHQpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgNyAvKiBMaXRlcmFsICovLCByZWFkTGl0ZXJhbChzY25yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkTmFtZWRJZGVudGlmaWVyICYmICF2YWxpZExpc3RJZGVudGlmaWVyICYmICF2YWxpZExpdGVyYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiB3ZSBzaG91bGQgYmUgcmUtZGVzaWduZWQgaW52YWxpZCBjYXNlcywgd2hlbiB3ZSB3aWxsIGV4dGVuZCBtZXNzYWdlIHN5bnRheCBuZWFyIHRoZSBmdXR1cmUgLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBnZXRUb2tlbihjb250ZXh0LCAxMyAvKiBJbnZhbGlkUGxhY2UgKi8sIHJlYWRJbnZhbGlkSWRlbnRpZmllcihzY25yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKDEgLyogSU5WQUxJRF9UT0tFTl9JTl9QTEFDRUhPTERFUiAqLywgY3VycmVudFBvc2l0aW9uKCksIDAsIHRva2VuLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBza2lwU3BhY2VzKHNjbnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICB9XHJcbiAgICAvLyBUT0RPOiBXZSBuZWVkIHJlZmFjdG9yaW5nIG9mIHRva2VuIHBhcnNpbmcgLi4uXHJcbiAgICBmdW5jdGlvbiByZWFkVG9rZW5JbkxpbmtlZChzY25yLCBjb250ZXh0KSB7XHJcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VHlwZSB9ID0gY29udGV4dDtcclxuICAgICAgICBsZXQgdG9rZW4gPSBudWxsO1xyXG4gICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50Q2hhcigpO1xyXG4gICAgICAgIGlmICgoY3VycmVudFR5cGUgPT09IDggLyogTGlua2VkQWxpYXMgKi8gfHxcclxuICAgICAgICAgICAgY3VycmVudFR5cGUgPT09IDkgLyogTGlua2VkRG90ICovIHx8XHJcbiAgICAgICAgICAgIGN1cnJlbnRUeXBlID09PSAxMiAvKiBMaW5rZWRNb2RpZmllciAqLyB8fFxyXG4gICAgICAgICAgICBjdXJyZW50VHlwZSA9PT0gMTAgLyogTGlua2VkRGVsaW1pdGVyICovKSAmJlxyXG4gICAgICAgICAgICAoY2ggPT09IENIQVJfTEYgfHwgY2ggPT09IENIQVJfU1ApKSB7XHJcbiAgICAgICAgICAgIGVtaXRFcnJvcig5IC8qIElOVkFMSURfTElOS0VEX0ZPUk1BVCAqLywgY3VycmVudFBvc2l0aW9uKCksIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKGNoKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJAXCIgLyogTGlua2VkQWxpYXMgKi86XHJcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgOCAvKiBMaW5rZWRBbGlhcyAqLywgXCJAXCIgLyogTGlua2VkQWxpYXMgKi8pO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5pbkxpbmtlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICAgICAgICAgIGNhc2UgXCIuXCIgLyogTGlua2VkRG90ICovOlxyXG4gICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcclxuICAgICAgICAgICAgICAgIHNjbnIubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFRva2VuKGNvbnRleHQsIDkgLyogTGlua2VkRG90ICovLCBcIi5cIiAvKiBMaW5rZWREb3QgKi8pO1xyXG4gICAgICAgICAgICBjYXNlIFwiOlwiIC8qIExpbmtlZERlbGltaXRlciAqLzpcclxuICAgICAgICAgICAgICAgIHNraXBTcGFjZXMoc2Nucik7XHJcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihjb250ZXh0LCAxMCAvKiBMaW5rZWREZWxpbWl0ZXIgKi8sIFwiOlwiIC8qIExpbmtlZERlbGltaXRlciAqLyk7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNQbHVyYWxTdGFydChzY25yKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gZ2V0VG9rZW4oY29udGV4dCwgMSAvKiBQaXBlICovLCByZWFkUGx1cmFsKHNjbnIpKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZXNldFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYnJhY2VOZXN0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmluTGlua2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGlzTGlua2VkRG90U3RhcnQoc2NuciwgY29udGV4dCkgfHxcclxuICAgICAgICAgICAgICAgICAgICBpc0xpbmtlZERlbGltaXRlclN0YXJ0KHNjbnIsIGNvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuSW5MaW5rZWQoc2NuciwgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNMaW5rZWRNb2RpZmllclN0YXJ0KHNjbnIsIGNvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VG9rZW4oY29udGV4dCwgMTIgLyogTGlua2VkTW9kaWZpZXIgKi8sIHJlYWRMaW5rZWRNb2RpZmllcihzY25yKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNMaW5rZWRSZWZlclN0YXJ0KHNjbnIsIGNvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNwYWNlcyhzY25yKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09IFwie1wiIC8qIEJyYWNlTGVmdCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzY2FuIHRoZSBwbGFjZWhvbGRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuSW5QbGFjZWhvbGRlcihzY25yLCBjb250ZXh0KSB8fCB0b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihjb250ZXh0LCAxMSAvKiBMaW5rZWRLZXkgKi8sIHJlYWRMaW5rZWRSZWZlcihzY25yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUeXBlID09PSA4IC8qIExpbmtlZEFsaWFzICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKDkgLyogSU5WQUxJRF9MSU5LRURfRk9STUFUICovLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJyYWNlTmVzdCA9IDA7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmluTGlua2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuKHNjbnIsIGNvbnRleHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIFRPRE86IFdlIG5lZWQgcmVmYWN0b3Jpbmcgb2YgdG9rZW4gcGFyc2luZyAuLi5cclxuICAgIGZ1bmN0aW9uIHJlYWRUb2tlbihzY25yLCBjb250ZXh0KSB7XHJcbiAgICAgICAgbGV0IHRva2VuID0geyB0eXBlOiAxNCAvKiBFT0YgKi8gfTtcclxuICAgICAgICBpZiAoY29udGV4dC5icmFjZU5lc3QgPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZWFkVG9rZW5JblBsYWNlaG9sZGVyKHNjbnIsIGNvbnRleHQpIHx8IGdldEVuZFRva2VuKGNvbnRleHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29udGV4dC5pbkxpbmtlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuSW5MaW5rZWQoc2NuciwgY29udGV4dCkgfHwgZ2V0RW5kVG9rZW4oY29udGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNoID0gc2Nuci5jdXJyZW50Q2hhcigpO1xyXG4gICAgICAgIHN3aXRjaCAoY2gpIHtcclxuICAgICAgICAgICAgY2FzZSBcIntcIiAvKiBCcmFjZUxlZnQgKi86XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuSW5QbGFjZWhvbGRlcihzY25yLCBjb250ZXh0KSB8fCBnZXRFbmRUb2tlbihjb250ZXh0KTtcclxuICAgICAgICAgICAgY2FzZSBcIn1cIiAvKiBCcmFjZVJpZ2h0ICovOlxyXG4gICAgICAgICAgICAgICAgZW1pdEVycm9yKDUgLyogVU5CQUxBTkNFRF9DTE9TSU5HX0JSQUNFICovLCBjdXJyZW50UG9zaXRpb24oKSwgMCk7XHJcbiAgICAgICAgICAgICAgICBzY25yLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihjb250ZXh0LCAzIC8qIEJyYWNlUmlnaHQgKi8sIFwifVwiIC8qIEJyYWNlUmlnaHQgKi8pO1xyXG4gICAgICAgICAgICBjYXNlIFwiQFwiIC8qIExpbmtlZEFsaWFzICovOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbkluTGlua2VkKHNjbnIsIGNvbnRleHQpIHx8IGdldEVuZFRva2VuKGNvbnRleHQpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzUGx1cmFsU3RhcnQoc2NucikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGdldFRva2VuKGNvbnRleHQsIDEgLyogUGlwZSAqLywgcmVhZFBsdXJhbChzY25yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXRcclxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJyYWNlTmVzdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbkxpbmtlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpc1RleHRTdGFydChzY25yKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihjb250ZXh0LCAwIC8qIFRleHQgKi8sIHJlYWRUZXh0KHNjbnIpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gXCIlXCIgLyogTW9kdWxvICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nuci5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFRva2VuKGNvbnRleHQsIDQgLyogTW9kdWxvICovLCBcIiVcIiAvKiBNb2R1bG8gKi8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG5leHRUb2tlbigpIHtcclxuICAgICAgICBjb25zdCB7IGN1cnJlbnRUeXBlLCBvZmZzZXQsIHN0YXJ0TG9jLCBlbmRMb2MgfSA9IF9jb250ZXh0O1xyXG4gICAgICAgIF9jb250ZXh0Lmxhc3RUeXBlID0gY3VycmVudFR5cGU7XHJcbiAgICAgICAgX2NvbnRleHQubGFzdE9mZnNldCA9IG9mZnNldDtcclxuICAgICAgICBfY29udGV4dC5sYXN0U3RhcnRMb2MgPSBzdGFydExvYztcclxuICAgICAgICBfY29udGV4dC5sYXN0RW5kTG9jID0gZW5kTG9jO1xyXG4gICAgICAgIF9jb250ZXh0Lm9mZnNldCA9IGN1cnJlbnRPZmZzZXQoKTtcclxuICAgICAgICBfY29udGV4dC5zdGFydExvYyA9IGN1cnJlbnRQb3NpdGlvbigpO1xyXG4gICAgICAgIGlmIChfc2Nuci5jdXJyZW50Q2hhcigpID09PSBFT0YpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldFRva2VuKF9jb250ZXh0LCAxNCAvKiBFT0YgKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVhZFRva2VuKF9zY25yLCBfY29udGV4dCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHRUb2tlbixcclxuICAgICAgICBjdXJyZW50T2Zmc2V0LFxyXG4gICAgICAgIGN1cnJlbnRQb3NpdGlvbixcclxuICAgICAgICBjb250ZXh0XHJcbiAgICB9O1xyXG59XHJcblxyXG5jb25zdCBFUlJPUl9ET01BSU4gPSAncGFyc2VyJztcclxuLy8gQmFja3NsYXNoIGJhY2tzbGFzaCwgYmFja3NsYXNoIHF1b3RlLCB1SEhISCwgVUhISEhISC5cclxuY29uc3QgS05PV05fRVNDQVBFUyA9IC8oPzpcXFxcXFxcXHxcXFxcJ3xcXFxcdShbMC05YS1mQS1GXXs0fSl8XFxcXFUoWzAtOWEtZkEtRl17Nn0pKS9nO1xyXG5mdW5jdGlvbiBmcm9tRXNjYXBlU2VxdWVuY2UobWF0Y2gsIGNvZGVQb2ludDQsIGNvZGVQb2ludDYpIHtcclxuICAgIHN3aXRjaCAobWF0Y2gpIHtcclxuICAgICAgICBjYXNlIGBcXFxcXFxcXGA6XHJcbiAgICAgICAgICAgIHJldHVybiBgXFxcXGA7XHJcbiAgICAgICAgY2FzZSBgXFxcXFxcJ2A6XHJcbiAgICAgICAgICAgIHJldHVybiBgXFwnYDtcclxuICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvZGVQb2ludCA9IHBhcnNlSW50KGNvZGVQb2ludDQgfHwgY29kZVBvaW50NiwgMTYpO1xyXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4ZDdmZiB8fCBjb2RlUG9pbnQgPj0gMHhlMDAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpbnZhbGlkIC4uLlxyXG4gICAgICAgICAgICAvLyBSZXBsYWNlIHRoZW0gd2l0aCBVK0ZGRkQgUkVQTEFDRU1FTlQgQ0hBUkFDVEVSLlxyXG4gICAgICAgICAgICByZXR1cm4gJ++/vSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVBhcnNlcihvcHRpb25zID0ge30pIHtcclxuICAgIGNvbnN0IGxvY2F0aW9uID0gb3B0aW9ucy5sb2NhdGlvbiAhPT0gZmFsc2U7XHJcbiAgICBjb25zdCB7IG9uRXJyb3IgfSA9IG9wdGlvbnM7XHJcbiAgICBmdW5jdGlvbiBlbWl0RXJyb3IodG9rZW56ZXIsIGNvZGUsIHN0YXJ0LCBvZmZzZXQsIC4uLmFyZ3MpIHtcclxuICAgICAgICBjb25zdCBlbmQgPSB0b2tlbnplci5jdXJyZW50UG9zaXRpb24oKTtcclxuICAgICAgICBlbmQub2Zmc2V0ICs9IG9mZnNldDtcclxuICAgICAgICBlbmQuY29sdW1uICs9IG9mZnNldDtcclxuICAgICAgICBpZiAob25FcnJvcikge1xyXG4gICAgICAgICAgICBjb25zdCBsb2MgPSBjcmVhdGVMb2NhdGlvbihzdGFydCwgZW5kKTtcclxuICAgICAgICAgICAgY29uc3QgZXJyID0gY3JlYXRlQ29tcGlsZUVycm9yKGNvZGUsIGxvYywge1xyXG4gICAgICAgICAgICAgICAgZG9tYWluOiBFUlJPUl9ET01BSU4sXHJcbiAgICAgICAgICAgICAgICBhcmdzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc3RhcnROb2RlKHR5cGUsIG9mZnNldCwgbG9jKSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IHtcclxuICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgc3RhcnQ6IG9mZnNldCxcclxuICAgICAgICAgICAgZW5kOiBvZmZzZXRcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChsb2NhdGlvbikge1xyXG4gICAgICAgICAgICBub2RlLmxvYyA9IHsgc3RhcnQ6IGxvYywgZW5kOiBsb2MgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBlbmROb2RlKG5vZGUsIG9mZnNldCwgcG9zLCB0eXBlKSB7XHJcbiAgICAgICAgbm9kZS5lbmQgPSBvZmZzZXQ7XHJcbiAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgbm9kZS50eXBlID0gdHlwZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxvY2F0aW9uICYmIG5vZGUubG9jKSB7XHJcbiAgICAgICAgICAgIG5vZGUubG9jLmVuZCA9IHBvcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwYXJzZVRleHQodG9rZW5pemVyLCB2YWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFydE5vZGUoMyAvKiBUZXh0ICovLCBjb250ZXh0Lm9mZnNldCwgY29udGV4dC5zdGFydExvYyk7XHJcbiAgICAgICAgbm9kZS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBhcnNlTGlzdCh0b2tlbml6ZXIsIGluZGV4KSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XHJcbiAgICAgICAgY29uc3QgeyBsYXN0T2Zmc2V0OiBvZmZzZXQsIGxhc3RTdGFydExvYzogbG9jIH0gPSBjb250ZXh0OyAvLyBnZXQgYnJhY2UgbGVmdCBsb2NcclxuICAgICAgICBjb25zdCBub2RlID0gc3RhcnROb2RlKDUgLyogTGlzdCAqLywgb2Zmc2V0LCBsb2MpO1xyXG4gICAgICAgIG5vZGUuaW5kZXggPSBwYXJzZUludChpbmRleCwgMTApO1xyXG4gICAgICAgIHRva2VuaXplci5uZXh0VG9rZW4oKTsgLy8gc2tpcCBicmFjaCByaWdodFxyXG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBhcnNlTmFtZWQodG9rZW5pemVyLCBrZXkpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcclxuICAgICAgICBjb25zdCB7IGxhc3RPZmZzZXQ6IG9mZnNldCwgbGFzdFN0YXJ0TG9jOiBsb2MgfSA9IGNvbnRleHQ7IC8vIGdldCBicmFjZSBsZWZ0IGxvY1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFydE5vZGUoNCAvKiBOYW1lZCAqLywgb2Zmc2V0LCBsb2MpO1xyXG4gICAgICAgIG5vZGUua2V5ID0ga2V5O1xyXG4gICAgICAgIHRva2VuaXplci5uZXh0VG9rZW4oKTsgLy8gc2tpcCBicmFjaCByaWdodFxyXG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBhcnNlTGl0ZXJhbCh0b2tlbml6ZXIsIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XHJcbiAgICAgICAgY29uc3QgeyBsYXN0T2Zmc2V0OiBvZmZzZXQsIGxhc3RTdGFydExvYzogbG9jIH0gPSBjb250ZXh0OyAvLyBnZXQgYnJhY2UgbGVmdCBsb2NcclxuICAgICAgICBjb25zdCBub2RlID0gc3RhcnROb2RlKDkgLyogTGl0ZXJhbCAqLywgb2Zmc2V0LCBsb2MpO1xyXG4gICAgICAgIG5vZGUudmFsdWUgPSB2YWx1ZS5yZXBsYWNlKEtOT1dOX0VTQ0FQRVMsIGZyb21Fc2NhcGVTZXF1ZW5jZSk7XHJcbiAgICAgICAgdG9rZW5pemVyLm5leHRUb2tlbigpOyAvLyBza2lwIGJyYWNoIHJpZ2h0XHJcbiAgICAgICAgZW5kTm9kZShub2RlLCB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpLCB0b2tlbml6ZXIuY3VycmVudFBvc2l0aW9uKCkpO1xyXG4gICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcGFyc2VMaW5rZWRNb2RpZmllcih0b2tlbml6ZXIpIHtcclxuICAgICAgICBjb25zdCB0b2tlbiA9IHRva2VuaXplci5uZXh0VG9rZW4oKTtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcclxuICAgICAgICBjb25zdCB7IGxhc3RPZmZzZXQ6IG9mZnNldCwgbGFzdFN0YXJ0TG9jOiBsb2MgfSA9IGNvbnRleHQ7IC8vIGdldCBsaW5rZWQgZG90IGxvY1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFydE5vZGUoOCAvKiBMaW5rZWRNb2RpZmllciAqLywgb2Zmc2V0LCBsb2MpO1xyXG4gICAgICAgIGlmICh0b2tlbi50eXBlICE9PSAxMiAvKiBMaW5rZWRNb2RpZmllciAqLykge1xyXG4gICAgICAgICAgICAvLyBlbXB0eSBtb2RpZmllclxyXG4gICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCAxMSAvKiBVTkVYUEVDVEVEX0VNUFRZX0xJTktFRF9NT0RJRklFUiAqLywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDApO1xyXG4gICAgICAgICAgICBub2RlLnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIGVuZE5vZGUobm9kZSwgb2Zmc2V0LCBsb2MpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbmV4dENvbnN1bWVUb2tlbjogdG9rZW4sXHJcbiAgICAgICAgICAgICAgICBub2RlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNoZWNrIHRva2VuXHJcbiAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgMTMgLyogVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTICovLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5vZGUudmFsdWUgPSB0b2tlbi52YWx1ZSB8fCAnJztcclxuICAgICAgICBlbmROb2RlKG5vZGUsIHRva2VuaXplci5jdXJyZW50T2Zmc2V0KCksIHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKSk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbm9kZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwYXJzZUxpbmtlZEtleSh0b2tlbml6ZXIsIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSg3IC8qIExpbmtlZEtleSAqLywgY29udGV4dC5vZmZzZXQsIGNvbnRleHQuc3RhcnRMb2MpO1xyXG4gICAgICAgIG5vZGUudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBlbmROb2RlKG5vZGUsIHRva2VuaXplci5jdXJyZW50T2Zmc2V0KCksIHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKSk7XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwYXJzZUxpbmtlZCh0b2tlbml6ZXIpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcclxuICAgICAgICBjb25zdCBsaW5rZWROb2RlID0gc3RhcnROb2RlKDYgLyogTGlua2VkICovLCBjb250ZXh0Lm9mZnNldCwgY29udGV4dC5zdGFydExvYyk7XHJcbiAgICAgICAgbGV0IHRva2VuID0gdG9rZW5pemVyLm5leHRUb2tlbigpO1xyXG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSA5IC8qIExpbmtlZERvdCAqLykge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUxpbmtlZE1vZGlmaWVyKHRva2VuaXplcik7XHJcbiAgICAgICAgICAgIGxpbmtlZE5vZGUubW9kaWZpZXIgPSBwYXJzZWQubm9kZTtcclxuICAgICAgICAgICAgdG9rZW4gPSBwYXJzZWQubmV4dENvbnN1bWVUb2tlbiB8fCB0b2tlbml6ZXIubmV4dFRva2VuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFzc2V0IGNoZWNrIHRva2VuXHJcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgIT09IDEwIC8qIExpbmtlZERlbGltaXRlciAqLykge1xyXG4gICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCAxMyAvKiBVTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMgKi8sIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwLCBnZXRUb2tlbkNhcHRpb24odG9rZW4pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIubmV4dFRva2VuKCk7XHJcbiAgICAgICAgLy8gc2tpcCBicmFjZSBsZWZ0XHJcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IDIgLyogQnJhY2VMZWZ0ICovKSB7XHJcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLm5leHRUb2tlbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAxMSAvKiBMaW5rZWRLZXkgKi86XHJcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIDEzIC8qIFVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUyAqLywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGlua2VkTm9kZS5rZXkgPSBwYXJzZUxpbmtlZEtleSh0b2tlbml6ZXIsIHRva2VuLnZhbHVlIHx8ICcnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDUgLyogTmFtZWQgKi86XHJcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIDEzIC8qIFVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUyAqLywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGlua2VkTm9kZS5rZXkgPSBwYXJzZU5hbWVkKHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNiAvKiBMaXN0ICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCAxMyAvKiBVTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMgKi8sIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwLCBnZXRUb2tlbkNhcHRpb24odG9rZW4pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxpbmtlZE5vZGUua2V5ID0gcGFyc2VMaXN0KHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNyAvKiBMaXRlcmFsICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCAxMyAvKiBVTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMgKi8sIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwLCBnZXRUb2tlbkNhcHRpb24odG9rZW4pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxpbmtlZE5vZGUua2V5ID0gcGFyc2VMaXRlcmFsKHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAvLyBlbXB0eSBrZXlcclxuICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIDEyIC8qIFVORVhQRUNURURfRU1QVFlfTElOS0VEX0tFWSAqLywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dENvbnRleHQgPSB0b2tlbml6ZXIuY29udGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW1wdHlMaW5rZWRLZXlOb2RlID0gc3RhcnROb2RlKDcgLyogTGlua2VkS2V5ICovLCBuZXh0Q29udGV4dC5vZmZzZXQsIG5leHRDb250ZXh0LnN0YXJ0TG9jKTtcclxuICAgICAgICAgICAgICAgIGVtcHR5TGlua2VkS2V5Tm9kZS52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgZW5kTm9kZShlbXB0eUxpbmtlZEtleU5vZGUsIG5leHRDb250ZXh0Lm9mZnNldCwgbmV4dENvbnRleHQuc3RhcnRMb2MpO1xyXG4gICAgICAgICAgICAgICAgbGlua2VkTm9kZS5rZXkgPSBlbXB0eUxpbmtlZEtleU5vZGU7XHJcbiAgICAgICAgICAgICAgICBlbmROb2RlKGxpbmtlZE5vZGUsIG5leHRDb250ZXh0Lm9mZnNldCwgbmV4dENvbnRleHQuc3RhcnRMb2MpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Q29uc3VtZVRva2VuOiB0b2tlbixcclxuICAgICAgICAgICAgICAgICAgICBub2RlOiBsaW5rZWROb2RlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbmROb2RlKGxpbmtlZE5vZGUsIHRva2VuaXplci5jdXJyZW50T2Zmc2V0KCksIHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKSk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbm9kZTogbGlua2VkTm9kZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwYXJzZU1lc3NhZ2UodG9rZW5pemVyKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSBjb250ZXh0LmN1cnJlbnRUeXBlID09PSAxIC8qIFBpcGUgKi9cclxuICAgICAgICAgICAgPyB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpXHJcbiAgICAgICAgICAgIDogY29udGV4dC5vZmZzZXQ7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRMb2MgPSBjb250ZXh0LmN1cnJlbnRUeXBlID09PSAxIC8qIFBpcGUgKi9cclxuICAgICAgICAgICAgPyBjb250ZXh0LmVuZExvY1xyXG4gICAgICAgICAgICA6IGNvbnRleHQuc3RhcnRMb2M7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSgyIC8qIE1lc3NhZ2UgKi8sIHN0YXJ0T2Zmc2V0LCBzdGFydExvYyk7XHJcbiAgICAgICAgbm9kZS5pdGVtcyA9IFtdO1xyXG4gICAgICAgIGxldCBuZXh0VG9rZW4gPSBudWxsO1xyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBuZXh0VG9rZW4gfHwgdG9rZW5pemVyLm5leHRUb2tlbigpO1xyXG4gICAgICAgICAgICBuZXh0VG9rZW4gPSBudWxsO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBUZXh0ICovOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIDEzIC8qIFVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUyAqLywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBub2RlLml0ZW1zLnB1c2gocGFyc2VUZXh0KHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNiAvKiBMaXN0ICovOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIDEzIC8qIFVORVhQRUNURURfTEVYSUNBTF9BTkFMWVNJUyAqLywgY29udGV4dC5sYXN0U3RhcnRMb2MsIDAsIGdldFRva2VuQ2FwdGlvbih0b2tlbikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBub2RlLml0ZW1zLnB1c2gocGFyc2VMaXN0KHRva2VuaXplciwgdG9rZW4udmFsdWUgfHwgJycpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNSAvKiBOYW1lZCAqLzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4udmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IodG9rZW5pemVyLCAxMyAvKiBVTkVYUEVDVEVEX0xFWElDQUxfQU5BTFlTSVMgKi8sIGNvbnRleHQubGFzdFN0YXJ0TG9jLCAwLCBnZXRUb2tlbkNhcHRpb24odG9rZW4pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pdGVtcy5wdXNoKHBhcnNlTmFtZWQodG9rZW5pemVyLCB0b2tlbi52YWx1ZSB8fCAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3IC8qIExpdGVyYWwgKi86XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgMTMgLyogVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTICovLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuaXRlbXMucHVzaChwYXJzZUxpdGVyYWwodG9rZW5pemVyLCB0b2tlbi52YWx1ZSB8fCAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA4IC8qIExpbmtlZEFsaWFzICovOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlTGlua2VkKHRva2VuaXplcik7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pdGVtcy5wdXNoKHBhcnNlZC5ub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0VG9rZW4gPSBwYXJzZWQubmV4dENvbnN1bWVUb2tlbiB8fCBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSB3aGlsZSAoY29udGV4dC5jdXJyZW50VHlwZSAhPT0gMTQgLyogRU9GICovICYmXHJcbiAgICAgICAgICAgIGNvbnRleHQuY3VycmVudFR5cGUgIT09IDEgLyogUGlwZSAqLyk7XHJcbiAgICAgICAgLy8gYWRqdXN0IG1lc3NhZ2Ugbm9kZSBsb2NcclxuICAgICAgICBjb25zdCBlbmRPZmZzZXQgPSBjb250ZXh0LmN1cnJlbnRUeXBlID09PSAxIC8qIFBpcGUgKi9cclxuICAgICAgICAgICAgPyBjb250ZXh0Lmxhc3RPZmZzZXRcclxuICAgICAgICAgICAgOiB0b2tlbml6ZXIuY3VycmVudE9mZnNldCgpO1xyXG4gICAgICAgIGNvbnN0IGVuZExvYyA9IGNvbnRleHQuY3VycmVudFR5cGUgPT09IDEgLyogUGlwZSAqL1xyXG4gICAgICAgICAgICA/IGNvbnRleHQubGFzdEVuZExvY1xyXG4gICAgICAgICAgICA6IHRva2VuaXplci5jdXJyZW50UG9zaXRpb24oKTtcclxuICAgICAgICBlbmROb2RlKG5vZGUsIGVuZE9mZnNldCwgZW5kTG9jKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBhcnNlUGx1cmFsKHRva2VuaXplciwgb2Zmc2V0LCBsb2MsIG1zZ05vZGUpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdG9rZW5pemVyLmNvbnRleHQoKTtcclxuICAgICAgICBsZXQgaGFzRW1wdHlNZXNzYWdlID0gbXNnTm9kZS5pdGVtcy5sZW5ndGggPT09IDA7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSgxIC8qIFBsdXJhbCAqLywgb2Zmc2V0LCBsb2MpO1xyXG4gICAgICAgIG5vZGUuY2FzZXMgPSBbXTtcclxuICAgICAgICBub2RlLmNhc2VzLnB1c2gobXNnTm9kZSk7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICBjb25zdCBtc2cgPSBwYXJzZU1lc3NhZ2UodG9rZW5pemVyKTtcclxuICAgICAgICAgICAgaWYgKCFoYXNFbXB0eU1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGhhc0VtcHR5TWVzc2FnZSA9IG1zZy5pdGVtcy5sZW5ndGggPT09IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbm9kZS5jYXNlcy5wdXNoKG1zZyk7XHJcbiAgICAgICAgfSB3aGlsZSAoY29udGV4dC5jdXJyZW50VHlwZSAhPT0gMTQgLyogRU9GICovKTtcclxuICAgICAgICBpZiAoaGFzRW1wdHlNZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGVtaXRFcnJvcih0b2tlbml6ZXIsIDEwIC8qIE1VU1RfSEFWRV9NRVNTQUdFU19JTl9QTFVSQUwgKi8sIGxvYywgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBhcnNlUmVzb3VyY2UodG9rZW5pemVyKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XHJcbiAgICAgICAgY29uc3QgeyBvZmZzZXQsIHN0YXJ0TG9jIH0gPSBjb250ZXh0O1xyXG4gICAgICAgIGNvbnN0IG1zZ05vZGUgPSBwYXJzZU1lc3NhZ2UodG9rZW5pemVyKTtcclxuICAgICAgICBpZiAoY29udGV4dC5jdXJyZW50VHlwZSA9PT0gMTQgLyogRU9GICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtc2dOb2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlUGx1cmFsKHRva2VuaXplciwgb2Zmc2V0LCBzdGFydExvYywgbXNnTm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcGFyc2Uoc291cmNlKSB7XHJcbiAgICAgICAgY29uc3QgdG9rZW5pemVyID0gY3JlYXRlVG9rZW5pemVyKHNvdXJjZSwgYXNzaWduKHt9LCBvcHRpb25zKSk7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRva2VuaXplci5jb250ZXh0KCk7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSgwIC8qIFJlc291cmNlICovLCBjb250ZXh0Lm9mZnNldCwgY29udGV4dC5zdGFydExvYyk7XHJcbiAgICAgICAgaWYgKGxvY2F0aW9uICYmIG5vZGUubG9jKSB7XHJcbiAgICAgICAgICAgIG5vZGUubG9jLnNvdXJjZSA9IHNvdXJjZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbm9kZS5ib2R5ID0gcGFyc2VSZXNvdXJjZSh0b2tlbml6ZXIpO1xyXG4gICAgICAgIC8vIGFzc2VydCB3aGV0aGVyIGFjaGlldmVkIHRvIEVPRlxyXG4gICAgICAgIGlmIChjb250ZXh0LmN1cnJlbnRUeXBlICE9PSAxNCAvKiBFT0YgKi8pIHtcclxuICAgICAgICAgICAgZW1pdEVycm9yKHRva2VuaXplciwgMTMgLyogVU5FWFBFQ1RFRF9MRVhJQ0FMX0FOQUxZU0lTICovLCBjb250ZXh0Lmxhc3RTdGFydExvYywgMCwgc291cmNlW2NvbnRleHQub2Zmc2V0XSB8fCAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVuZE5vZGUobm9kZSwgdG9rZW5pemVyLmN1cnJlbnRPZmZzZXQoKSwgdG9rZW5pemVyLmN1cnJlbnRQb3NpdGlvbigpKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuICAgIHJldHVybiB7IHBhcnNlIH07XHJcbn1cclxuZnVuY3Rpb24gZ2V0VG9rZW5DYXB0aW9uKHRva2VuKSB7XHJcbiAgICBpZiAodG9rZW4udHlwZSA9PT0gMTQgLyogRU9GICovKSB7XHJcbiAgICAgICAgcmV0dXJuICdFT0YnO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbmFtZSA9ICh0b2tlbi52YWx1ZSB8fCAnJykucmVwbGFjZSgvXFxyP1xcbi9ndSwgJ1xcXFxuJyk7XHJcbiAgICByZXR1cm4gbmFtZS5sZW5ndGggPiAxMCA/IG5hbWUuc2xpY2UoMCwgOSkgKyAn4oCmJyA6IG5hbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVRyYW5zZm9ybWVyKGFzdCwgb3B0aW9ucyA9IHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcclxuKSB7XHJcbiAgICBjb25zdCBfY29udGV4dCA9IHtcclxuICAgICAgICBhc3QsXHJcbiAgICAgICAgaGVscGVyczogbmV3IFNldCgpXHJcbiAgICB9O1xyXG4gICAgY29uc3QgY29udGV4dCA9ICgpID0+IF9jb250ZXh0O1xyXG4gICAgY29uc3QgaGVscGVyID0gKG5hbWUpID0+IHtcclxuICAgICAgICBfY29udGV4dC5oZWxwZXJzLmFkZChuYW1lKTtcclxuICAgICAgICByZXR1cm4gbmFtZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4geyBjb250ZXh0LCBoZWxwZXIgfTtcclxufVxyXG5mdW5jdGlvbiB0cmF2ZXJzZU5vZGVzKG5vZGVzLCB0cmFuc2Zvcm1lcikge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRyYXZlcnNlTm9kZShub2Rlc1tpXSwgdHJhbnNmb3JtZXIpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHRyYXZlcnNlTm9kZShub2RlLCB0cmFuc2Zvcm1lcikge1xyXG4gICAgLy8gVE9ETzogaWYgd2UgbmVlZCBwcmUtaG9vayBvZiB0cmFuc2Zvcm0sIHNob3VsZCBiZSBpbXBsZW1lbnRlZCB0byBoZXJlXHJcbiAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xyXG4gICAgICAgIGNhc2UgMSAvKiBQbHVyYWwgKi86XHJcbiAgICAgICAgICAgIHRyYXZlcnNlTm9kZXMobm9kZS5jYXNlcywgdHJhbnNmb3JtZXIpO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm1lci5oZWxwZXIoXCJwbHVyYWxcIiAvKiBQTFVSQUwgKi8pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDIgLyogTWVzc2FnZSAqLzpcclxuICAgICAgICAgICAgdHJhdmVyc2VOb2Rlcyhub2RlLml0ZW1zLCB0cmFuc2Zvcm1lcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgNiAvKiBMaW5rZWQgKi86XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmtlZCA9IG5vZGU7XHJcbiAgICAgICAgICAgIHRyYXZlcnNlTm9kZShsaW5rZWQua2V5LCB0cmFuc2Zvcm1lcik7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcImxpbmtlZFwiIC8qIExJTktFRCAqLyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgNSAvKiBMaXN0ICovOlxyXG4gICAgICAgICAgICB0cmFuc2Zvcm1lci5oZWxwZXIoXCJpbnRlcnBvbGF0ZVwiIC8qIElOVEVSUE9MQVRFICovKTtcclxuICAgICAgICAgICAgdHJhbnNmb3JtZXIuaGVscGVyKFwibGlzdFwiIC8qIExJU1QgKi8pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDQgLyogTmFtZWQgKi86XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcImludGVycG9sYXRlXCIgLyogSU5URVJQT0xBVEUgKi8pO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm1lci5oZWxwZXIoXCJuYW1lZFwiIC8qIE5BTUVEICovKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICAvLyBUT0RPOiBpZiB3ZSBuZWVkIHBvc3QtaG9vayBvZiB0cmFuc2Zvcm0sIHNob3VsZCBiZSBpbXBsZW1lbnRlZCB0byBoZXJlXHJcbn1cclxuLy8gdHJhbnNmb3JtIEFTVFxyXG5mdW5jdGlvbiB0cmFuc2Zvcm0oYXN0LCBvcHRpb25zID0ge30gLy8gZXNsaW50LWRpc2FibGUtbGluZVxyXG4pIHtcclxuICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gY3JlYXRlVHJhbnNmb3JtZXIoYXN0KTtcclxuICAgIHRyYW5zZm9ybWVyLmhlbHBlcihcIm5vcm1hbGl6ZVwiIC8qIE5PUk1BTElaRSAqLyk7XHJcbiAgICAvLyB0cmF2ZXJzZVxyXG4gICAgYXN0LmJvZHkgJiYgdHJhdmVyc2VOb2RlKGFzdC5ib2R5LCB0cmFuc2Zvcm1lcik7XHJcbiAgICAvLyBzZXQgbWV0YSBpbmZvcm1hdGlvblxyXG4gICAgY29uc3QgY29udGV4dCA9IHRyYW5zZm9ybWVyLmNvbnRleHQoKTtcclxuICAgIGFzdC5oZWxwZXJzID0gQXJyYXkuZnJvbShjb250ZXh0LmhlbHBlcnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDb2RlR2VuZXJhdG9yKGFzdCwgb3B0aW9ucykge1xyXG4gICAgY29uc3QgeyBzb3VyY2VNYXAsIGZpbGVuYW1lLCBicmVha0xpbmVDb2RlLCBuZWVkSW5kZW50OiBfbmVlZEluZGVudCB9ID0gb3B0aW9ucztcclxuICAgIGNvbnN0IF9jb250ZXh0ID0ge1xyXG4gICAgICAgIHNvdXJjZTogYXN0LmxvYy5zb3VyY2UsXHJcbiAgICAgICAgZmlsZW5hbWUsXHJcbiAgICAgICAgY29kZTogJycsXHJcbiAgICAgICAgY29sdW1uOiAxLFxyXG4gICAgICAgIGxpbmU6IDEsXHJcbiAgICAgICAgb2Zmc2V0OiAwLFxyXG4gICAgICAgIG1hcDogdW5kZWZpbmVkLFxyXG4gICAgICAgIGJyZWFrTGluZUNvZGUsXHJcbiAgICAgICAgbmVlZEluZGVudDogX25lZWRJbmRlbnQsXHJcbiAgICAgICAgaW5kZW50TGV2ZWw6IDBcclxuICAgIH07XHJcbiAgICBjb25zdCBjb250ZXh0ID0gKCkgPT4gX2NvbnRleHQ7XHJcbiAgICBmdW5jdGlvbiBwdXNoKGNvZGUsIG5vZGUpIHtcclxuICAgICAgICBfY29udGV4dC5jb2RlICs9IGNvZGU7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBfbmV3bGluZShuLCB3aXRoQnJlYWtMaW5lID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IF9icmVha0xpbmVDb2RlID0gd2l0aEJyZWFrTGluZSA/IGJyZWFrTGluZUNvZGUgOiAnJztcclxuICAgICAgICBwdXNoKF9uZWVkSW5kZW50ID8gX2JyZWFrTGluZUNvZGUgKyBgICBgLnJlcGVhdChuKSA6IF9icmVha0xpbmVDb2RlKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGluZGVudCh3aXRoTmV3TGluZSA9IHRydWUpIHtcclxuICAgICAgICBjb25zdCBsZXZlbCA9ICsrX2NvbnRleHQuaW5kZW50TGV2ZWw7XHJcbiAgICAgICAgd2l0aE5ld0xpbmUgJiYgX25ld2xpbmUobGV2ZWwpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZGVpbmRlbnQod2l0aE5ld0xpbmUgPSB0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgbGV2ZWwgPSAtLV9jb250ZXh0LmluZGVudExldmVsO1xyXG4gICAgICAgIHdpdGhOZXdMaW5lICYmIF9uZXdsaW5lKGxldmVsKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG5ld2xpbmUoKSB7XHJcbiAgICAgICAgX25ld2xpbmUoX2NvbnRleHQuaW5kZW50TGV2ZWwpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaGVscGVyID0gKGtleSkgPT4gYF8ke2tleX1gO1xyXG4gICAgY29uc3QgbmVlZEluZGVudCA9ICgpID0+IF9jb250ZXh0Lm5lZWRJbmRlbnQ7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgcHVzaCxcclxuICAgICAgICBpbmRlbnQsXHJcbiAgICAgICAgZGVpbmRlbnQsXHJcbiAgICAgICAgbmV3bGluZSxcclxuICAgICAgICBoZWxwZXIsXHJcbiAgICAgICAgbmVlZEluZGVudFxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBnZW5lcmF0ZUxpbmtlZE5vZGUoZ2VuZXJhdG9yLCBub2RlKSB7XHJcbiAgICBjb25zdCB7IGhlbHBlciB9ID0gZ2VuZXJhdG9yO1xyXG4gICAgZ2VuZXJhdG9yLnB1c2goYCR7aGVscGVyKFwibGlua2VkXCIgLyogTElOS0VEICovKX0oYCk7XHJcbiAgICBnZW5lcmF0ZU5vZGUoZ2VuZXJhdG9yLCBub2RlLmtleSk7XHJcbiAgICBpZiAobm9kZS5tb2RpZmllcikge1xyXG4gICAgICAgIGdlbmVyYXRvci5wdXNoKGAsIGApO1xyXG4gICAgICAgIGdlbmVyYXRlTm9kZShnZW5lcmF0b3IsIG5vZGUubW9kaWZpZXIpO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdG9yLnB1c2goYClgKTtcclxufVxyXG5mdW5jdGlvbiBnZW5lcmF0ZU1lc3NhZ2VOb2RlKGdlbmVyYXRvciwgbm9kZSkge1xyXG4gICAgY29uc3QgeyBoZWxwZXIsIG5lZWRJbmRlbnQgfSA9IGdlbmVyYXRvcjtcclxuICAgIGdlbmVyYXRvci5wdXNoKGAke2hlbHBlcihcIm5vcm1hbGl6ZVwiIC8qIE5PUk1BTElaRSAqLyl9KFtgKTtcclxuICAgIGdlbmVyYXRvci5pbmRlbnQobmVlZEluZGVudCgpKTtcclxuICAgIGNvbnN0IGxlbmd0aCA9IG5vZGUuaXRlbXMubGVuZ3RoO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGdlbmVyYXRlTm9kZShnZW5lcmF0b3IsIG5vZGUuaXRlbXNbaV0pO1xyXG4gICAgICAgIGlmIChpID09PSBsZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnZW5lcmF0b3IucHVzaCgnLCAnKTtcclxuICAgIH1cclxuICAgIGdlbmVyYXRvci5kZWluZGVudChuZWVkSW5kZW50KCkpO1xyXG4gICAgZ2VuZXJhdG9yLnB1c2goJ10pJyk7XHJcbn1cclxuZnVuY3Rpb24gZ2VuZXJhdGVQbHVyYWxOb2RlKGdlbmVyYXRvciwgbm9kZSkge1xyXG4gICAgY29uc3QgeyBoZWxwZXIsIG5lZWRJbmRlbnQgfSA9IGdlbmVyYXRvcjtcclxuICAgIGlmIChub2RlLmNhc2VzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICBnZW5lcmF0b3IucHVzaChgJHtoZWxwZXIoXCJwbHVyYWxcIiAvKiBQTFVSQUwgKi8pfShbYCk7XHJcbiAgICAgICAgZ2VuZXJhdG9yLmluZGVudChuZWVkSW5kZW50KCkpO1xyXG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IG5vZGUuY2FzZXMubGVuZ3RoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZ2VuZXJhdGVOb2RlKGdlbmVyYXRvciwgbm9kZS5jYXNlc1tpXSk7XHJcbiAgICAgICAgICAgIGlmIChpID09PSBsZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnZW5lcmF0b3IucHVzaCgnLCAnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2VuZXJhdG9yLmRlaW5kZW50KG5lZWRJbmRlbnQoKSk7XHJcbiAgICAgICAgZ2VuZXJhdG9yLnB1c2goYF0pYCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2VuZXJhdGVSZXNvdXJjZShnZW5lcmF0b3IsIG5vZGUpIHtcclxuICAgIGlmIChub2RlLmJvZHkpIHtcclxuICAgICAgICBnZW5lcmF0ZU5vZGUoZ2VuZXJhdG9yLCBub2RlLmJvZHkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2VuZXJhdG9yLnB1c2goJ251bGwnKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZW5lcmF0ZU5vZGUoZ2VuZXJhdG9yLCBub2RlKSB7XHJcbiAgICBjb25zdCB7IGhlbHBlciB9ID0gZ2VuZXJhdG9yO1xyXG4gICAgc3dpdGNoIChub2RlLnR5cGUpIHtcclxuICAgICAgICBjYXNlIDAgLyogUmVzb3VyY2UgKi86XHJcbiAgICAgICAgICAgIGdlbmVyYXRlUmVzb3VyY2UoZ2VuZXJhdG9yLCBub2RlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxIC8qIFBsdXJhbCAqLzpcclxuICAgICAgICAgICAgZ2VuZXJhdGVQbHVyYWxOb2RlKGdlbmVyYXRvciwgbm9kZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMiAvKiBNZXNzYWdlICovOlxyXG4gICAgICAgICAgICBnZW5lcmF0ZU1lc3NhZ2VOb2RlKGdlbmVyYXRvciwgbm9kZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgNiAvKiBMaW5rZWQgKi86XHJcbiAgICAgICAgICAgIGdlbmVyYXRlTGlua2VkTm9kZShnZW5lcmF0b3IsIG5vZGUpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDggLyogTGlua2VkTW9kaWZpZXIgKi86XHJcbiAgICAgICAgICAgIGdlbmVyYXRvci5wdXNoKEpTT04uc3RyaW5naWZ5KG5vZGUudmFsdWUpLCBub2RlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA3IC8qIExpbmtlZEtleSAqLzpcclxuICAgICAgICAgICAgZ2VuZXJhdG9yLnB1c2goSlNPTi5zdHJpbmdpZnkobm9kZS52YWx1ZSksIG5vZGUpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDUgLyogTGlzdCAqLzpcclxuICAgICAgICAgICAgZ2VuZXJhdG9yLnB1c2goYCR7aGVscGVyKFwiaW50ZXJwb2xhdGVcIiAvKiBJTlRFUlBPTEFURSAqLyl9KCR7aGVscGVyKFwibGlzdFwiIC8qIExJU1QgKi8pfSgke25vZGUuaW5kZXh9KSlgLCBub2RlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA0IC8qIE5hbWVkICovOlxyXG4gICAgICAgICAgICBnZW5lcmF0b3IucHVzaChgJHtoZWxwZXIoXCJpbnRlcnBvbGF0ZVwiIC8qIElOVEVSUE9MQVRFICovKX0oJHtoZWxwZXIoXCJuYW1lZFwiIC8qIE5BTUVEICovKX0oJHtKU09OLnN0cmluZ2lmeShub2RlLmtleSl9KSlgLCBub2RlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA5IC8qIExpdGVyYWwgKi86XHJcbiAgICAgICAgICAgIGdlbmVyYXRvci5wdXNoKEpTT04uc3RyaW5naWZ5KG5vZGUudmFsdWUpLCBub2RlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAzIC8qIFRleHQgKi86XHJcbiAgICAgICAgICAgIGdlbmVyYXRvci5wdXNoKEpTT04uc3RyaW5naWZ5KG5vZGUudmFsdWUpLCBub2RlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmhhbmRsZWQgY29kZWdlbiBub2RlIHR5cGU6ICR7bm9kZS50eXBlfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8gZ2VuZXJhdGUgY29kZSBmcm9tIEFTVFxyXG5jb25zdCBnZW5lcmF0ZSA9IChhc3QsIG9wdGlvbnMgPSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXHJcbikgPT4ge1xyXG4gICAgY29uc3QgbW9kZSA9IGlzU3RyaW5nKG9wdGlvbnMubW9kZSkgPyBvcHRpb25zLm1vZGUgOiAnbm9ybWFsJztcclxuICAgIGNvbnN0IGZpbGVuYW1lID0gaXNTdHJpbmcob3B0aW9ucy5maWxlbmFtZSlcclxuICAgICAgICA/IG9wdGlvbnMuZmlsZW5hbWVcclxuICAgICAgICA6ICdtZXNzYWdlLmludGwnO1xyXG4gICAgY29uc3Qgc291cmNlTWFwID0gISFvcHRpb25zLnNvdXJjZU1hcDtcclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgY29uc3QgYnJlYWtMaW5lQ29kZSA9IG9wdGlvbnMuYnJlYWtMaW5lQ29kZSAhPSBudWxsXHJcbiAgICAgICAgPyBvcHRpb25zLmJyZWFrTGluZUNvZGVcclxuICAgICAgICA6IG1vZGUgPT09ICdhcnJvdydcclxuICAgICAgICAgICAgPyAnOydcclxuICAgICAgICAgICAgOiAnXFxuJztcclxuICAgIGNvbnN0IG5lZWRJbmRlbnQgPSBvcHRpb25zLm5lZWRJbmRlbnQgPyBvcHRpb25zLm5lZWRJbmRlbnQgOiBtb2RlICE9PSAnYXJyb3cnO1xyXG4gICAgY29uc3QgaGVscGVycyA9IGFzdC5oZWxwZXJzIHx8IFtdO1xyXG4gICAgY29uc3QgZ2VuZXJhdG9yID0gY3JlYXRlQ29kZUdlbmVyYXRvcihhc3QsIHtcclxuICAgICAgICBtb2RlLFxyXG4gICAgICAgIGZpbGVuYW1lLFxyXG4gICAgICAgIHNvdXJjZU1hcCxcclxuICAgICAgICBicmVha0xpbmVDb2RlLFxyXG4gICAgICAgIG5lZWRJbmRlbnRcclxuICAgIH0pO1xyXG4gICAgZ2VuZXJhdG9yLnB1c2gobW9kZSA9PT0gJ25vcm1hbCcgPyBgZnVuY3Rpb24gX19tc2dfXyAoY3R4KSB7YCA6IGAoY3R4KSA9PiB7YCk7XHJcbiAgICBnZW5lcmF0b3IuaW5kZW50KG5lZWRJbmRlbnQpO1xyXG4gICAgaWYgKGhlbHBlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGdlbmVyYXRvci5wdXNoKGBjb25zdCB7ICR7aGVscGVycy5tYXAocyA9PiBgJHtzfTogXyR7c31gKS5qb2luKCcsICcpfSB9ID0gY3R4YCk7XHJcbiAgICAgICAgZ2VuZXJhdG9yLm5ld2xpbmUoKTtcclxuICAgIH1cclxuICAgIGdlbmVyYXRvci5wdXNoKGByZXR1cm4gYCk7XHJcbiAgICBnZW5lcmF0ZU5vZGUoZ2VuZXJhdG9yLCBhc3QpO1xyXG4gICAgZ2VuZXJhdG9yLmRlaW5kZW50KG5lZWRJbmRlbnQpO1xyXG4gICAgZ2VuZXJhdG9yLnB1c2goYH1gKTtcclxuICAgIGNvbnN0IHsgY29kZSwgbWFwIH0gPSBnZW5lcmF0b3IuY29udGV4dCgpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBhc3QsXHJcbiAgICAgICAgY29kZSxcclxuICAgICAgICBtYXA6IG1hcCA/IG1hcC50b0pTT04oKSA6IHVuZGVmaW5lZCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgIH07XHJcbn07XHJcblxyXG5mdW5jdGlvbiBiYXNlQ29tcGlsZShzb3VyY2UsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgY29uc3QgYXNzaWduZWRPcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcclxuICAgIC8vIHBhcnNlIHNvdXJjZSBjb2Rlc1xyXG4gICAgY29uc3QgcGFyc2VyID0gY3JlYXRlUGFyc2VyKGFzc2lnbmVkT3B0aW9ucyk7XHJcbiAgICBjb25zdCBhc3QgPSBwYXJzZXIucGFyc2Uoc291cmNlKTtcclxuICAgIC8vIHRyYW5zZm9ybSBBU1RzXHJcbiAgICB0cmFuc2Zvcm0oYXN0LCBhc3NpZ25lZE9wdGlvbnMpO1xyXG4gICAgLy8gZ2VuZXJhdGUgamF2YXNjcmlwdCBjb2Rlc1xyXG4gICAgcmV0dXJuIGdlbmVyYXRlKGFzdCwgYXNzaWduZWRPcHRpb25zKTtcclxufVxyXG5cclxuZXhwb3J0IHsgRVJST1JfRE9NQUlOLCBMb2NhdGlvblN0dWIsIGJhc2VDb21waWxlLCBjcmVhdGVDb21waWxlRXJyb3IsIGNyZWF0ZUxvY2F0aW9uLCBjcmVhdGVQYXJzZXIsIGNyZWF0ZVBvc2l0aW9uLCBkZWZhdWx0T25FcnJvciwgZXJyb3JNZXNzYWdlcyB9O1xyXG4iLCIvKiFcclxuICAqIEBpbnRsaWZ5L2RldnRvb2xzLWlmIHY5LjEuOVxyXG4gICogKGMpIDIwMjEga2F6dXlhIGthd2FndWNoaVxyXG4gICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gICovXHJcbmNvbnN0IEludGxpZnlEZXZUb29sc0hvb2tzID0ge1xyXG4gICAgSTE4bkluaXQ6ICdpMThuOmluaXQnLFxyXG4gICAgRnVuY3Rpb25UcmFuc2xhdGU6ICdmdW5jdGlvbjp0cmFuc2xhdGUnXHJcbn07XHJcblxyXG5leHBvcnQgeyBJbnRsaWZ5RGV2VG9vbHNIb29rcyB9O1xyXG4iLCIvKiFcclxuICAqIEBpbnRsaWZ5L2NvcmUtYmFzZSB2OS4xLjlcclxuICAqIChjKSAyMDIxIGthenV5YSBrYXdhZ3VjaGlcclxuICAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICAqL1xyXG5pbXBvcnQgeyBmb3JtYXQsIGlzU3RyaW5nLCBpc0FycmF5LCBpc1BsYWluT2JqZWN0LCBhc3NpZ24sIGlzRnVuY3Rpb24sIGlzQm9vbGVhbiwgaXNSZWdFeHAsIHdhcm4sIGlzT2JqZWN0LCBlc2NhcGVIdG1sLCBpbkJyb3dzZXIsIG1hcmssIG1lYXN1cmUsIGdlbmVyYXRlQ29kZUZyYW1lLCBnZW5lcmF0ZUZvcm1hdENhY2hlS2V5LCBpc051bWJlciwgaXNFbXB0eU9iamVjdCwgaXNEYXRlLCBnZXRHbG9iYWxUaGlzIH0gZnJvbSAnQGludGxpZnkvc2hhcmVkJztcclxuaW1wb3J0IHsgcmVzb2x2ZVZhbHVlIH0gZnJvbSAnQGludGxpZnkvbWVzc2FnZS1yZXNvbHZlcic7XHJcbmV4cG9ydCAqIGZyb20gJ0BpbnRsaWZ5L21lc3NhZ2UtcmVzb2x2ZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVNZXNzYWdlQ29udGV4dCB9IGZyb20gJ0BpbnRsaWZ5L3J1bnRpbWUnO1xyXG5leHBvcnQgKiBmcm9tICdAaW50bGlmeS9ydW50aW1lJztcclxuaW1wb3J0IHsgZGVmYXVsdE9uRXJyb3IsIGJhc2VDb21waWxlLCBjcmVhdGVDb21waWxlRXJyb3IgfSBmcm9tICdAaW50bGlmeS9tZXNzYWdlLWNvbXBpbGVyJztcclxuZXhwb3J0IHsgY3JlYXRlQ29tcGlsZUVycm9yIH0gZnJvbSAnQGludGxpZnkvbWVzc2FnZS1jb21waWxlcic7XHJcbmltcG9ydCB7IEludGxpZnlEZXZUb29sc0hvb2tzIH0gZnJvbSAnQGludGxpZnkvZGV2dG9vbHMtaWYnO1xyXG5cclxubGV0IGRldnRvb2xzID0gbnVsbDtcclxuZnVuY3Rpb24gc2V0RGV2VG9vbHNIb29rKGhvb2spIHtcclxuICAgIGRldnRvb2xzID0gaG9vaztcclxufVxyXG5mdW5jdGlvbiBnZXREZXZUb29sc0hvb2soKSB7XHJcbiAgICByZXR1cm4gZGV2dG9vbHM7XHJcbn1cclxuZnVuY3Rpb24gaW5pdEkxOG5EZXZUb29scyhpMThuLCB2ZXJzaW9uLCBtZXRhKSB7XHJcbiAgICAvLyBUT0RPOiBxdWV1ZSBpZiBkZXZ0b29scyBpcyB1bmRlZmluZWRcclxuICAgIGRldnRvb2xzICYmXHJcbiAgICAgICAgZGV2dG9vbHMuZW1pdChJbnRsaWZ5RGV2VG9vbHNIb29rcy5JMThuSW5pdCwge1xyXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgIGkxOG4sXHJcbiAgICAgICAgICAgIHZlcnNpb24sXHJcbiAgICAgICAgICAgIG1ldGFcclxuICAgICAgICB9KTtcclxufVxyXG5jb25zdCB0cmFuc2xhdGVEZXZUb29scyA9IC8qICNfX1BVUkVfXyovIGNyZWF0ZURldlRvb2xzSG9vayhJbnRsaWZ5RGV2VG9vbHNIb29rcy5GdW5jdGlvblRyYW5zbGF0ZSk7XHJcbmZ1bmN0aW9uIGNyZWF0ZURldlRvb2xzSG9vayhob29rKSB7XHJcbiAgICByZXR1cm4gKHBheWxvYWRzKSA9PiBkZXZ0b29scyAmJiBkZXZ0b29scy5lbWl0KGhvb2ssIHBheWxvYWRzKTtcclxufVxyXG5cclxuLyoqIEBpbnRlcm5hbCAqL1xyXG5jb25zdCB3YXJuTWVzc2FnZXMgPSB7XHJcbiAgICBbMCAvKiBOT1RfRk9VTkRfS0VZICovXTogYE5vdCBmb3VuZCAne2tleX0nIGtleSBpbiAne2xvY2FsZX0nIGxvY2FsZSBtZXNzYWdlcy5gLFxyXG4gICAgWzEgLyogRkFMTEJBQ0tfVE9fVFJBTlNMQVRFICovXTogYEZhbGwgYmFjayB0byB0cmFuc2xhdGUgJ3trZXl9JyBrZXkgd2l0aCAne3RhcmdldH0nIGxvY2FsZS5gLFxyXG4gICAgWzIgLyogQ0FOTk9UX0ZPUk1BVF9OVU1CRVIgKi9dOiBgQ2Fubm90IGZvcm1hdCBhIG51bWJlciB2YWx1ZSBkdWUgdG8gbm90IHN1cHBvcnRlZCBJbnRsLk51bWJlckZvcm1hdC5gLFxyXG4gICAgWzMgLyogRkFMTEJBQ0tfVE9fTlVNQkVSX0ZPUk1BVCAqL106IGBGYWxsIGJhY2sgdG8gbnVtYmVyIGZvcm1hdCAne2tleX0nIGtleSB3aXRoICd7dGFyZ2V0fScgbG9jYWxlLmAsXHJcbiAgICBbNCAvKiBDQU5OT1RfRk9STUFUX0RBVEUgKi9dOiBgQ2Fubm90IGZvcm1hdCBhIGRhdGUgdmFsdWUgZHVlIHRvIG5vdCBzdXBwb3J0ZWQgSW50bC5EYXRlVGltZUZvcm1hdC5gLFxyXG4gICAgWzUgLyogRkFMTEJBQ0tfVE9fREFURV9GT1JNQVQgKi9dOiBgRmFsbCBiYWNrIHRvIGRhdGV0aW1lIGZvcm1hdCAne2tleX0nIGtleSB3aXRoICd7dGFyZ2V0fScgbG9jYWxlLmBcclxufTtcclxuZnVuY3Rpb24gZ2V0V2Fybk1lc3NhZ2UoY29kZSwgLi4uYXJncykge1xyXG4gICAgcmV0dXJuIGZvcm1hdCh3YXJuTWVzc2FnZXNbY29kZV0sIC4uLmFyZ3MpO1xyXG59XHJcblxyXG4vKipcclxuICogSW50bGlmeSBjb3JlLWJhc2UgdmVyc2lvblxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmNvbnN0IFZFUlNJT04gPSAnOS4xLjknO1xyXG5jb25zdCBOT1RfUkVPU0xWRUQgPSAtMTtcclxuY29uc3QgTUlTU0lOR19SRVNPTFZFX1ZBTFVFID0gJyc7XHJcbmZ1bmN0aW9uIGdldERlZmF1bHRMaW5rZWRNb2RpZmllcnMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHVwcGVyOiAodmFsKSA9PiAoaXNTdHJpbmcodmFsKSA/IHZhbC50b1VwcGVyQ2FzZSgpIDogdmFsKSxcclxuICAgICAgICBsb3dlcjogKHZhbCkgPT4gKGlzU3RyaW5nKHZhbCkgPyB2YWwudG9Mb3dlckNhc2UoKSA6IHZhbCksXHJcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICAgICAgY2FwaXRhbGl6ZTogKHZhbCkgPT4gKGlzU3RyaW5nKHZhbClcclxuICAgICAgICAgICAgPyBgJHt2YWwuY2hhckF0KDApLnRvTG9jYWxlVXBwZXJDYXNlKCl9JHt2YWwuc3Vic3RyKDEpfWBcclxuICAgICAgICAgICAgOiB2YWwpXHJcbiAgICB9O1xyXG59XHJcbmxldCBfY29tcGlsZXI7XHJcbmZ1bmN0aW9uIHJlZ2lzdGVyTWVzc2FnZUNvbXBpbGVyKGNvbXBpbGVyKSB7XHJcbiAgICBfY29tcGlsZXIgPSBjb21waWxlcjtcclxufVxyXG4vLyBBZGRpdGlvbmFsIE1ldGEgZm9yIEludGxpZnkgRGV2VG9vbHNcclxubGV0IF9hZGRpdGlvbmFsTWV0YSA9IG51bGw7XHJcbmNvbnN0IHNldEFkZGl0aW9uYWxNZXRhID0gLyogI19fUFVSRV9fKi8gKG1ldGEpID0+IHtcclxuICAgIF9hZGRpdGlvbmFsTWV0YSA9IG1ldGE7XHJcbn07XHJcbmNvbnN0IGdldEFkZGl0aW9uYWxNZXRhID0gLyogI19fUFVSRV9fKi8gKCkgPT4gX2FkZGl0aW9uYWxNZXRhO1xyXG4vLyBJRCBmb3IgQ29yZUNvbnRleHRcclxubGV0IF9jaWQgPSAwO1xyXG5mdW5jdGlvbiBjcmVhdGVDb3JlQ29udGV4dChvcHRpb25zID0ge30pIHtcclxuICAgIC8vIHNldHVwIG9wdGlvbnNcclxuICAgIGNvbnN0IHZlcnNpb24gPSBpc1N0cmluZyhvcHRpb25zLnZlcnNpb24pID8gb3B0aW9ucy52ZXJzaW9uIDogVkVSU0lPTjtcclxuICAgIGNvbnN0IGxvY2FsZSA9IGlzU3RyaW5nKG9wdGlvbnMubG9jYWxlKSA/IG9wdGlvbnMubG9jYWxlIDogJ2VuLVVTJztcclxuICAgIGNvbnN0IGZhbGxiYWNrTG9jYWxlID0gaXNBcnJheShvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxyXG4gICAgICAgIGlzUGxhaW5PYmplY3Qob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcclxuICAgICAgICBpc1N0cmluZyhvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxyXG4gICAgICAgIG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUgPT09IGZhbHNlXHJcbiAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrTG9jYWxlXHJcbiAgICAgICAgOiBsb2NhbGU7XHJcbiAgICBjb25zdCBtZXNzYWdlcyA9IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5tZXNzYWdlcylcclxuICAgICAgICA/IG9wdGlvbnMubWVzc2FnZXNcclxuICAgICAgICA6IHsgW2xvY2FsZV06IHt9IH07XHJcbiAgICBjb25zdCBkYXRldGltZUZvcm1hdHMgPSBpc1BsYWluT2JqZWN0KG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzKVxyXG4gICAgICAgID8gb3B0aW9ucy5kYXRldGltZUZvcm1hdHNcclxuICAgICAgICA6IHsgW2xvY2FsZV06IHt9IH07XHJcbiAgICBjb25zdCBudW1iZXJGb3JtYXRzID0gaXNQbGFpbk9iamVjdChvcHRpb25zLm51bWJlckZvcm1hdHMpXHJcbiAgICAgICAgPyBvcHRpb25zLm51bWJlckZvcm1hdHNcclxuICAgICAgICA6IHsgW2xvY2FsZV06IHt9IH07XHJcbiAgICBjb25zdCBtb2RpZmllcnMgPSBhc3NpZ24oe30sIG9wdGlvbnMubW9kaWZpZXJzIHx8IHt9LCBnZXREZWZhdWx0TGlua2VkTW9kaWZpZXJzKCkpO1xyXG4gICAgY29uc3QgcGx1cmFsUnVsZXMgPSBvcHRpb25zLnBsdXJhbFJ1bGVzIHx8IHt9O1xyXG4gICAgY29uc3QgbWlzc2luZyA9IGlzRnVuY3Rpb24ob3B0aW9ucy5taXNzaW5nKSA/IG9wdGlvbnMubWlzc2luZyA6IG51bGw7XHJcbiAgICBjb25zdCBtaXNzaW5nV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLm1pc3NpbmdXYXJuKSB8fCBpc1JlZ0V4cChvcHRpb25zLm1pc3NpbmdXYXJuKVxyXG4gICAgICAgID8gb3B0aW9ucy5taXNzaW5nV2FyblxyXG4gICAgICAgIDogdHJ1ZTtcclxuICAgIGNvbnN0IGZhbGxiYWNrV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLmZhbGxiYWNrV2FybikgfHwgaXNSZWdFeHAob3B0aW9ucy5mYWxsYmFja1dhcm4pXHJcbiAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrV2FyblxyXG4gICAgICAgIDogdHJ1ZTtcclxuICAgIGNvbnN0IGZhbGxiYWNrRm9ybWF0ID0gISFvcHRpb25zLmZhbGxiYWNrRm9ybWF0O1xyXG4gICAgY29uc3QgdW5yZXNvbHZpbmcgPSAhIW9wdGlvbnMudW5yZXNvbHZpbmc7XHJcbiAgICBjb25zdCBwb3N0VHJhbnNsYXRpb24gPSBpc0Z1bmN0aW9uKG9wdGlvbnMucG9zdFRyYW5zbGF0aW9uKVxyXG4gICAgICAgID8gb3B0aW9ucy5wb3N0VHJhbnNsYXRpb25cclxuICAgICAgICA6IG51bGw7XHJcbiAgICBjb25zdCBwcm9jZXNzb3IgPSBpc1BsYWluT2JqZWN0KG9wdGlvbnMucHJvY2Vzc29yKSA/IG9wdGlvbnMucHJvY2Vzc29yIDogbnVsbDtcclxuICAgIGNvbnN0IHdhcm5IdG1sTWVzc2FnZSA9IGlzQm9vbGVhbihvcHRpb25zLndhcm5IdG1sTWVzc2FnZSlcclxuICAgICAgICA/IG9wdGlvbnMud2Fybkh0bWxNZXNzYWdlXHJcbiAgICAgICAgOiB0cnVlO1xyXG4gICAgY29uc3QgZXNjYXBlUGFyYW1ldGVyID0gISFvcHRpb25zLmVzY2FwZVBhcmFtZXRlcjtcclxuICAgIGNvbnN0IG1lc3NhZ2VDb21waWxlciA9IGlzRnVuY3Rpb24ob3B0aW9ucy5tZXNzYWdlQ29tcGlsZXIpXHJcbiAgICAgICAgPyBvcHRpb25zLm1lc3NhZ2VDb21waWxlclxyXG4gICAgICAgIDogX2NvbXBpbGVyO1xyXG4gICAgY29uc3Qgb25XYXJuID0gaXNGdW5jdGlvbihvcHRpb25zLm9uV2FybikgPyBvcHRpb25zLm9uV2FybiA6IHdhcm47XHJcbiAgICAvLyBzZXR1cCBpbnRlcm5hbCBvcHRpb25zXHJcbiAgICBjb25zdCBpbnRlcm5hbE9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgY29uc3QgX19kYXRldGltZUZvcm1hdHRlcnMgPSBpc09iamVjdChpbnRlcm5hbE9wdGlvbnMuX19kYXRldGltZUZvcm1hdHRlcnMpXHJcbiAgICAgICAgPyBpbnRlcm5hbE9wdGlvbnMuX19kYXRldGltZUZvcm1hdHRlcnNcclxuICAgICAgICA6IG5ldyBNYXAoKTtcclxuICAgIGNvbnN0IF9fbnVtYmVyRm9ybWF0dGVycyA9IGlzT2JqZWN0KGludGVybmFsT3B0aW9ucy5fX251bWJlckZvcm1hdHRlcnMpXHJcbiAgICAgICAgPyBpbnRlcm5hbE9wdGlvbnMuX19udW1iZXJGb3JtYXR0ZXJzXHJcbiAgICAgICAgOiBuZXcgTWFwKCk7XHJcbiAgICBjb25zdCBfX21ldGEgPSBpc09iamVjdChpbnRlcm5hbE9wdGlvbnMuX19tZXRhKSA/IGludGVybmFsT3B0aW9ucy5fX21ldGEgOiB7fTtcclxuICAgIF9jaWQrKztcclxuICAgIGNvbnN0IGNvbnRleHQgPSB7XHJcbiAgICAgICAgdmVyc2lvbixcclxuICAgICAgICBjaWQ6IF9jaWQsXHJcbiAgICAgICAgbG9jYWxlLFxyXG4gICAgICAgIGZhbGxiYWNrTG9jYWxlLFxyXG4gICAgICAgIG1lc3NhZ2VzLFxyXG4gICAgICAgIGRhdGV0aW1lRm9ybWF0cyxcclxuICAgICAgICBudW1iZXJGb3JtYXRzLFxyXG4gICAgICAgIG1vZGlmaWVycyxcclxuICAgICAgICBwbHVyYWxSdWxlcyxcclxuICAgICAgICBtaXNzaW5nLFxyXG4gICAgICAgIG1pc3NpbmdXYXJuLFxyXG4gICAgICAgIGZhbGxiYWNrV2FybixcclxuICAgICAgICBmYWxsYmFja0Zvcm1hdCxcclxuICAgICAgICB1bnJlc29sdmluZyxcclxuICAgICAgICBwb3N0VHJhbnNsYXRpb24sXHJcbiAgICAgICAgcHJvY2Vzc29yLFxyXG4gICAgICAgIHdhcm5IdG1sTWVzc2FnZSxcclxuICAgICAgICBlc2NhcGVQYXJhbWV0ZXIsXHJcbiAgICAgICAgbWVzc2FnZUNvbXBpbGVyLFxyXG4gICAgICAgIG9uV2FybixcclxuICAgICAgICBfX2RhdGV0aW1lRm9ybWF0dGVycyxcclxuICAgICAgICBfX251bWJlckZvcm1hdHRlcnMsXHJcbiAgICAgICAgX19tZXRhXHJcbiAgICB9O1xyXG4gICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnRleHQuX192X2VtaXR0ZXIgPVxyXG4gICAgICAgICAgICBpbnRlcm5hbE9wdGlvbnMuX192X2VtaXR0ZXIgIT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgPyBpbnRlcm5hbE9wdGlvbnMuX192X2VtaXR0ZXJcclxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgLy8gTk9URTogZXhwZXJpbWVudGFsICEhXHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICBpbml0STE4bkRldlRvb2xzKGNvbnRleHQsIHZlcnNpb24sIF9fbWV0YSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29udGV4dDtcclxufVxyXG4vKiogQGludGVybmFsICovXHJcbmZ1bmN0aW9uIGlzVHJhbnNsYXRlRmFsbGJhY2tXYXJuKGZhbGxiYWNrLCBrZXkpIHtcclxuICAgIHJldHVybiBmYWxsYmFjayBpbnN0YW5jZW9mIFJlZ0V4cCA/IGZhbGxiYWNrLnRlc3Qoa2V5KSA6IGZhbGxiYWNrO1xyXG59XHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuZnVuY3Rpb24gaXNUcmFuc2xhdGVNaXNzaW5nV2FybihtaXNzaW5nLCBrZXkpIHtcclxuICAgIHJldHVybiBtaXNzaW5nIGluc3RhbmNlb2YgUmVnRXhwID8gbWlzc2luZy50ZXN0KGtleSkgOiBtaXNzaW5nO1xyXG59XHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuZnVuY3Rpb24gaGFuZGxlTWlzc2luZyhjb250ZXh0LCBrZXksIGxvY2FsZSwgbWlzc2luZ1dhcm4sIHR5cGUpIHtcclxuICAgIGNvbnN0IHsgbWlzc2luZywgb25XYXJuIH0gPSBjb250ZXh0O1xyXG4gICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjb250ZXh0Ll9fdl9lbWl0dGVyO1xyXG4gICAgICAgIGlmIChlbWl0dGVyKSB7XHJcbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcIm1pc3NpbmdcIiAvKiBNSVNTSU5HICovLCB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbGUsXHJcbiAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICAgICAgZ3JvdXBJZDogYCR7dHlwZX06JHtrZXl9YFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobWlzc2luZyAhPT0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IHJldCA9IG1pc3NpbmcoY29udGV4dCwgbG9jYWxlLCBrZXksIHR5cGUpO1xyXG4gICAgICAgIHJldHVybiBpc1N0cmluZyhyZXQpID8gcmV0IDoga2V5O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc1RyYW5zbGF0ZU1pc3NpbmdXYXJuKG1pc3NpbmdXYXJuLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIG9uV2FybihnZXRXYXJuTWVzc2FnZSgwIC8qIE5PVF9GT1VORF9LRVkgKi8sIHsga2V5LCBsb2NhbGUgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ga2V5O1xyXG4gICAgfVxyXG59XHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuZnVuY3Rpb24gZ2V0TG9jYWxlQ2hhaW4oY3R4LCBmYWxsYmFjaywgc3RhcnQpIHtcclxuICAgIGNvbnN0IGNvbnRleHQgPSBjdHg7XHJcbiAgICBpZiAoIWNvbnRleHQuX19sb2NhbGVDaGFpbkNhY2hlKSB7XHJcbiAgICAgICAgY29udGV4dC5fX2xvY2FsZUNoYWluQ2FjaGUgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICBsZXQgY2hhaW4gPSBjb250ZXh0Ll9fbG9jYWxlQ2hhaW5DYWNoZS5nZXQoc3RhcnQpO1xyXG4gICAgaWYgKCFjaGFpbikge1xyXG4gICAgICAgIGNoYWluID0gW107XHJcbiAgICAgICAgLy8gZmlyc3QgYmxvY2sgZGVmaW5lZCBieSBzdGFydFxyXG4gICAgICAgIGxldCBibG9jayA9IFtzdGFydF07XHJcbiAgICAgICAgLy8gd2hpbGUgYW55IGludGVydmVuaW5nIGJsb2NrIGZvdW5kXHJcbiAgICAgICAgd2hpbGUgKGlzQXJyYXkoYmxvY2spKSB7XHJcbiAgICAgICAgICAgIGJsb2NrID0gYXBwZW5kQmxvY2tUb0NoYWluKGNoYWluLCBibG9jaywgZmFsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgICAgICAvLyBsYXN0IGJsb2NrIGRlZmluZWQgYnkgZGVmYXVsdFxyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRzID0gaXNBcnJheShmYWxsYmFjaylcclxuICAgICAgICAgICAgPyBmYWxsYmFja1xyXG4gICAgICAgICAgICA6IGlzUGxhaW5PYmplY3QoZmFsbGJhY2spXHJcbiAgICAgICAgICAgICAgICA/IGZhbGxiYWNrWydkZWZhdWx0J11cclxuICAgICAgICAgICAgICAgICAgICA/IGZhbGxiYWNrWydkZWZhdWx0J11cclxuICAgICAgICAgICAgICAgICAgICA6IG51bGxcclxuICAgICAgICAgICAgICAgIDogZmFsbGJhY2s7XHJcbiAgICAgICAgLy8gY29udmVydCBkZWZhdWx0cyB0byBhcnJheVxyXG4gICAgICAgIGJsb2NrID0gaXNTdHJpbmcoZGVmYXVsdHMpID8gW2RlZmF1bHRzXSA6IGRlZmF1bHRzO1xyXG4gICAgICAgIGlmIChpc0FycmF5KGJsb2NrKSkge1xyXG4gICAgICAgICAgICBhcHBlbmRCbG9ja1RvQ2hhaW4oY2hhaW4sIGJsb2NrLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRleHQuX19sb2NhbGVDaGFpbkNhY2hlLnNldChzdGFydCwgY2hhaW4pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNoYWluO1xyXG59XHJcbmZ1bmN0aW9uIGFwcGVuZEJsb2NrVG9DaGFpbihjaGFpbiwgYmxvY2ssIGJsb2Nrcykge1xyXG4gICAgbGV0IGZvbGxvdyA9IHRydWU7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJsb2NrLmxlbmd0aCAmJiBpc0Jvb2xlYW4oZm9sbG93KTsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgbG9jYWxlID0gYmxvY2tbaV07XHJcbiAgICAgICAgaWYgKGlzU3RyaW5nKGxvY2FsZSkpIHtcclxuICAgICAgICAgICAgZm9sbG93ID0gYXBwZW5kTG9jYWxlVG9DaGFpbihjaGFpbiwgYmxvY2tbaV0sIGJsb2Nrcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZvbGxvdztcclxufVxyXG5mdW5jdGlvbiBhcHBlbmRMb2NhbGVUb0NoYWluKGNoYWluLCBsb2NhbGUsIGJsb2Nrcykge1xyXG4gICAgbGV0IGZvbGxvdztcclxuICAgIGNvbnN0IHRva2VucyA9IGxvY2FsZS5zcGxpdCgnLScpO1xyXG4gICAgZG8ge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRva2Vucy5qb2luKCctJyk7XHJcbiAgICAgICAgZm9sbG93ID0gYXBwZW5kSXRlbVRvQ2hhaW4oY2hhaW4sIHRhcmdldCwgYmxvY2tzKTtcclxuICAgICAgICB0b2tlbnMuc3BsaWNlKC0xLCAxKTtcclxuICAgIH0gd2hpbGUgKHRva2Vucy5sZW5ndGggJiYgZm9sbG93ID09PSB0cnVlKTtcclxuICAgIHJldHVybiBmb2xsb3c7XHJcbn1cclxuZnVuY3Rpb24gYXBwZW5kSXRlbVRvQ2hhaW4oY2hhaW4sIHRhcmdldCwgYmxvY2tzKSB7XHJcbiAgICBsZXQgZm9sbG93ID0gZmFsc2U7XHJcbiAgICBpZiAoIWNoYWluLmluY2x1ZGVzKHRhcmdldCkpIHtcclxuICAgICAgICBmb2xsb3cgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgZm9sbG93ID0gdGFyZ2V0W3RhcmdldC5sZW5ndGggLSAxXSAhPT0gJyEnO1xyXG4gICAgICAgICAgICBjb25zdCBsb2NhbGUgPSB0YXJnZXQucmVwbGFjZSgvIS9nLCAnJyk7XHJcbiAgICAgICAgICAgIGNoYWluLnB1c2gobG9jYWxlKTtcclxuICAgICAgICAgICAgaWYgKChpc0FycmF5KGJsb2NrcykgfHwgaXNQbGFpbk9iamVjdChibG9ja3MpKSAmJlxyXG4gICAgICAgICAgICAgICAgYmxvY2tzW2xvY2FsZV0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgICAgIGZvbGxvdyA9IGJsb2Nrc1tsb2NhbGVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZvbGxvdztcclxufVxyXG4vKiogQGludGVybmFsICovXHJcbmZ1bmN0aW9uIHVwZGF0ZUZhbGxiYWNrTG9jYWxlKGN0eCwgbG9jYWxlLCBmYWxsYmFjaykge1xyXG4gICAgY29uc3QgY29udGV4dCA9IGN0eDtcclxuICAgIGNvbnRleHQuX19sb2NhbGVDaGFpbkNhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgZ2V0TG9jYWxlQ2hhaW4oY3R4LCBmYWxsYmFjaywgbG9jYWxlKTtcclxufVxyXG5cclxuY29uc3QgUkVfSFRNTF9UQUcgPSAvPFxcLz9bXFx3XFxzPVwiLy4nOjsjLVxcL10rPi87XHJcbmNvbnN0IFdBUk5fTUVTU0FHRSA9IGBEZXRlY3RlZCBIVE1MIGluICd7c291cmNlfScgbWVzc2FnZS4gUmVjb21tZW5kIG5vdCB1c2luZyBIVE1MIG1lc3NhZ2VzIHRvIGF2b2lkIFhTUy5gO1xyXG5mdW5jdGlvbiBjaGVja0h0bWxNZXNzYWdlKHNvdXJjZSwgb3B0aW9ucykge1xyXG4gICAgY29uc3Qgd2Fybkh0bWxNZXNzYWdlID0gaXNCb29sZWFuKG9wdGlvbnMud2Fybkh0bWxNZXNzYWdlKVxyXG4gICAgICAgID8gb3B0aW9ucy53YXJuSHRtbE1lc3NhZ2VcclxuICAgICAgICA6IHRydWU7XHJcbiAgICBpZiAod2Fybkh0bWxNZXNzYWdlICYmIFJFX0hUTUxfVEFHLnRlc3Qoc291cmNlKSkge1xyXG4gICAgICAgIHdhcm4oZm9ybWF0KFdBUk5fTUVTU0FHRSwgeyBzb3VyY2UgfSkpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGRlZmF1bHRPbkNhY2hlS2V5ID0gKHNvdXJjZSkgPT4gc291cmNlO1xyXG5sZXQgY29tcGlsZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuZnVuY3Rpb24gY2xlYXJDb21waWxlQ2FjaGUoKSB7XHJcbiAgICBjb21waWxlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG59XHJcbmZ1bmN0aW9uIGNvbXBpbGVUb0Z1bmN0aW9uKHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICB7XHJcbiAgICAgICAgLy8gY2hlY2sgSFRNTCBtZXNzYWdlXHJcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNoZWNrSHRtbE1lc3NhZ2Uoc291cmNlLCBvcHRpb25zKTtcclxuICAgICAgICAvLyBjaGVjayBjYWNoZXNcclxuICAgICAgICBjb25zdCBvbkNhY2hlS2V5ID0gb3B0aW9ucy5vbkNhY2hlS2V5IHx8IGRlZmF1bHRPbkNhY2hlS2V5O1xyXG4gICAgICAgIGNvbnN0IGtleSA9IG9uQ2FjaGVLZXkoc291cmNlKTtcclxuICAgICAgICBjb25zdCBjYWNoZWQgPSBjb21waWxlQ2FjaGVba2V5XTtcclxuICAgICAgICBpZiAoY2FjaGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbXBpbGUgZXJyb3IgZGV0ZWN0aW5nXHJcbiAgICAgICAgbGV0IG9jY3VycmVkID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3Qgb25FcnJvciA9IG9wdGlvbnMub25FcnJvciB8fCBkZWZhdWx0T25FcnJvcjtcclxuICAgICAgICBvcHRpb25zLm9uRXJyb3IgPSAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIG9jY3VycmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgb25FcnJvcihlcnIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gY29tcGlsZVxyXG4gICAgICAgIGNvbnN0IHsgY29kZSB9ID0gYmFzZUNvbXBpbGUoc291cmNlLCBvcHRpb25zKTtcclxuICAgICAgICAvLyBldmFsdWF0ZSBmdW5jdGlvblxyXG4gICAgICAgIGNvbnN0IG1zZyA9IG5ldyBGdW5jdGlvbihgcmV0dXJuICR7Y29kZX1gKSgpO1xyXG4gICAgICAgIC8vIGlmIG9jY3VycmVkIGNvbXBpbGUgZXJyb3IsIGRvbid0IGNhY2hlXHJcbiAgICAgICAgcmV0dXJuICFvY2N1cnJlZCA/IChjb21waWxlQ2FjaGVba2V5XSA9IG1zZykgOiBtc2c7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNvcmVFcnJvcihjb2RlKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlQ29tcGlsZUVycm9yKGNvZGUsIG51bGwsIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHsgbWVzc2FnZXM6IGVycm9yTWVzc2FnZXMgfSA6IHVuZGVmaW5lZCk7XHJcbn1cclxuLyoqIEBpbnRlcm5hbCAqL1xyXG5jb25zdCBlcnJvck1lc3NhZ2VzID0ge1xyXG4gICAgWzE0IC8qIElOVkFMSURfQVJHVU1FTlQgKi9dOiAnSW52YWxpZCBhcmd1bWVudHMnLFxyXG4gICAgWzE1IC8qIElOVkFMSURfREFURV9BUkdVTUVOVCAqL106ICdUaGUgZGF0ZSBwcm92aWRlZCBpcyBhbiBpbnZhbGlkIERhdGUgb2JqZWN0LicgK1xyXG4gICAgICAgICdNYWtlIHN1cmUgeW91ciBEYXRlIHJlcHJlc2VudHMgYSB2YWxpZCBkYXRlLicsXHJcbiAgICBbMTYgLyogSU5WQUxJRF9JU09fREFURV9BUkdVTUVOVCAqL106ICdUaGUgYXJndW1lbnQgcHJvdmlkZWQgaXMgbm90IGEgdmFsaWQgSVNPIGRhdGUgc3RyaW5nJ1xyXG59O1xyXG5cclxuY29uc3QgTk9PUF9NRVNTQUdFX0ZVTkNUSU9OID0gKCkgPT4gJyc7XHJcbmNvbnN0IGlzTWVzc2FnZUZ1bmN0aW9uID0gKHZhbCkgPT4gaXNGdW5jdGlvbih2YWwpO1xyXG4vLyBpbXBsZW1lbnRhdGlvbiBvZiBgdHJhbnNsYXRlYCBmdW5jdGlvblxyXG5mdW5jdGlvbiB0cmFuc2xhdGUoY29udGV4dCwgLi4uYXJncykge1xyXG4gICAgY29uc3QgeyBmYWxsYmFja0Zvcm1hdCwgcG9zdFRyYW5zbGF0aW9uLCB1bnJlc29sdmluZywgZmFsbGJhY2tMb2NhbGUsIG1lc3NhZ2VzIH0gPSBjb250ZXh0O1xyXG4gICAgY29uc3QgW2tleSwgb3B0aW9uc10gPSBwYXJzZVRyYW5zbGF0ZUFyZ3MoLi4uYXJncyk7XHJcbiAgICBjb25zdCBtaXNzaW5nV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLm1pc3NpbmdXYXJuKVxyXG4gICAgICAgID8gb3B0aW9ucy5taXNzaW5nV2FyblxyXG4gICAgICAgIDogY29udGV4dC5taXNzaW5nV2FybjtcclxuICAgIGNvbnN0IGZhbGxiYWNrV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLmZhbGxiYWNrV2FybilcclxuICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tXYXJuXHJcbiAgICAgICAgOiBjb250ZXh0LmZhbGxiYWNrV2FybjtcclxuICAgIGNvbnN0IGVzY2FwZVBhcmFtZXRlciA9IGlzQm9vbGVhbihvcHRpb25zLmVzY2FwZVBhcmFtZXRlcilcclxuICAgICAgICA/IG9wdGlvbnMuZXNjYXBlUGFyYW1ldGVyXHJcbiAgICAgICAgOiBjb250ZXh0LmVzY2FwZVBhcmFtZXRlcjtcclxuICAgIGNvbnN0IHJlc29sdmVkTWVzc2FnZSA9ICEhb3B0aW9ucy5yZXNvbHZlZE1lc3NhZ2U7XHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIGNvbnN0IGRlZmF1bHRNc2dPcktleSA9IGlzU3RyaW5nKG9wdGlvbnMuZGVmYXVsdCkgfHwgaXNCb29sZWFuKG9wdGlvbnMuZGVmYXVsdCkgLy8gZGVmYXVsdCBieSBmdW5jdGlvbiBvcHRpb25cclxuICAgICAgICA/ICFpc0Jvb2xlYW4ob3B0aW9ucy5kZWZhdWx0KVxyXG4gICAgICAgICAgICA/IG9wdGlvbnMuZGVmYXVsdFxyXG4gICAgICAgICAgICA6IGtleVxyXG4gICAgICAgIDogZmFsbGJhY2tGb3JtYXQgLy8gZGVmYXVsdCBieSBgZmFsbGJhY2tGb3JtYXRgIG9wdGlvblxyXG4gICAgICAgICAgICA/IGtleVxyXG4gICAgICAgICAgICA6ICcnO1xyXG4gICAgY29uc3QgZW5hYmxlRGVmYXVsdE1zZyA9IGZhbGxiYWNrRm9ybWF0IHx8IGRlZmF1bHRNc2dPcktleSAhPT0gJyc7XHJcbiAgICBjb25zdCBsb2NhbGUgPSBpc1N0cmluZyhvcHRpb25zLmxvY2FsZSkgPyBvcHRpb25zLmxvY2FsZSA6IGNvbnRleHQubG9jYWxlO1xyXG4gICAgLy8gZXNjYXBlIHBhcmFtc1xyXG4gICAgZXNjYXBlUGFyYW1ldGVyICYmIGVzY2FwZVBhcmFtcyhvcHRpb25zKTtcclxuICAgIC8vIHJlc29sdmUgbWVzc2FnZSBmb3JtYXRcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcclxuICAgIGxldCBbZm9ybWF0LCB0YXJnZXRMb2NhbGUsIG1lc3NhZ2VdID0gIXJlc29sdmVkTWVzc2FnZVxyXG4gICAgICAgID8gcmVzb2x2ZU1lc3NhZ2VGb3JtYXQoY29udGV4dCwga2V5LCBsb2NhbGUsIGZhbGxiYWNrTG9jYWxlLCBmYWxsYmFja1dhcm4sIG1pc3NpbmdXYXJuKVxyXG4gICAgICAgIDogW1xyXG4gICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgIGxvY2FsZSxcclxuICAgICAgICAgICAgbWVzc2FnZXNbbG9jYWxlXSB8fCB7fVxyXG4gICAgICAgIF07XHJcbiAgICAvLyBpZiB5b3UgdXNlIGRlZmF1bHQgbWVzc2FnZSwgc2V0IGl0IGFzIG1lc3NhZ2UgZm9ybWF0IVxyXG4gICAgbGV0IGNhY2hlQmFzZUtleSA9IGtleTtcclxuICAgIGlmICghcmVzb2x2ZWRNZXNzYWdlICYmXHJcbiAgICAgICAgIShpc1N0cmluZyhmb3JtYXQpIHx8IGlzTWVzc2FnZUZ1bmN0aW9uKGZvcm1hdCkpKSB7XHJcbiAgICAgICAgaWYgKGVuYWJsZURlZmF1bHRNc2cpIHtcclxuICAgICAgICAgICAgZm9ybWF0ID0gZGVmYXVsdE1zZ09yS2V5O1xyXG4gICAgICAgICAgICBjYWNoZUJhc2VLZXkgPSBmb3JtYXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gY2hlY2tpbmcgbWVzc2FnZSBmb3JtYXQgYW5kIHRhcmdldCBsb2NhbGVcclxuICAgIGlmICghcmVzb2x2ZWRNZXNzYWdlICYmXHJcbiAgICAgICAgKCEoaXNTdHJpbmcoZm9ybWF0KSB8fCBpc01lc3NhZ2VGdW5jdGlvbihmb3JtYXQpKSB8fFxyXG4gICAgICAgICAgICAhaXNTdHJpbmcodGFyZ2V0TG9jYWxlKSkpIHtcclxuICAgICAgICByZXR1cm4gdW5yZXNvbHZpbmcgPyBOT1RfUkVPU0xWRUQgOiBrZXk7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzU3RyaW5nKGZvcm1hdCkgJiYgY29udGV4dC5tZXNzYWdlQ29tcGlsZXIgPT0gbnVsbCkge1xyXG4gICAgICAgIHdhcm4oYFRoZSBtZXNzYWdlIGZvcm1hdCBjb21waWxhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnVpbGQuIGAgK1xyXG4gICAgICAgICAgICBgQmVjYXVzZSBtZXNzYWdlIGNvbXBpbGVyIGlzbid0IGluY2x1ZGVkLiBgICtcclxuICAgICAgICAgICAgYFlvdSBuZWVkIHRvIHByZS1jb21waWxhdGlvbiBhbGwgbWVzc2FnZSBmb3JtYXQuIGAgK1xyXG4gICAgICAgICAgICBgU28gdHJhbnNsYXRlIGZ1bmN0aW9uIHJldHVybiAnJHtrZXl9Jy5gKTtcclxuICAgICAgICByZXR1cm4ga2V5O1xyXG4gICAgfVxyXG4gICAgLy8gc2V0dXAgY29tcGlsZSBlcnJvciBkZXRlY3RpbmdcclxuICAgIGxldCBvY2N1cnJlZCA9IGZhbHNlO1xyXG4gICAgY29uc3QgZXJyb3JEZXRlY3RvciA9ICgpID0+IHtcclxuICAgICAgICBvY2N1cnJlZCA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgLy8gY29tcGlsZSBtZXNzYWdlIGZvcm1hdFxyXG4gICAgY29uc3QgbXNnID0gIWlzTWVzc2FnZUZ1bmN0aW9uKGZvcm1hdClcclxuICAgICAgICA/IGNvbXBpbGVNZXNzYWdlRm9ybWF0KGNvbnRleHQsIGtleSwgdGFyZ2V0TG9jYWxlLCBmb3JtYXQsIGNhY2hlQmFzZUtleSwgZXJyb3JEZXRlY3RvcilcclxuICAgICAgICA6IGZvcm1hdDtcclxuICAgIC8vIGlmIG9jY3VycmVkIGNvbXBpbGUgZXJyb3IsIHJldHVybiB0aGUgbWVzc2FnZSBmb3JtYXRcclxuICAgIGlmIChvY2N1cnJlZCkge1xyXG4gICAgICAgIHJldHVybiBmb3JtYXQ7XHJcbiAgICB9XHJcbiAgICAvLyBldmFsdWF0ZSBtZXNzYWdlIHdpdGggY29udGV4dFxyXG4gICAgY29uc3QgY3R4T3B0aW9ucyA9IGdldE1lc3NhZ2VDb250ZXh0T3B0aW9ucyhjb250ZXh0LCB0YXJnZXRMb2NhbGUsIG1lc3NhZ2UsIG9wdGlvbnMpO1xyXG4gICAgY29uc3QgbXNnQ29udGV4dCA9IGNyZWF0ZU1lc3NhZ2VDb250ZXh0KGN0eE9wdGlvbnMpO1xyXG4gICAgY29uc3QgbWVzc2FnZWQgPSBldmFsdWF0ZU1lc3NhZ2UoY29udGV4dCwgbXNnLCBtc2dDb250ZXh0KTtcclxuICAgIC8vIGlmIHVzZSBwb3N0IHRyYW5zbGF0aW9uIG9wdGlvbiwgcHJvY2VlZCBpdCB3aXRoIGhhbmRsZXJcclxuICAgIGNvbnN0IHJldCA9IHBvc3RUcmFuc2xhdGlvbiA/IHBvc3RUcmFuc2xhdGlvbihtZXNzYWdlZCkgOiBtZXNzYWdlZDtcclxuICAgIC8vIE5PVEU6IGV4cGVyaW1lbnRhbCAhIVxyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX0lOVExJRllfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICAgICAgY29uc3QgcGF5bG9hZHMgPSB7XHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAga2V5OiBpc1N0cmluZyhrZXkpXHJcbiAgICAgICAgICAgICAgICA/IGtleVxyXG4gICAgICAgICAgICAgICAgOiBpc01lc3NhZ2VGdW5jdGlvbihmb3JtYXQpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXQua2V5XHJcbiAgICAgICAgICAgICAgICAgICAgOiAnJyxcclxuICAgICAgICAgICAgbG9jYWxlOiB0YXJnZXRMb2NhbGUgfHwgKGlzTWVzc2FnZUZ1bmN0aW9uKGZvcm1hdClcclxuICAgICAgICAgICAgICAgID8gZm9ybWF0LmxvY2FsZVxyXG4gICAgICAgICAgICAgICAgOiAnJyksXHJcbiAgICAgICAgICAgIGZvcm1hdDogaXNTdHJpbmcoZm9ybWF0KVxyXG4gICAgICAgICAgICAgICAgPyBmb3JtYXRcclxuICAgICAgICAgICAgICAgIDogaXNNZXNzYWdlRnVuY3Rpb24oZm9ybWF0KVxyXG4gICAgICAgICAgICAgICAgICAgID8gZm9ybWF0LnNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgIDogJycsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJldFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGF5bG9hZHMubWV0YSA9IGFzc2lnbih7fSwgY29udGV4dC5fX21ldGEsIGdldEFkZGl0aW9uYWxNZXRhKCkgfHwge30pO1xyXG4gICAgICAgIHRyYW5zbGF0ZURldlRvb2xzKHBheWxvYWRzKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cclxuZnVuY3Rpb24gZXNjYXBlUGFyYW1zKG9wdGlvbnMpIHtcclxuICAgIGlmIChpc0FycmF5KG9wdGlvbnMubGlzdCkpIHtcclxuICAgICAgICBvcHRpb25zLmxpc3QgPSBvcHRpb25zLmxpc3QubWFwKGl0ZW0gPT4gaXNTdHJpbmcoaXRlbSkgPyBlc2NhcGVIdG1sKGl0ZW0pIDogaXRlbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc09iamVjdChvcHRpb25zLm5hbWVkKSkge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMubmFtZWQpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKG9wdGlvbnMubmFtZWRba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMubmFtZWRba2V5XSA9IGVzY2FwZUh0bWwob3B0aW9ucy5uYW1lZFtrZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmVNZXNzYWdlRm9ybWF0KGNvbnRleHQsIGtleSwgbG9jYWxlLCBmYWxsYmFja0xvY2FsZSwgZmFsbGJhY2tXYXJuLCBtaXNzaW5nV2Fybikge1xyXG4gICAgY29uc3QgeyBtZXNzYWdlcywgb25XYXJuIH0gPSBjb250ZXh0O1xyXG4gICAgY29uc3QgbG9jYWxlcyA9IGdldExvY2FsZUNoYWluKGNvbnRleHQsIGZhbGxiYWNrTG9jYWxlLCBsb2NhbGUpO1xyXG4gICAgbGV0IG1lc3NhZ2UgPSB7fTtcclxuICAgIGxldCB0YXJnZXRMb2NhbGU7XHJcbiAgICBsZXQgZm9ybWF0ID0gbnVsbDtcclxuICAgIGxldCBmcm9tID0gbG9jYWxlO1xyXG4gICAgbGV0IHRvID0gbnVsbDtcclxuICAgIGNvbnN0IHR5cGUgPSAndHJhbnNsYXRlJztcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRhcmdldExvY2FsZSA9IHRvID0gbG9jYWxlc1tpXTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIGxvY2FsZSAhPT0gdGFyZ2V0TG9jYWxlICYmXHJcbiAgICAgICAgICAgIGlzVHJhbnNsYXRlRmFsbGJhY2tXYXJuKGZhbGxiYWNrV2Fybiwga2V5KSkge1xyXG4gICAgICAgICAgICBvbldhcm4oZ2V0V2Fybk1lc3NhZ2UoMSAvKiBGQUxMQkFDS19UT19UUkFOU0xBVEUgKi8sIHtcclxuICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0TG9jYWxlXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbG9jYWxlICE9PSB0YXJnZXRMb2NhbGUpIHtcclxuICAgICAgICAgICAgY29uc3QgZW1pdHRlciA9IGNvbnRleHQuX192X2VtaXR0ZXI7XHJcbiAgICAgICAgICAgIGlmIChlbWl0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoXCJmYWxsYmFja1wiIC8qIEZBTEJBQ0sgKi8sIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICBmcm9tLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvLFxyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGAke3R5cGV9OiR7a2V5fWBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1lc3NhZ2UgPVxyXG4gICAgICAgICAgICBtZXNzYWdlc1t0YXJnZXRMb2NhbGVdIHx8IHt9O1xyXG4gICAgICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcclxuICAgICAgICBsZXQgc3RhcnQgPSBudWxsO1xyXG4gICAgICAgIGxldCBzdGFydFRhZztcclxuICAgICAgICBsZXQgZW5kVGFnO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5Ccm93c2VyKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICAgICAgICBzdGFydFRhZyA9ICdpbnRsaWZ5LW1lc3NhZ2UtcmVzb2x2ZS1zdGFydCc7XHJcbiAgICAgICAgICAgIGVuZFRhZyA9ICdpbnRsaWZ5LW1lc3NhZ2UtcmVzb2x2ZS1lbmQnO1xyXG4gICAgICAgICAgICBtYXJrICYmIG1hcmsoc3RhcnRUYWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKGZvcm1hdCA9IHJlc29sdmVWYWx1ZShtZXNzYWdlLCBrZXkpKSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBpZiBudWxsLCByZXNvbHZlIHdpdGggb2JqZWN0IGtleSBwYXRoXHJcbiAgICAgICAgICAgIGZvcm1hdCA9IG1lc3NhZ2Vba2V5XTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluQnJvd3Nlcikge1xyXG4gICAgICAgICAgICBjb25zdCBlbmQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjb250ZXh0Ll9fdl9lbWl0dGVyO1xyXG4gICAgICAgICAgICBpZiAoZW1pdHRlciAmJiBzdGFydCAmJiBmb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcIm1lc3NhZ2UtcmVzb2x2ZVwiIC8qIE1FU1NBR0VfUkVTT0xWRSAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibWVzc2FnZS1yZXNvbHZlXCIgLyogTUVTU0FHRV9SRVNPTFZFICovLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBmb3JtYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZTogZW5kIC0gc3RhcnQsXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogYCR7dHlwZX06JHtrZXl9YFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0YXJ0VGFnICYmIGVuZFRhZyAmJiBtYXJrICYmIG1lYXN1cmUpIHtcclxuICAgICAgICAgICAgICAgIG1hcmsoZW5kVGFnKTtcclxuICAgICAgICAgICAgICAgIG1lYXN1cmUoJ2ludGxpZnkgbWVzc2FnZSByZXNvbHZlJywgc3RhcnRUYWcsIGVuZFRhZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzU3RyaW5nKGZvcm1hdCkgfHwgaXNGdW5jdGlvbihmb3JtYXQpKVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjb25zdCBtaXNzaW5nUmV0ID0gaGFuZGxlTWlzc2luZyhjb250ZXh0LCBrZXksIHRhcmdldExvY2FsZSwgbWlzc2luZ1dhcm4sIHR5cGUpO1xyXG4gICAgICAgIGlmIChtaXNzaW5nUmV0ICE9PSBrZXkpIHtcclxuICAgICAgICAgICAgZm9ybWF0ID0gbWlzc2luZ1JldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnJvbSA9IHRvO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtmb3JtYXQsIHRhcmdldExvY2FsZSwgbWVzc2FnZV07XHJcbn1cclxuZnVuY3Rpb24gY29tcGlsZU1lc3NhZ2VGb3JtYXQoY29udGV4dCwga2V5LCB0YXJnZXRMb2NhbGUsIGZvcm1hdCwgY2FjaGVCYXNlS2V5LCBlcnJvckRldGVjdG9yKSB7XHJcbiAgICBjb25zdCB7IG1lc3NhZ2VDb21waWxlciwgd2Fybkh0bWxNZXNzYWdlIH0gPSBjb250ZXh0O1xyXG4gICAgaWYgKGlzTWVzc2FnZUZ1bmN0aW9uKGZvcm1hdCkpIHtcclxuICAgICAgICBjb25zdCBtc2cgPSBmb3JtYXQ7XHJcbiAgICAgICAgbXNnLmxvY2FsZSA9IG1zZy5sb2NhbGUgfHwgdGFyZ2V0TG9jYWxlO1xyXG4gICAgICAgIG1zZy5rZXkgPSBtc2cua2V5IHx8IGtleTtcclxuICAgICAgICByZXR1cm4gbXNnO1xyXG4gICAgfVxyXG4gICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxyXG4gICAgbGV0IHN0YXJ0ID0gbnVsbDtcclxuICAgIGxldCBzdGFydFRhZztcclxuICAgIGxldCBlbmRUYWc7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluQnJvd3Nlcikge1xyXG4gICAgICAgIHN0YXJ0ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICAgIHN0YXJ0VGFnID0gJ2ludGxpZnktbWVzc2FnZS1jb21waWxhdGlvbi1zdGFydCc7XHJcbiAgICAgICAgZW5kVGFnID0gJ2ludGxpZnktbWVzc2FnZS1jb21waWxhdGlvbi1lbmQnO1xyXG4gICAgICAgIG1hcmsgJiYgbWFyayhzdGFydFRhZyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBtc2cgPSBtZXNzYWdlQ29tcGlsZXIoZm9ybWF0LCBnZXRDb21waWxlT3B0aW9ucyhjb250ZXh0LCB0YXJnZXRMb2NhbGUsIGNhY2hlQmFzZUtleSwgZm9ybWF0LCB3YXJuSHRtbE1lc3NhZ2UsIGVycm9yRGV0ZWN0b3IpKTtcclxuICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5Ccm93c2VyKSB7XHJcbiAgICAgICAgY29uc3QgZW5kID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjb250ZXh0Ll9fdl9lbWl0dGVyO1xyXG4gICAgICAgIGlmIChlbWl0dGVyICYmIHN0YXJ0KSB7XHJcbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcIm1lc3NhZ2UtY29tcGlsYXRpb25cIiAvKiBNRVNTQUdFX0NPTVBJTEFUSU9OICovLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm1lc3NhZ2UtY29tcGlsYXRpb25cIiAvKiBNRVNTQUdFX0NPTVBJTEFUSU9OICovLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZm9ybWF0LFxyXG4gICAgICAgICAgICAgICAgdGltZTogZW5kIC0gc3RhcnQsXHJcbiAgICAgICAgICAgICAgICBncm91cElkOiBgJHsndHJhbnNsYXRlJ306JHtrZXl9YFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0YXJ0VGFnICYmIGVuZFRhZyAmJiBtYXJrICYmIG1lYXN1cmUpIHtcclxuICAgICAgICAgICAgbWFyayhlbmRUYWcpO1xyXG4gICAgICAgICAgICBtZWFzdXJlKCdpbnRsaWZ5IG1lc3NhZ2UgY29tcGlsYXRpb24nLCBzdGFydFRhZywgZW5kVGFnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBtc2cubG9jYWxlID0gdGFyZ2V0TG9jYWxlO1xyXG4gICAgbXNnLmtleSA9IGtleTtcclxuICAgIG1zZy5zb3VyY2UgPSBmb3JtYXQ7XHJcbiAgICByZXR1cm4gbXNnO1xyXG59XHJcbmZ1bmN0aW9uIGV2YWx1YXRlTWVzc2FnZShjb250ZXh0LCBtc2csIG1zZ0N0eCkge1xyXG4gICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxyXG4gICAgbGV0IHN0YXJ0ID0gbnVsbDtcclxuICAgIGxldCBzdGFydFRhZztcclxuICAgIGxldCBlbmRUYWc7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluQnJvd3Nlcikge1xyXG4gICAgICAgIHN0YXJ0ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICAgIHN0YXJ0VGFnID0gJ2ludGxpZnktbWVzc2FnZS1ldmFsdWF0aW9uLXN0YXJ0JztcclxuICAgICAgICBlbmRUYWcgPSAnaW50bGlmeS1tZXNzYWdlLWV2YWx1YXRpb24tZW5kJztcclxuICAgICAgICBtYXJrICYmIG1hcmsoc3RhcnRUYWcpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbWVzc2FnZWQgPSBtc2cobXNnQ3R4KTtcclxuICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5Ccm93c2VyKSB7XHJcbiAgICAgICAgY29uc3QgZW5kID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjb250ZXh0Ll9fdl9lbWl0dGVyO1xyXG4gICAgICAgIGlmIChlbWl0dGVyICYmIHN0YXJ0KSB7XHJcbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChcIm1lc3NhZ2UtZXZhbHVhdGlvblwiIC8qIE1FU1NBR0VfRVZBTFVBVElPTiAqLywge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlLWV2YWx1YXRpb25cIiAvKiBNRVNTQUdFX0VWQUxVQVRJT04gKi8sXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogbWVzc2FnZWQsXHJcbiAgICAgICAgICAgICAgICB0aW1lOiBlbmQgLSBzdGFydCxcclxuICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGAkeyd0cmFuc2xhdGUnfToke21zZy5rZXl9YFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0YXJ0VGFnICYmIGVuZFRhZyAmJiBtYXJrICYmIG1lYXN1cmUpIHtcclxuICAgICAgICAgICAgbWFyayhlbmRUYWcpO1xyXG4gICAgICAgICAgICBtZWFzdXJlKCdpbnRsaWZ5IG1lc3NhZ2UgZXZhbHVhdGlvbicsIHN0YXJ0VGFnLCBlbmRUYWcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBtZXNzYWdlZDtcclxufVxyXG4vKiogQGludGVybmFsICovXHJcbmZ1bmN0aW9uIHBhcnNlVHJhbnNsYXRlQXJncyguLi5hcmdzKSB7XHJcbiAgICBjb25zdCBbYXJnMSwgYXJnMiwgYXJnM10gPSBhcmdzO1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xyXG4gICAgaWYgKCFpc1N0cmluZyhhcmcxKSAmJiAhaXNOdW1iZXIoYXJnMSkgJiYgIWlzTWVzc2FnZUZ1bmN0aW9uKGFyZzEpKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ29yZUVycm9yKDE0IC8qIElOVkFMSURfQVJHVU1FTlQgKi8pO1xyXG4gICAgfVxyXG4gICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICBjb25zdCBrZXkgPSBpc051bWJlcihhcmcxKVxyXG4gICAgICAgID8gU3RyaW5nKGFyZzEpXHJcbiAgICAgICAgOiBpc01lc3NhZ2VGdW5jdGlvbihhcmcxKVxyXG4gICAgICAgICAgICA/IGFyZzFcclxuICAgICAgICAgICAgOiBhcmcxO1xyXG4gICAgaWYgKGlzTnVtYmVyKGFyZzIpKSB7XHJcbiAgICAgICAgb3B0aW9ucy5wbHVyYWwgPSBhcmcyO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNTdHJpbmcoYXJnMikpIHtcclxuICAgICAgICBvcHRpb25zLmRlZmF1bHQgPSBhcmcyO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChhcmcyKSAmJiAhaXNFbXB0eU9iamVjdChhcmcyKSkge1xyXG4gICAgICAgIG9wdGlvbnMubmFtZWQgPSBhcmcyO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheShhcmcyKSkge1xyXG4gICAgICAgIG9wdGlvbnMubGlzdCA9IGFyZzI7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNOdW1iZXIoYXJnMykpIHtcclxuICAgICAgICBvcHRpb25zLnBsdXJhbCA9IGFyZzM7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1N0cmluZyhhcmczKSkge1xyXG4gICAgICAgIG9wdGlvbnMuZGVmYXVsdCA9IGFyZzM7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzMpKSB7XHJcbiAgICAgICAgYXNzaWduKG9wdGlvbnMsIGFyZzMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtrZXksIG9wdGlvbnNdO1xyXG59XHJcbmZ1bmN0aW9uIGdldENvbXBpbGVPcHRpb25zKGNvbnRleHQsIGxvY2FsZSwga2V5LCBzb3VyY2UsIHdhcm5IdG1sTWVzc2FnZSwgZXJyb3JEZXRlY3Rvcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB3YXJuSHRtbE1lc3NhZ2UsXHJcbiAgICAgICAgb25FcnJvcjogKGVycikgPT4ge1xyXG4gICAgICAgICAgICBlcnJvckRldGVjdG9yICYmIGVycm9yRGV0ZWN0b3IoZXJyKTtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBNZXNzYWdlIGNvbXBpbGF0aW9uIGVycm9yOiAke2Vyci5tZXNzYWdlfWA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2RlRnJhbWUgPSBlcnIubG9jYXRpb24gJiZcclxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUNvZGVGcmFtZShzb3VyY2UsIGVyci5sb2NhdGlvbi5zdGFydC5vZmZzZXQsIGVyci5sb2NhdGlvbi5lbmQub2Zmc2V0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjb250ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgLl9fdl9lbWl0dGVyO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVtaXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoXCJjb21waWxlLWVycm9yXCIgLyogQ09NUElMRV9FUlJPUiAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBzb3VyY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIubWVzc2FnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGVyci5sb2NhdGlvbiAmJiBlcnIubG9jYXRpb24uc3RhcnQub2Zmc2V0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IGVyci5sb2NhdGlvbiAmJiBlcnIubG9jYXRpb24uZW5kLm9mZnNldCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogYCR7J3RyYW5zbGF0ZSd9OiR7a2V5fWBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoY29kZUZyYW1lID8gYCR7bWVzc2FnZX1cXG4ke2NvZGVGcmFtZX1gIDogbWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQ2FjaGVLZXk6IChzb3VyY2UpID0+IGdlbmVyYXRlRm9ybWF0Q2FjaGVLZXkobG9jYWxlLCBrZXksIHNvdXJjZSlcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZ2V0TWVzc2FnZUNvbnRleHRPcHRpb25zKGNvbnRleHQsIGxvY2FsZSwgbWVzc2FnZSwgb3B0aW9ucykge1xyXG4gICAgY29uc3QgeyBtb2RpZmllcnMsIHBsdXJhbFJ1bGVzIH0gPSBjb250ZXh0O1xyXG4gICAgY29uc3QgcmVzb2x2ZU1lc3NhZ2UgPSAoa2V5KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsID0gcmVzb2x2ZVZhbHVlKG1lc3NhZ2UsIGtleSk7XHJcbiAgICAgICAgaWYgKGlzU3RyaW5nKHZhbCkpIHtcclxuICAgICAgICAgICAgbGV0IG9jY3VycmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yRGV0ZWN0b3IgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBvY2N1cnJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IGNvbXBpbGVNZXNzYWdlRm9ybWF0KGNvbnRleHQsIGtleSwgbG9jYWxlLCB2YWwsIGtleSwgZXJyb3JEZXRlY3Rvcik7XHJcbiAgICAgICAgICAgIHJldHVybiAhb2NjdXJyZWRcclxuICAgICAgICAgICAgICAgID8gbXNnXHJcbiAgICAgICAgICAgICAgICA6IE5PT1BfTUVTU0FHRV9GVU5DVElPTjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNNZXNzYWdlRnVuY3Rpb24odmFsKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gVE9ETzogc2hvdWxkIGJlIGltcGxlbWVudGVkIHdhcm5pbmcgbWVzc2FnZVxyXG4gICAgICAgICAgICByZXR1cm4gTk9PUF9NRVNTQUdFX0ZVTkNUSU9OO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBjdHhPcHRpb25zID0ge1xyXG4gICAgICAgIGxvY2FsZSxcclxuICAgICAgICBtb2RpZmllcnMsXHJcbiAgICAgICAgcGx1cmFsUnVsZXMsXHJcbiAgICAgICAgbWVzc2FnZXM6IHJlc29sdmVNZXNzYWdlXHJcbiAgICB9O1xyXG4gICAgaWYgKGNvbnRleHQucHJvY2Vzc29yKSB7XHJcbiAgICAgICAgY3R4T3B0aW9ucy5wcm9jZXNzb3IgPSBjb250ZXh0LnByb2Nlc3NvcjtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLmxpc3QpIHtcclxuICAgICAgICBjdHhPcHRpb25zLmxpc3QgPSBvcHRpb25zLmxpc3Q7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy5uYW1lZCkge1xyXG4gICAgICAgIGN0eE9wdGlvbnMubmFtZWQgPSBvcHRpb25zLm5hbWVkO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzTnVtYmVyKG9wdGlvbnMucGx1cmFsKSkge1xyXG4gICAgICAgIGN0eE9wdGlvbnMucGx1cmFsSW5kZXggPSBvcHRpb25zLnBsdXJhbDtcclxuICAgIH1cclxuICAgIHJldHVybiBjdHhPcHRpb25zO1xyXG59XHJcblxyXG5jb25zdCBpbnRsRGVmaW5lZCA9IHR5cGVvZiBJbnRsICE9PSAndW5kZWZpbmVkJztcclxuY29uc3QgQXZhaWxhYmlsaXRpZXMgPSB7XHJcbiAgICBkYXRlVGltZUZvcm1hdDogaW50bERlZmluZWQgJiYgdHlwZW9mIEludGwuRGF0ZVRpbWVGb3JtYXQgIT09ICd1bmRlZmluZWQnLFxyXG4gICAgbnVtYmVyRm9ybWF0OiBpbnRsRGVmaW5lZCAmJiB0eXBlb2YgSW50bC5OdW1iZXJGb3JtYXQgIT09ICd1bmRlZmluZWQnXHJcbn07XHJcblxyXG4vLyBpbXBsZW1lbnRhdGlvbiBvZiBgZGF0ZXRpbWVgIGZ1bmN0aW9uXHJcbmZ1bmN0aW9uIGRhdGV0aW1lKGNvbnRleHQsIC4uLmFyZ3MpIHtcclxuICAgIGNvbnN0IHsgZGF0ZXRpbWVGb3JtYXRzLCB1bnJlc29sdmluZywgZmFsbGJhY2tMb2NhbGUsIG9uV2FybiB9ID0gY29udGV4dDtcclxuICAgIGNvbnN0IHsgX19kYXRldGltZUZvcm1hdHRlcnMgfSA9IGNvbnRleHQ7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFBdmFpbGFiaWxpdGllcy5kYXRlVGltZUZvcm1hdCkge1xyXG4gICAgICAgIG9uV2FybihnZXRXYXJuTWVzc2FnZSg0IC8qIENBTk5PVF9GT1JNQVRfREFURSAqLykpO1xyXG4gICAgICAgIHJldHVybiBNSVNTSU5HX1JFU09MVkVfVkFMVUU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBba2V5LCB2YWx1ZSwgb3B0aW9ucywgb3ZlcnJpZGVzXSA9IHBhcnNlRGF0ZVRpbWVBcmdzKC4uLmFyZ3MpO1xyXG4gICAgY29uc3QgbWlzc2luZ1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5taXNzaW5nV2FybilcclxuICAgICAgICA/IG9wdGlvbnMubWlzc2luZ1dhcm5cclxuICAgICAgICA6IGNvbnRleHQubWlzc2luZ1dhcm47XHJcbiAgICBjb25zdCBmYWxsYmFja1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5mYWxsYmFja1dhcm4pXHJcbiAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrV2FyblxyXG4gICAgICAgIDogY29udGV4dC5mYWxsYmFja1dhcm47XHJcbiAgICBjb25zdCBwYXJ0ID0gISFvcHRpb25zLnBhcnQ7XHJcbiAgICBjb25zdCBsb2NhbGUgPSBpc1N0cmluZyhvcHRpb25zLmxvY2FsZSkgPyBvcHRpb25zLmxvY2FsZSA6IGNvbnRleHQubG9jYWxlO1xyXG4gICAgY29uc3QgbG9jYWxlcyA9IGdldExvY2FsZUNoYWluKGNvbnRleHQsIGZhbGxiYWNrTG9jYWxlLCBsb2NhbGUpO1xyXG4gICAgaWYgKCFpc1N0cmluZyhrZXkpIHx8IGtleSA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG9jYWxlKS5mb3JtYXQodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgLy8gcmVzb2x2ZSBmb3JtYXRcclxuICAgIGxldCBkYXRldGltZUZvcm1hdCA9IHt9O1xyXG4gICAgbGV0IHRhcmdldExvY2FsZTtcclxuICAgIGxldCBmb3JtYXQgPSBudWxsO1xyXG4gICAgbGV0IGZyb20gPSBsb2NhbGU7XHJcbiAgICBsZXQgdG8gPSBudWxsO1xyXG4gICAgY29uc3QgdHlwZSA9ICdkYXRldGltZSBmb3JtYXQnO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdGFyZ2V0TG9jYWxlID0gdG8gPSBsb2NhbGVzW2ldO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgbG9jYWxlICE9PSB0YXJnZXRMb2NhbGUgJiZcclxuICAgICAgICAgICAgaXNUcmFuc2xhdGVGYWxsYmFja1dhcm4oZmFsbGJhY2tXYXJuLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIG9uV2FybihnZXRXYXJuTWVzc2FnZSg1IC8qIEZBTExCQUNLX1RPX0RBVEVfRk9STUFUICovLCB7XHJcbiAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldExvY2FsZVxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGxvY2FsZSAhPT0gdGFyZ2V0TG9jYWxlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjb250ZXh0Ll9fdl9lbWl0dGVyO1xyXG4gICAgICAgICAgICBpZiAoZW1pdHRlcikge1xyXG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwiZmFsbGJhY2tcIiAvKiBGQUxCQUNLICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbSxcclxuICAgICAgICAgICAgICAgICAgICB0byxcclxuICAgICAgICAgICAgICAgICAgICBncm91cElkOiBgJHt0eXBlfToke2tleX1gXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBkYXRldGltZUZvcm1hdCA9XHJcbiAgICAgICAgICAgIGRhdGV0aW1lRm9ybWF0c1t0YXJnZXRMb2NhbGVdIHx8IHt9O1xyXG4gICAgICAgIGZvcm1hdCA9IGRhdGV0aW1lRm9ybWF0W2tleV07XHJcbiAgICAgICAgaWYgKGlzUGxhaW5PYmplY3QoZm9ybWF0KSlcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgaGFuZGxlTWlzc2luZyhjb250ZXh0LCBrZXksIHRhcmdldExvY2FsZSwgbWlzc2luZ1dhcm4sIHR5cGUpO1xyXG4gICAgICAgIGZyb20gPSB0bztcclxuICAgIH1cclxuICAgIC8vIGNoZWNraW5nIGZvcm1hdCBhbmQgdGFyZ2V0IGxvY2FsZVxyXG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KGZvcm1hdCkgfHwgIWlzU3RyaW5nKHRhcmdldExvY2FsZSkpIHtcclxuICAgICAgICByZXR1cm4gdW5yZXNvbHZpbmcgPyBOT1RfUkVPU0xWRUQgOiBrZXk7XHJcbiAgICB9XHJcbiAgICBsZXQgaWQgPSBgJHt0YXJnZXRMb2NhbGV9X18ke2tleX1gO1xyXG4gICAgaWYgKCFpc0VtcHR5T2JqZWN0KG92ZXJyaWRlcykpIHtcclxuICAgICAgICBpZCA9IGAke2lkfV9fJHtKU09OLnN0cmluZ2lmeShvdmVycmlkZXMpfWA7XHJcbiAgICB9XHJcbiAgICBsZXQgZm9ybWF0dGVyID0gX19kYXRldGltZUZvcm1hdHRlcnMuZ2V0KGlkKTtcclxuICAgIGlmICghZm9ybWF0dGVyKSB7XHJcbiAgICAgICAgZm9ybWF0dGVyID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQodGFyZ2V0TG9jYWxlLCBhc3NpZ24oe30sIGZvcm1hdCwgb3ZlcnJpZGVzKSk7XHJcbiAgICAgICAgX19kYXRldGltZUZvcm1hdHRlcnMuc2V0KGlkLCBmb3JtYXR0ZXIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICFwYXJ0ID8gZm9ybWF0dGVyLmZvcm1hdCh2YWx1ZSkgOiBmb3JtYXR0ZXIuZm9ybWF0VG9QYXJ0cyh2YWx1ZSk7XHJcbn1cclxuLyoqIEBpbnRlcm5hbCAqL1xyXG5mdW5jdGlvbiBwYXJzZURhdGVUaW1lQXJncyguLi5hcmdzKSB7XHJcbiAgICBjb25zdCBbYXJnMSwgYXJnMiwgYXJnMywgYXJnNF0gPSBhcmdzO1xyXG4gICAgbGV0IG9wdGlvbnMgPSB7fTtcclxuICAgIGxldCBvdmVycmlkZXMgPSB7fTtcclxuICAgIGxldCB2YWx1ZTtcclxuICAgIGlmIChpc1N0cmluZyhhcmcxKSkge1xyXG4gICAgICAgIC8vIE9ubHkgYWxsb3cgSVNPIHN0cmluZ3MgLSBvdGhlciBkYXRlIGZvcm1hdHMgYXJlIG9mdGVuIHN1cHBvcnRlZCxcclxuICAgICAgICAvLyBidXQgbWF5IGNhdXNlIGRpZmZlcmVudCByZXN1bHRzIGluIGRpZmZlcmVudCBicm93c2Vycy5cclxuICAgICAgICBpZiAoIS9cXGR7NH0tXFxkezJ9LVxcZHsyfShULiopPy8udGVzdChhcmcxKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDb3JlRXJyb3IoMTYgLyogSU5WQUxJRF9JU09fREFURV9BUkdVTUVOVCAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhbHVlID0gbmV3IERhdGUoYXJnMSk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGZhaWwgaWYgdGhlIGRhdGUgaXMgbm90IHZhbGlkXHJcbiAgICAgICAgICAgIHZhbHVlLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcigxNiAvKiBJTlZBTElEX0lTT19EQVRFX0FSR1VNRU5UICovKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0RhdGUoYXJnMSkpIHtcclxuICAgICAgICBpZiAoaXNOYU4oYXJnMS5nZXRUaW1lKCkpKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcigxNSAvKiBJTlZBTElEX0RBVEVfQVJHVU1FTlQgKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YWx1ZSA9IGFyZzE7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc051bWJlcihhcmcxKSkge1xyXG4gICAgICAgIHZhbHVlID0gYXJnMTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNvcmVFcnJvcigxNCAvKiBJTlZBTElEX0FSR1VNRU5UICovKTtcclxuICAgIH1cclxuICAgIGlmIChpc1N0cmluZyhhcmcyKSkge1xyXG4gICAgICAgIG9wdGlvbnMua2V5ID0gYXJnMjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMikpIHtcclxuICAgICAgICBvcHRpb25zID0gYXJnMjtcclxuICAgIH1cclxuICAgIGlmIChpc1N0cmluZyhhcmczKSkge1xyXG4gICAgICAgIG9wdGlvbnMubG9jYWxlID0gYXJnMztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMykpIHtcclxuICAgICAgICBvdmVycmlkZXMgPSBhcmczO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzUGxhaW5PYmplY3QoYXJnNCkpIHtcclxuICAgICAgICBvdmVycmlkZXMgPSBhcmc0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtvcHRpb25zLmtleSB8fCAnJywgdmFsdWUsIG9wdGlvbnMsIG92ZXJyaWRlc107XHJcbn1cclxuLyoqIEBpbnRlcm5hbCAqL1xyXG5mdW5jdGlvbiBjbGVhckRhdGVUaW1lRm9ybWF0KGN0eCwgbG9jYWxlLCBmb3JtYXQpIHtcclxuICAgIGNvbnN0IGNvbnRleHQgPSBjdHg7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmb3JtYXQpIHtcclxuICAgICAgICBjb25zdCBpZCA9IGAke2xvY2FsZX1fXyR7a2V5fWA7XHJcbiAgICAgICAgaWYgKCFjb250ZXh0Ll9fZGF0ZXRpbWVGb3JtYXR0ZXJzLmhhcyhpZCkpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRleHQuX19kYXRldGltZUZvcm1hdHRlcnMuZGVsZXRlKGlkKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gaW1wbGVtZW50YXRpb24gb2YgYG51bWJlcmAgZnVuY3Rpb25cclxuZnVuY3Rpb24gbnVtYmVyKGNvbnRleHQsIC4uLmFyZ3MpIHtcclxuICAgIGNvbnN0IHsgbnVtYmVyRm9ybWF0cywgdW5yZXNvbHZpbmcsIGZhbGxiYWNrTG9jYWxlLCBvbldhcm4gfSA9IGNvbnRleHQ7XHJcbiAgICBjb25zdCB7IF9fbnVtYmVyRm9ybWF0dGVycyB9ID0gY29udGV4dDtcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIUF2YWlsYWJpbGl0aWVzLm51bWJlckZvcm1hdCkge1xyXG4gICAgICAgIG9uV2FybihnZXRXYXJuTWVzc2FnZSgyIC8qIENBTk5PVF9GT1JNQVRfTlVNQkVSICovKSk7XHJcbiAgICAgICAgcmV0dXJuIE1JU1NJTkdfUkVTT0xWRV9WQUxVRTtcclxuICAgIH1cclxuICAgIGNvbnN0IFtrZXksIHZhbHVlLCBvcHRpb25zLCBvdmVycmlkZXNdID0gcGFyc2VOdW1iZXJBcmdzKC4uLmFyZ3MpO1xyXG4gICAgY29uc3QgbWlzc2luZ1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5taXNzaW5nV2FybilcclxuICAgICAgICA/IG9wdGlvbnMubWlzc2luZ1dhcm5cclxuICAgICAgICA6IGNvbnRleHQubWlzc2luZ1dhcm47XHJcbiAgICBjb25zdCBmYWxsYmFja1dhcm4gPSBpc0Jvb2xlYW4ob3B0aW9ucy5mYWxsYmFja1dhcm4pXHJcbiAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrV2FyblxyXG4gICAgICAgIDogY29udGV4dC5mYWxsYmFja1dhcm47XHJcbiAgICBjb25zdCBwYXJ0ID0gISFvcHRpb25zLnBhcnQ7XHJcbiAgICBjb25zdCBsb2NhbGUgPSBpc1N0cmluZyhvcHRpb25zLmxvY2FsZSkgPyBvcHRpb25zLmxvY2FsZSA6IGNvbnRleHQubG9jYWxlO1xyXG4gICAgY29uc3QgbG9jYWxlcyA9IGdldExvY2FsZUNoYWluKGNvbnRleHQsIGZhbGxiYWNrTG9jYWxlLCBsb2NhbGUpO1xyXG4gICAgaWYgKCFpc1N0cmluZyhrZXkpIHx8IGtleSA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxvY2FsZSkuZm9ybWF0KHZhbHVlKTtcclxuICAgIH1cclxuICAgIC8vIHJlc29sdmUgZm9ybWF0XHJcbiAgICBsZXQgbnVtYmVyRm9ybWF0ID0ge307XHJcbiAgICBsZXQgdGFyZ2V0TG9jYWxlO1xyXG4gICAgbGV0IGZvcm1hdCA9IG51bGw7XHJcbiAgICBsZXQgZnJvbSA9IGxvY2FsZTtcclxuICAgIGxldCB0byA9IG51bGw7XHJcbiAgICBjb25zdCB0eXBlID0gJ251bWJlciBmb3JtYXQnO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdGFyZ2V0TG9jYWxlID0gdG8gPSBsb2NhbGVzW2ldO1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgbG9jYWxlICE9PSB0YXJnZXRMb2NhbGUgJiZcclxuICAgICAgICAgICAgaXNUcmFuc2xhdGVGYWxsYmFja1dhcm4oZmFsbGJhY2tXYXJuLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIG9uV2FybihnZXRXYXJuTWVzc2FnZSgzIC8qIEZBTExCQUNLX1RPX05VTUJFUl9GT1JNQVQgKi8sIHtcclxuICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0TG9jYWxlXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbG9jYWxlICE9PSB0YXJnZXRMb2NhbGUpIHtcclxuICAgICAgICAgICAgY29uc3QgZW1pdHRlciA9IGNvbnRleHQuX192X2VtaXR0ZXI7XHJcbiAgICAgICAgICAgIGlmIChlbWl0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoXCJmYWxsYmFja1wiIC8qIEZBTEJBQ0sgKi8sIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICBmcm9tLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvLFxyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGAke3R5cGV9OiR7a2V5fWBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG51bWJlckZvcm1hdCA9XHJcbiAgICAgICAgICAgIG51bWJlckZvcm1hdHNbdGFyZ2V0TG9jYWxlXSB8fCB7fTtcclxuICAgICAgICBmb3JtYXQgPSBudW1iZXJGb3JtYXRba2V5XTtcclxuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdChmb3JtYXQpKVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBoYW5kbGVNaXNzaW5nKGNvbnRleHQsIGtleSwgdGFyZ2V0TG9jYWxlLCBtaXNzaW5nV2FybiwgdHlwZSk7XHJcbiAgICAgICAgZnJvbSA9IHRvO1xyXG4gICAgfVxyXG4gICAgLy8gY2hlY2tpbmcgZm9ybWF0IGFuZCB0YXJnZXQgbG9jYWxlXHJcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QoZm9ybWF0KSB8fCAhaXNTdHJpbmcodGFyZ2V0TG9jYWxlKSkge1xyXG4gICAgICAgIHJldHVybiB1bnJlc29sdmluZyA/IE5PVF9SRU9TTFZFRCA6IGtleTtcclxuICAgIH1cclxuICAgIGxldCBpZCA9IGAke3RhcmdldExvY2FsZX1fXyR7a2V5fWA7XHJcbiAgICBpZiAoIWlzRW1wdHlPYmplY3Qob3ZlcnJpZGVzKSkge1xyXG4gICAgICAgIGlkID0gYCR7aWR9X18ke0pTT04uc3RyaW5naWZ5KG92ZXJyaWRlcyl9YDtcclxuICAgIH1cclxuICAgIGxldCBmb3JtYXR0ZXIgPSBfX251bWJlckZvcm1hdHRlcnMuZ2V0KGlkKTtcclxuICAgIGlmICghZm9ybWF0dGVyKSB7XHJcbiAgICAgICAgZm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KHRhcmdldExvY2FsZSwgYXNzaWduKHt9LCBmb3JtYXQsIG92ZXJyaWRlcykpO1xyXG4gICAgICAgIF9fbnVtYmVyRm9ybWF0dGVycy5zZXQoaWQsIGZvcm1hdHRlcik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gIXBhcnQgPyBmb3JtYXR0ZXIuZm9ybWF0KHZhbHVlKSA6IGZvcm1hdHRlci5mb3JtYXRUb1BhcnRzKHZhbHVlKTtcclxufVxyXG4vKiogQGludGVybmFsICovXHJcbmZ1bmN0aW9uIHBhcnNlTnVtYmVyQXJncyguLi5hcmdzKSB7XHJcbiAgICBjb25zdCBbYXJnMSwgYXJnMiwgYXJnMywgYXJnNF0gPSBhcmdzO1xyXG4gICAgbGV0IG9wdGlvbnMgPSB7fTtcclxuICAgIGxldCBvdmVycmlkZXMgPSB7fTtcclxuICAgIGlmICghaXNOdW1iZXIoYXJnMSkpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDb3JlRXJyb3IoMTQgLyogSU5WQUxJRF9BUkdVTUVOVCAqLyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB2YWx1ZSA9IGFyZzE7XHJcbiAgICBpZiAoaXNTdHJpbmcoYXJnMikpIHtcclxuICAgICAgICBvcHRpb25zLmtleSA9IGFyZzI7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzIpKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IGFyZzI7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNTdHJpbmcoYXJnMykpIHtcclxuICAgICAgICBvcHRpb25zLmxvY2FsZSA9IGFyZzM7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzMpKSB7XHJcbiAgICAgICAgb3ZlcnJpZGVzID0gYXJnMztcclxuICAgIH1cclxuICAgIGlmIChpc1BsYWluT2JqZWN0KGFyZzQpKSB7XHJcbiAgICAgICAgb3ZlcnJpZGVzID0gYXJnNDtcclxuICAgIH1cclxuICAgIHJldHVybiBbb3B0aW9ucy5rZXkgfHwgJycsIHZhbHVlLCBvcHRpb25zLCBvdmVycmlkZXNdO1xyXG59XHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuZnVuY3Rpb24gY2xlYXJOdW1iZXJGb3JtYXQoY3R4LCBsb2NhbGUsIGZvcm1hdCkge1xyXG4gICAgY29uc3QgY29udGV4dCA9IGN0eDtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIGZvcm1hdCkge1xyXG4gICAgICAgIGNvbnN0IGlkID0gYCR7bG9jYWxlfV9fJHtrZXl9YDtcclxuICAgICAgICBpZiAoIWNvbnRleHQuX19udW1iZXJGb3JtYXR0ZXJzLmhhcyhpZCkpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRleHQuX19udW1iZXJGb3JtYXR0ZXJzLmRlbGV0ZShpZCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbntcclxuICAgIGlmICh0eXBlb2YgX19JTlRMSUZZX1BST0RfREVWVE9PTFNfXyAhPT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18gPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgTUlTU0lOR19SRVNPTFZFX1ZBTFVFLCBOT1RfUkVPU0xWRUQsIFZFUlNJT04sIGNsZWFyQ29tcGlsZUNhY2hlLCBjbGVhckRhdGVUaW1lRm9ybWF0LCBjbGVhck51bWJlckZvcm1hdCwgY29tcGlsZVRvRnVuY3Rpb24sIGNyZWF0ZUNvcmVDb250ZXh0LCBjcmVhdGVDb3JlRXJyb3IsIGRhdGV0aW1lLCBnZXRBZGRpdGlvbmFsTWV0YSwgZ2V0RGV2VG9vbHNIb29rLCBnZXRMb2NhbGVDaGFpbiwgZ2V0V2Fybk1lc3NhZ2UsIGhhbmRsZU1pc3NpbmcsIGluaXRJMThuRGV2VG9vbHMsIGlzTWVzc2FnZUZ1bmN0aW9uLCBpc1RyYW5zbGF0ZUZhbGxiYWNrV2FybiwgaXNUcmFuc2xhdGVNaXNzaW5nV2FybiwgbnVtYmVyLCBwYXJzZURhdGVUaW1lQXJncywgcGFyc2VOdW1iZXJBcmdzLCBwYXJzZVRyYW5zbGF0ZUFyZ3MsIHJlZ2lzdGVyTWVzc2FnZUNvbXBpbGVyLCBzZXRBZGRpdGlvbmFsTWV0YSwgc2V0RGV2VG9vbHNIb29rLCB0cmFuc2xhdGUsIHRyYW5zbGF0ZURldlRvb2xzLCB1cGRhdGVGYWxsYmFja0xvY2FsZSB9O1xyXG4iLCIvKiFcclxuICAqIEBpbnRsaWZ5L3Z1ZS1kZXZ0b29scyB2OS4xLjlcclxuICAqIChjKSAyMDIxIGthenV5YSBrYXdhZ3VjaGlcclxuICAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICAqL1xyXG5jb25zdCBWdWVEZXZUb29sc0xhYmVscyA9IHtcclxuICAgIFtcInZ1ZS1kZXZ0b29scy1wbHVnaW4tdnVlLWkxOG5cIiAvKiBQTFVHSU4gKi9dOiAnVnVlIEkxOG4gZGV2dG9vbHMnLFxyXG4gICAgW1widnVlLWkxOG4tcmVzb3VyY2UtaW5zcGVjdG9yXCIgLyogQ1VTVE9NX0lOU1BFQ1RPUiAqL106ICdJMThuIFJlc291cmNlcycsXHJcbiAgICBbXCJ2dWUtaTE4bi10aW1lbGluZVwiIC8qIFRJTUVMSU5FICovXTogJ1Z1ZSBJMThuJ1xyXG59O1xyXG5jb25zdCBWdWVEZXZUb29sc1BsYWNlaG9sZGVycyA9IHtcclxuICAgIFtcInZ1ZS1pMThuLXJlc291cmNlLWluc3BlY3RvclwiIC8qIENVU1RPTV9JTlNQRUNUT1IgKi9dOiAnU2VhcmNoIGZvciBzY29wZXMgLi4uJ1xyXG59O1xyXG5jb25zdCBWdWVEZXZUb29sc1RpbWVsaW5lQ29sb3JzID0ge1xyXG4gICAgW1widnVlLWkxOG4tdGltZWxpbmVcIiAvKiBUSU1FTElORSAqL106IDB4ZmZjZDE5XHJcbn07XHJcblxyXG5leHBvcnQgeyBWdWVEZXZUb29sc0xhYmVscywgVnVlRGV2VG9vbHNQbGFjZWhvbGRlcnMsIFZ1ZURldlRvb2xzVGltZWxpbmVDb2xvcnMgfTtcclxuIiwiLyohXHJcbiAgKiB2dWUtaTE4biB2OS4xLjlcclxuICAqIChjKSAyMDIyIGthenV5YSBrYXdhZ3VjaGlcclxuICAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICAqL1xyXG5pbXBvcnQgeyBnZXRHbG9iYWxUaGlzLCBmb3JtYXQsIG1ha2VTeW1ib2wsIGlzUGxhaW5PYmplY3QsIGlzQXJyYXksIGhhc093biwgaXNPYmplY3QsIGlzQm9vbGVhbiwgaXNTdHJpbmcsIGlzUmVnRXhwLCBpc0Z1bmN0aW9uLCBhc3NpZ24sIGlzTnVtYmVyLCB3YXJuLCBjcmVhdGVFbWl0dGVyLCBpc0VtcHR5T2JqZWN0IH0gZnJvbSAnQGludGxpZnkvc2hhcmVkJztcclxuaW1wb3J0IHsgY3JlYXRlQ29tcGlsZUVycm9yLCBoYW5kbGVGbGF0SnNvbiwgY3JlYXRlQ29yZUNvbnRleHQsIHVwZGF0ZUZhbGxiYWNrTG9jYWxlLCByZXNvbHZlVmFsdWUsIGNsZWFyRGF0ZVRpbWVGb3JtYXQsIGNsZWFyTnVtYmVyRm9ybWF0LCBzZXRBZGRpdGlvbmFsTWV0YSwgTk9UX1JFT1NMVkVELCBpc1RyYW5zbGF0ZUZhbGxiYWNrV2FybiwgaXNUcmFuc2xhdGVNaXNzaW5nV2FybiwgcGFyc2VUcmFuc2xhdGVBcmdzLCB0cmFuc2xhdGUsIE1JU1NJTkdfUkVTT0xWRV9WQUxVRSwgcGFyc2VEYXRlVGltZUFyZ3MsIGRhdGV0aW1lLCBwYXJzZU51bWJlckFyZ3MsIG51bWJlciwgZ2V0TG9jYWxlQ2hhaW4sIHNldERldlRvb2xzSG9vayB9IGZyb20gJ0BpbnRsaWZ5L2NvcmUtYmFzZSc7XHJcbmltcG9ydCB7IHJlZiwgZ2V0Q3VycmVudEluc3RhbmNlLCBjb21wdXRlZCwgd2F0Y2gsIGNyZWF0ZVZOb2RlLCBUZXh0LCBoLCBGcmFnbWVudCwgaW5qZWN0LCBvbk1vdW50ZWQsIG9uVW5tb3VudGVkLCBpc1JlZiB9IGZyb20gJ3Z1ZSc7XHJcbmltcG9ydCB7IHNldHVwRGV2dG9vbHNQbHVnaW4gfSBmcm9tICdAdnVlL2RldnRvb2xzLWFwaSc7XHJcbmltcG9ydCB7IFZ1ZURldlRvb2xzTGFiZWxzLCBWdWVEZXZUb29sc1BsYWNlaG9sZGVycywgVnVlRGV2VG9vbHNUaW1lbGluZUNvbG9ycyB9IGZyb20gJ0BpbnRsaWZ5L3Z1ZS1kZXZ0b29scyc7XHJcblxyXG4vKipcclxuICogVnVlIEkxOG4gVmVyc2lvblxyXG4gKlxyXG4gKiBAcmVtYXJrc1xyXG4gKiBTZW12ZXIgZm9ybWF0LiBTYW1lIGZvcm1hdCBhcyB0aGUgcGFja2FnZS5qc29uIGB2ZXJzaW9uYCBmaWVsZC5cclxuICpcclxuICogQFZ1ZUkxOG5HZW5lcmFsXHJcbiAqL1xyXG5jb25zdCBWRVJTSU9OID0gJzkuMS45JztcclxuLyoqXHJcbiAqIFRoaXMgaXMgb25seSBjYWxsZWQgaW4gZXNtLWJ1bmRsZXIgYnVpbGRzLlxyXG4gKiBpc3RhbmJ1bC1pZ25vcmUtbmV4dFxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdEZlYXR1cmVGbGFncygpIHtcclxuICAgIGxldCBuZWVkV2FybiA9IGZhbHNlO1xyXG4gICAgaWYgKHR5cGVvZiBfX1ZVRV9JMThOX0ZVTExfSU5TVEFMTF9fICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICBuZWVkV2FybiA9IHRydWU7XHJcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX0kxOE5fRlVMTF9JTlNUQUxMX18gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBfX1ZVRV9JMThOX0xFR0FDWV9BUElfXyAhPT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgbmVlZFdhcm4gPSB0cnVlO1xyXG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9JMThOX0xFR0FDWV9BUElfXyA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIF9fVlVFX0kxOE5fUFJPRF9ERVZUT09MU19fICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICBuZWVkV2FybiA9IHRydWU7XHJcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX0kxOE5fUFJPRF9ERVZUT09MU19fID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIF9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18gIT09ICdib29sZWFuJykge1xyXG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX0lOVExJRllfUFJPRF9ERVZUT09MU19fID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHR5cGVvZiB0cnVlID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICBuZWVkV2FybiA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG5lZWRXYXJuKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGBZb3UgYXJlIHJ1bm5pbmcgdGhlIGVzbS1idW5kbGVyIGJ1aWxkIG9mIHZ1ZS1pMThuLiBJdCBpcyByZWNvbW1lbmRlZCB0byBgICtcclxuICAgICAgICAgICAgYGNvbmZpZ3VyZSB5b3VyIGJ1bmRsZXIgdG8gZXhwbGljaXRseSByZXBsYWNlIGZlYXR1cmUgZmxhZyBnbG9iYWxzIGAgK1xyXG4gICAgICAgICAgICBgd2l0aCBib29sZWFuIGxpdGVyYWxzIHRvIGdldCBwcm9wZXIgdHJlZS1zaGFraW5nIGluIHRoZSBmaW5hbCBidW5kbGUuYCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHdhcm5NZXNzYWdlcyA9IHtcclxuICAgIFs2IC8qIEZBTExCQUNLX1RPX1JPT1QgKi9dOiBgRmFsbCBiYWNrIHRvIHt0eXBlfSAne2tleX0nIHdpdGggcm9vdCBsb2NhbGUuYCxcclxuICAgIFs3IC8qIE5PVF9TVVBQT1JURURfUFJFU0VSVkUgKi9dOiBgTm90IHN1cHBvcnRlZCAncHJlc2VydmUnLmAsXHJcbiAgICBbOCAvKiBOT1RfU1VQUE9SVEVEX0ZPUk1BVFRFUiAqL106IGBOb3Qgc3VwcG9ydGVkICdmb3JtYXR0ZXInLmAsXHJcbiAgICBbOSAvKiBOT1RfU1VQUE9SVEVEX1BSRVNFUlZFX0RJUkVDVElWRSAqL106IGBOb3Qgc3VwcG9ydGVkICdwcmVzZXJ2ZURpcmVjdGl2ZUNvbnRlbnQnLmAsXHJcbiAgICBbMTAgLyogTk9UX1NVUFBPUlRFRF9HRVRfQ0hPSUNFX0lOREVYICovXTogYE5vdCBzdXBwb3J0ZWQgJ2dldENob2ljZUluZGV4Jy5gLFxyXG4gICAgWzExIC8qIENPTVBPTkVOVF9OQU1FX0xFR0FDWV9DT01QQVRJQkxFICovXTogYENvbXBvbmVudCBuYW1lIGxlZ2FjeSBjb21wYXRpYmxlOiAne25hbWV9JyAtPiAnaTE4bidgLFxyXG4gICAgWzEyIC8qIE5PVF9GT1VORF9QQVJFTlRfU0NPUEUgKi9dOiBgTm90IGZvdW5kIHBhcmVudCBzY29wZS4gdXNlIHRoZSBnbG9iYWwgc2NvcGUuYFxyXG59O1xyXG5mdW5jdGlvbiBnZXRXYXJuTWVzc2FnZShjb2RlLCAuLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gZm9ybWF0KHdhcm5NZXNzYWdlc1tjb2RlXSwgLi4uYXJncyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUkxOG5FcnJvcihjb2RlLCAuLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlQ29tcGlsZUVycm9yKGNvZGUsIG51bGwsIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHsgbWVzc2FnZXM6IGVycm9yTWVzc2FnZXMsIGFyZ3MgfSA6IHVuZGVmaW5lZCk7XHJcbn1cclxuY29uc3QgZXJyb3JNZXNzYWdlcyA9IHtcclxuICAgIFsxNCAvKiBVTkVYUEVDVEVEX1JFVFVSTl9UWVBFICovXTogJ1VuZXhwZWN0ZWQgcmV0dXJuIHR5cGUgaW4gY29tcG9zZXInLFxyXG4gICAgWzE1IC8qIElOVkFMSURfQVJHVU1FTlQgKi9dOiAnSW52YWxpZCBhcmd1bWVudCcsXHJcbiAgICBbMTYgLyogTVVTVF9CRV9DQUxMX1NFVFVQX1RPUCAqL106ICdNdXN0IGJlIGNhbGxlZCBhdCB0aGUgdG9wIG9mIGEgYHNldHVwYCBmdW5jdGlvbicsXHJcbiAgICBbMTcgLyogTk9UX0lOU0xBTExFRCAqL106ICdOZWVkIHRvIGluc3RhbGwgd2l0aCBgYXBwLnVzZWAgZnVuY3Rpb24nLFxyXG4gICAgWzIyIC8qIFVORVhQRUNURURfRVJST1IgKi9dOiAnVW5leHBlY3RlZCBlcnJvcicsXHJcbiAgICBbMTggLyogTk9UX0FWQUlMQUJMRV9JTl9MRUdBQ1lfTU9ERSAqL106ICdOb3QgYXZhaWxhYmxlIGluIGxlZ2FjeSBtb2RlJyxcclxuICAgIFsxOSAvKiBSRVFVSVJFRF9WQUxVRSAqL106IGBSZXF1aXJlZCBpbiB2YWx1ZTogezB9YCxcclxuICAgIFsyMCAvKiBJTlZBTElEX1ZBTFVFICovXTogYEludmFsaWQgdmFsdWVgLFxyXG4gICAgWzIxIC8qIENBTk5PVF9TRVRVUF9WVUVfREVWVE9PTFNfUExVR0lOICovXTogYENhbm5vdCBzZXR1cCB2dWUtZGV2dG9vbHMgcGx1Z2luYFxyXG59O1xyXG5cclxuY29uc3QgREVWVE9PTFNfTUVUQSA9ICdfX0lOVExJRllfTUVUQV9fJztcclxuY29uc3QgVHJhbnNyYXRlVk5vZGVTeW1ib2wgPSBtYWtlU3ltYm9sKCdfX3RyYW5zcmF0ZVZOb2RlJyk7XHJcbmNvbnN0IERhdGV0aW1lUGFydHNTeW1ib2wgPSBtYWtlU3ltYm9sKCdfX2RhdGV0aW1lUGFydHMnKTtcclxuY29uc3QgTnVtYmVyUGFydHNTeW1ib2wgPSBtYWtlU3ltYm9sKCdfX251bWJlclBhcnRzJyk7XHJcbmNvbnN0IEVuYWJsZUVtaXR0ZXIgPSBtYWtlU3ltYm9sKCdfX2VuYWJsZUVtaXR0ZXInKTtcclxuY29uc3QgRGlzYWJsZUVtaXR0ZXIgPSBtYWtlU3ltYm9sKCdfX2Rpc2FibGVFbWl0dGVyJyk7XHJcbmNvbnN0IFNldFBsdXJhbFJ1bGVzU3ltYm9sID0gbWFrZVN5bWJvbCgnX19zZXRQbHVyYWxSdWxlcycpO1xyXG5tYWtlU3ltYm9sKCdfX2ludGxpZnlNZXRhJyk7XHJcbmNvbnN0IEluZWpjdFdpdGhPcHRpb24gPSBtYWtlU3ltYm9sKCdfX2luamVjdFdpdGhPcHRpb24nKTtcclxubGV0IGNvbXBvc2VySUQgPSAwO1xyXG5mdW5jdGlvbiBkZWZpbmVDb3JlTWlzc2luZ0hhbmRsZXIobWlzc2luZykge1xyXG4gICAgcmV0dXJuICgoY3R4LCBsb2NhbGUsIGtleSwgdHlwZSkgPT4ge1xyXG4gICAgICAgIHJldHVybiBtaXNzaW5nKGxvY2FsZSwga2V5LCBnZXRDdXJyZW50SW5zdGFuY2UoKSB8fCB1bmRlZmluZWQsIHR5cGUpO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0TG9jYWxlTWVzc2FnZXMobG9jYWxlLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCB7IG1lc3NhZ2VzLCBfX2kxOG4gfSA9IG9wdGlvbnM7XHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIGNvbnN0IHJldCA9IGlzUGxhaW5PYmplY3QobWVzc2FnZXMpXHJcbiAgICAgICAgPyBtZXNzYWdlc1xyXG4gICAgICAgIDogaXNBcnJheShfX2kxOG4pXHJcbiAgICAgICAgICAgID8ge31cclxuICAgICAgICAgICAgOiB7IFtsb2NhbGVdOiB7fSB9O1xyXG4gICAgLy8gbWVyZ2UgbG9jYWxlIG1lc3NhZ2VzIG9mIGkxOG4gY3VzdG9tIGJsb2NrXHJcbiAgICBpZiAoaXNBcnJheShfX2kxOG4pKSB7XHJcbiAgICAgICAgX19pMThuLmZvckVhY2goKHsgbG9jYWxlLCByZXNvdXJjZSB9KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcclxuICAgICAgICAgICAgICAgIHJldFtsb2NhbGVdID0gcmV0W2xvY2FsZV0gfHwge307XHJcbiAgICAgICAgICAgICAgICBkZWVwQ29weShyZXNvdXJjZSwgcmV0W2xvY2FsZV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGVlcENvcHkocmVzb3VyY2UsIHJldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIGhhbmRsZSBtZXNzYWdlcyBmb3IgZmxhdCBqc29uXHJcbiAgICBpZiAob3B0aW9ucy5mbGF0SnNvbikge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJldCkge1xyXG4gICAgICAgICAgICBpZiAoaGFzT3duKHJldCwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlRmxhdEpzb24ocmV0W2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5jb25zdCBpc05vdE9iamVjdE9ySXNBcnJheSA9ICh2YWwpID0+ICFpc09iamVjdCh2YWwpIHx8IGlzQXJyYXkodmFsKTtcclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuZnVuY3Rpb24gZGVlcENvcHkoc3JjLCBkZXMpIHtcclxuICAgIC8vIHNyYyBhbmQgZGVzIHNob3VsZCBib3RoIGJlIG9iamVjdHMsIGFuZCBub24gb2YgdGhlbiBjYW4gYmUgYSBhcnJheVxyXG4gICAgaWYgKGlzTm90T2JqZWN0T3JJc0FycmF5KHNyYykgfHwgaXNOb3RPYmplY3RPcklzQXJyYXkoZGVzKSkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcigyMCAvKiBJTlZBTElEX1ZBTFVFICovKTtcclxuICAgIH1cclxuICAgIGZvciAoY29uc3Qga2V5IGluIHNyYykge1xyXG4gICAgICAgIGlmIChoYXNPd24oc3JjLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIGlmIChpc05vdE9iamVjdE9ySXNBcnJheShzcmNba2V5XSkgfHwgaXNOb3RPYmplY3RPcklzQXJyYXkoZGVzW2tleV0pKSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZXBsYWNlIHdpdGggc3JjW2tleV0gd2hlbjpcclxuICAgICAgICAgICAgICAgIC8vIHNyY1trZXldIG9yIGRlc1trZXldIGlzIG5vdCBhIG9iamVjdCwgb3JcclxuICAgICAgICAgICAgICAgIC8vIHNyY1trZXldIG9yIGRlc1trZXldIGlzIGEgYXJyYXlcclxuICAgICAgICAgICAgICAgIGRlc1trZXldID0gc3JjW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzcmNba2V5XSBhbmQgZGVzW2tleV0gYXJlIGJvdGggb2JqZWN0LCBtZXJnZSB0aGVtXHJcbiAgICAgICAgICAgICAgICBkZWVwQ29weShzcmNba2V5XSwgZGVzW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vIGZvciBJbnRsaWZ5IERldlRvb2xzXHJcbmNvbnN0IGdldE1ldGFJbmZvID0gLyogI19fUFVSRV9fKi8gKCkgPT4ge1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgIHJldHVybiBpbnN0YW5jZSAmJiBpbnN0YW5jZS50eXBlW0RFVlRPT0xTX01FVEFdIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgID8geyBbREVWVE9PTFNfTUVUQV06IGluc3RhbmNlLnR5cGVbREVWVE9PTFNfTUVUQV0gfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICA6IG51bGw7XHJcbn07XHJcbi8qKlxyXG4gKiBDcmVhdGUgY29tcG9zZXIgaW50ZXJmYWNlIGZhY3RvcnlcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVDb21wb3NlcihvcHRpb25zID0ge30pIHtcclxuICAgIGNvbnN0IHsgX19yb290IH0gPSBvcHRpb25zO1xyXG4gICAgY29uc3QgX2lzR2xvYmFsID0gX19yb290ID09PSB1bmRlZmluZWQ7XHJcbiAgICBsZXQgX2luaGVyaXRMb2NhbGUgPSBpc0Jvb2xlYW4ob3B0aW9ucy5pbmhlcml0TG9jYWxlKVxyXG4gICAgICAgID8gb3B0aW9ucy5pbmhlcml0TG9jYWxlXHJcbiAgICAgICAgOiB0cnVlO1xyXG4gICAgY29uc3QgX2xvY2FsZSA9IHJlZihcclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgX19yb290ICYmIF9pbmhlcml0TG9jYWxlXHJcbiAgICAgICAgPyBfX3Jvb3QubG9jYWxlLnZhbHVlXHJcbiAgICAgICAgOiBpc1N0cmluZyhvcHRpb25zLmxvY2FsZSlcclxuICAgICAgICAgICAgPyBvcHRpb25zLmxvY2FsZVxyXG4gICAgICAgICAgICA6ICdlbi1VUycpO1xyXG4gICAgY29uc3QgX2ZhbGxiYWNrTG9jYWxlID0gcmVmKFxyXG4gICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICBfX3Jvb3QgJiYgX2luaGVyaXRMb2NhbGVcclxuICAgICAgICA/IF9fcm9vdC5mYWxsYmFja0xvY2FsZS52YWx1ZVxyXG4gICAgICAgIDogaXNTdHJpbmcob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcclxuICAgICAgICAgICAgaXNBcnJheShvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxyXG4gICAgICAgICAgICBpc1BsYWluT2JqZWN0KG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XHJcbiAgICAgICAgICAgIG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUgPT09IGZhbHNlXHJcbiAgICAgICAgICAgID8gb3B0aW9ucy5mYWxsYmFja0xvY2FsZVxyXG4gICAgICAgICAgICA6IF9sb2NhbGUudmFsdWUpO1xyXG4gICAgY29uc3QgX21lc3NhZ2VzID0gcmVmKGdldExvY2FsZU1lc3NhZ2VzKF9sb2NhbGUudmFsdWUsIG9wdGlvbnMpKTtcclxuICAgIGNvbnN0IF9kYXRldGltZUZvcm1hdHMgPSByZWYoaXNQbGFpbk9iamVjdChvcHRpb25zLmRhdGV0aW1lRm9ybWF0cylcclxuICAgICAgICA/IG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzXHJcbiAgICAgICAgOiB7IFtfbG9jYWxlLnZhbHVlXToge30gfSk7XHJcbiAgICBjb25zdCBfbnVtYmVyRm9ybWF0cyA9IHJlZihpc1BsYWluT2JqZWN0KG9wdGlvbnMubnVtYmVyRm9ybWF0cylcclxuICAgICAgICA/IG9wdGlvbnMubnVtYmVyRm9ybWF0c1xyXG4gICAgICAgIDogeyBbX2xvY2FsZS52YWx1ZV06IHt9IH0pO1xyXG4gICAgLy8gd2FybmluZyBzdXBwcmVzcyBvcHRpb25zXHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIGxldCBfbWlzc2luZ1dhcm4gPSBfX3Jvb3RcclxuICAgICAgICA/IF9fcm9vdC5taXNzaW5nV2FyblxyXG4gICAgICAgIDogaXNCb29sZWFuKG9wdGlvbnMubWlzc2luZ1dhcm4pIHx8IGlzUmVnRXhwKG9wdGlvbnMubWlzc2luZ1dhcm4pXHJcbiAgICAgICAgICAgID8gb3B0aW9ucy5taXNzaW5nV2FyblxyXG4gICAgICAgICAgICA6IHRydWU7XHJcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgIGxldCBfZmFsbGJhY2tXYXJuID0gX19yb290XHJcbiAgICAgICAgPyBfX3Jvb3QuZmFsbGJhY2tXYXJuXHJcbiAgICAgICAgOiBpc0Jvb2xlYW4ob3B0aW9ucy5mYWxsYmFja1dhcm4pIHx8IGlzUmVnRXhwKG9wdGlvbnMuZmFsbGJhY2tXYXJuKVxyXG4gICAgICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tXYXJuXHJcbiAgICAgICAgICAgIDogdHJ1ZTtcclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgbGV0IF9mYWxsYmFja1Jvb3QgPSBfX3Jvb3RcclxuICAgICAgICA/IF9fcm9vdC5mYWxsYmFja1Jvb3RcclxuICAgICAgICA6IGlzQm9vbGVhbihvcHRpb25zLmZhbGxiYWNrUm9vdClcclxuICAgICAgICAgICAgPyBvcHRpb25zLmZhbGxiYWNrUm9vdFxyXG4gICAgICAgICAgICA6IHRydWU7XHJcbiAgICAvLyBjb25maWd1cmUgZmFsbCBiYWNrIHRvIHJvb3RcclxuICAgIGxldCBfZmFsbGJhY2tGb3JtYXQgPSAhIW9wdGlvbnMuZmFsbGJhY2tGb3JtYXQ7XHJcbiAgICAvLyBydW50aW1lIG1pc3NpbmdcclxuICAgIGxldCBfbWlzc2luZyA9IGlzRnVuY3Rpb24ob3B0aW9ucy5taXNzaW5nKSA/IG9wdGlvbnMubWlzc2luZyA6IG51bGw7XHJcbiAgICBsZXQgX3J1bnRpbWVNaXNzaW5nID0gaXNGdW5jdGlvbihvcHRpb25zLm1pc3NpbmcpXHJcbiAgICAgICAgPyBkZWZpbmVDb3JlTWlzc2luZ0hhbmRsZXIob3B0aW9ucy5taXNzaW5nKVxyXG4gICAgICAgIDogbnVsbDtcclxuICAgIC8vIHBvc3RUcmFuc2xhdGlvbiBoYW5kbGVyXHJcbiAgICBsZXQgX3Bvc3RUcmFuc2xhdGlvbiA9IGlzRnVuY3Rpb24ob3B0aW9ucy5wb3N0VHJhbnNsYXRpb24pXHJcbiAgICAgICAgPyBvcHRpb25zLnBvc3RUcmFuc2xhdGlvblxyXG4gICAgICAgIDogbnVsbDtcclxuICAgIGxldCBfd2Fybkh0bWxNZXNzYWdlID0gaXNCb29sZWFuKG9wdGlvbnMud2Fybkh0bWxNZXNzYWdlKVxyXG4gICAgICAgID8gb3B0aW9ucy53YXJuSHRtbE1lc3NhZ2VcclxuICAgICAgICA6IHRydWU7XHJcbiAgICBsZXQgX2VzY2FwZVBhcmFtZXRlciA9ICEhb3B0aW9ucy5lc2NhcGVQYXJhbWV0ZXI7XHJcbiAgICAvLyBjdXN0b20gbGlua2VkIG1vZGlmaWVyc1xyXG4gICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICBjb25zdCBfbW9kaWZpZXJzID0gX19yb290XHJcbiAgICAgICAgPyBfX3Jvb3QubW9kaWZpZXJzXHJcbiAgICAgICAgOiBpc1BsYWluT2JqZWN0KG9wdGlvbnMubW9kaWZpZXJzKVxyXG4gICAgICAgICAgICA/IG9wdGlvbnMubW9kaWZpZXJzXHJcbiAgICAgICAgICAgIDoge307XHJcbiAgICAvLyBwbHVyYWxSdWxlc1xyXG4gICAgbGV0IF9wbHVyYWxSdWxlcyA9IG9wdGlvbnMucGx1cmFsUnVsZXMgfHwgKF9fcm9vdCAmJiBfX3Jvb3QucGx1cmFsUnVsZXMpO1xyXG4gICAgLy8gcnVudGltZSBjb250ZXh0XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XHJcbiAgICBsZXQgX2NvbnRleHQ7XHJcbiAgICBmdW5jdGlvbiBnZXRDb3JlQ29udGV4dCgpIHtcclxuICAgICAgICByZXR1cm4gY3JlYXRlQ29yZUNvbnRleHQoe1xyXG4gICAgICAgICAgICB2ZXJzaW9uOiBWRVJTSU9OLFxyXG4gICAgICAgICAgICBsb2NhbGU6IF9sb2NhbGUudmFsdWUsXHJcbiAgICAgICAgICAgIGZhbGxiYWNrTG9jYWxlOiBfZmFsbGJhY2tMb2NhbGUudmFsdWUsXHJcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBfbWVzc2FnZXMudmFsdWUsXHJcbiAgICAgICAgICAgIG1lc3NhZ2VDb21waWxlcjogZnVuY3Rpb24gY29tcGlsZVRvRnVuY3Rpb24oc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjdHgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eC5ub3JtYWxpemUoW3NvdXJjZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAsXHJcbiAgICAgICAgICAgIGRhdGV0aW1lRm9ybWF0czogX2RhdGV0aW1lRm9ybWF0cy52YWx1ZSxcclxuICAgICAgICAgICAgbnVtYmVyRm9ybWF0czogX251bWJlckZvcm1hdHMudmFsdWUsXHJcbiAgICAgICAgICAgIG1vZGlmaWVyczogX21vZGlmaWVycyxcclxuICAgICAgICAgICAgcGx1cmFsUnVsZXM6IF9wbHVyYWxSdWxlcyxcclxuICAgICAgICAgICAgbWlzc2luZzogX3J1bnRpbWVNaXNzaW5nID09PSBudWxsID8gdW5kZWZpbmVkIDogX3J1bnRpbWVNaXNzaW5nLFxyXG4gICAgICAgICAgICBtaXNzaW5nV2FybjogX21pc3NpbmdXYXJuLFxyXG4gICAgICAgICAgICBmYWxsYmFja1dhcm46IF9mYWxsYmFja1dhcm4sXHJcbiAgICAgICAgICAgIGZhbGxiYWNrRm9ybWF0OiBfZmFsbGJhY2tGb3JtYXQsXHJcbiAgICAgICAgICAgIHVucmVzb2x2aW5nOiB0cnVlLFxyXG4gICAgICAgICAgICBwb3N0VHJhbnNsYXRpb246IF9wb3N0VHJhbnNsYXRpb24gPT09IG51bGwgPyB1bmRlZmluZWQgOiBfcG9zdFRyYW5zbGF0aW9uLFxyXG4gICAgICAgICAgICB3YXJuSHRtbE1lc3NhZ2U6IF93YXJuSHRtbE1lc3NhZ2UsXHJcbiAgICAgICAgICAgIGVzY2FwZVBhcmFtZXRlcjogX2VzY2FwZVBhcmFtZXRlcixcclxuICAgICAgICAgICAgX19kYXRldGltZUZvcm1hdHRlcnM6IGlzUGxhaW5PYmplY3QoX2NvbnRleHQpXHJcbiAgICAgICAgICAgICAgICA/IF9jb250ZXh0Ll9fZGF0ZXRpbWVGb3JtYXR0ZXJzXHJcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgX19udW1iZXJGb3JtYXR0ZXJzOiBpc1BsYWluT2JqZWN0KF9jb250ZXh0KVxyXG4gICAgICAgICAgICAgICAgPyBfY29udGV4dC5fX251bWJlckZvcm1hdHRlcnNcclxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBfX3ZfZW1pdHRlcjogaXNQbGFpbk9iamVjdChfY29udGV4dClcclxuICAgICAgICAgICAgICAgID8gX2NvbnRleHQuX192X2VtaXR0ZXJcclxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBfX21ldGE6IHsgZnJhbWV3b3JrOiAndnVlJyB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfY29udGV4dCA9IGdldENvcmVDb250ZXh0KCk7XHJcbiAgICB1cGRhdGVGYWxsYmFja0xvY2FsZShfY29udGV4dCwgX2xvY2FsZS52YWx1ZSwgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlKTtcclxuICAgIC8vIHRyYWNrIHJlYWN0aXZpdHlcclxuICAgIGZ1bmN0aW9uIHRyYWNrUmVhY3Rpdml0eVZhbHVlcygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBfbG9jYWxlLnZhbHVlLFxyXG4gICAgICAgICAgICBfZmFsbGJhY2tMb2NhbGUudmFsdWUsXHJcbiAgICAgICAgICAgIF9tZXNzYWdlcy52YWx1ZSxcclxuICAgICAgICAgICAgX2RhdGV0aW1lRm9ybWF0cy52YWx1ZSxcclxuICAgICAgICAgICAgX251bWJlckZvcm1hdHMudmFsdWVcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG4gICAgLy8gbG9jYWxlXHJcbiAgICBjb25zdCBsb2NhbGUgPSBjb21wdXRlZCh7XHJcbiAgICAgICAgZ2V0OiAoKSA9PiBfbG9jYWxlLnZhbHVlLFxyXG4gICAgICAgIHNldDogdmFsID0+IHtcclxuICAgICAgICAgICAgX2xvY2FsZS52YWx1ZSA9IHZhbDtcclxuICAgICAgICAgICAgX2NvbnRleHQubG9jYWxlID0gX2xvY2FsZS52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIC8vIGZhbGxiYWNrTG9jYWxlXHJcbiAgICBjb25zdCBmYWxsYmFja0xvY2FsZSA9IGNvbXB1dGVkKHtcclxuICAgICAgICBnZXQ6ICgpID0+IF9mYWxsYmFja0xvY2FsZS52YWx1ZSxcclxuICAgICAgICBzZXQ6IHZhbCA9PiB7XHJcbiAgICAgICAgICAgIF9mYWxsYmFja0xvY2FsZS52YWx1ZSA9IHZhbDtcclxuICAgICAgICAgICAgX2NvbnRleHQuZmFsbGJhY2tMb2NhbGUgPSBfZmFsbGJhY2tMb2NhbGUudmFsdWU7XHJcbiAgICAgICAgICAgIHVwZGF0ZUZhbGxiYWNrTG9jYWxlKF9jb250ZXh0LCBfbG9jYWxlLnZhbHVlLCB2YWwpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgLy8gbWVzc2FnZXNcclxuICAgIGNvbnN0IG1lc3NhZ2VzID0gY29tcHV0ZWQoKCkgPT4gX21lc3NhZ2VzLnZhbHVlKTtcclxuICAgIC8vIGRhdGV0aW1lRm9ybWF0c1xyXG4gICAgY29uc3QgZGF0ZXRpbWVGb3JtYXRzID0gY29tcHV0ZWQoKCkgPT4gX2RhdGV0aW1lRm9ybWF0cy52YWx1ZSk7XHJcbiAgICAvLyBudW1iZXJGb3JtYXRzXHJcbiAgICBjb25zdCBudW1iZXJGb3JtYXRzID0gY29tcHV0ZWQoKCkgPT4gX251bWJlckZvcm1hdHMudmFsdWUpO1xyXG4gICAgLy8gZ2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlclxyXG4gICAgZnVuY3Rpb24gZ2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlcigpIHtcclxuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihfcG9zdFRyYW5zbGF0aW9uKSA/IF9wb3N0VHJhbnNsYXRpb24gOiBudWxsO1xyXG4gICAgfVxyXG4gICAgLy8gc2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlclxyXG4gICAgZnVuY3Rpb24gc2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlcihoYW5kbGVyKSB7XHJcbiAgICAgICAgX3Bvc3RUcmFuc2xhdGlvbiA9IGhhbmRsZXI7XHJcbiAgICAgICAgX2NvbnRleHQucG9zdFRyYW5zbGF0aW9uID0gaGFuZGxlcjtcclxuICAgIH1cclxuICAgIC8vIGdldE1pc3NpbmdIYW5kbGVyXHJcbiAgICBmdW5jdGlvbiBnZXRNaXNzaW5nSGFuZGxlcigpIHtcclxuICAgICAgICByZXR1cm4gX21pc3Npbmc7XHJcbiAgICB9XHJcbiAgICAvLyBzZXRNaXNzaW5nSGFuZGxlclxyXG4gICAgZnVuY3Rpb24gc2V0TWlzc2luZ0hhbmRsZXIoaGFuZGxlcikge1xyXG4gICAgICAgIGlmIChoYW5kbGVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIF9ydW50aW1lTWlzc2luZyA9IGRlZmluZUNvcmVNaXNzaW5nSGFuZGxlcihoYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgX21pc3NpbmcgPSBoYW5kbGVyO1xyXG4gICAgICAgIF9jb250ZXh0Lm1pc3NpbmcgPSBfcnVudGltZU1pc3Npbmc7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc1Jlc29sdmVkVHJhbnNsYXRlTWVzc2FnZSh0eXBlLCBhcmcgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICApIHtcclxuICAgICAgICByZXR1cm4gdHlwZSAhPT0gJ3RyYW5zbGF0ZScgfHwgISFhcmcucmVzb2x2ZWRNZXNzYWdlID09PSBmYWxzZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHdyYXBXaXRoRGVwcyhmbiwgYXJndW1lbnRQYXJzZXIsIHdhcm5UeXBlLCBmYWxsYmFja1N1Y2Nlc3MsIGZhbGxiYWNrRmFpbCwgc3VjY2Vzc0NvbmRpdGlvbikge1xyXG4gICAgICAgIHRyYWNrUmVhY3Rpdml0eVZhbHVlcygpOyAvLyB0cmFjayByZWFjdGl2ZSBkZXBlbmRlbmN5XHJcbiAgICAgICAgLy8gTk9URTogZXhwZXJpbWVudGFsICEhXHJcbiAgICAgICAgbGV0IHJldDtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fSU5UTElGWV9QUk9EX0RFVlRPT0xTX18pIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHNldEFkZGl0aW9uYWxNZXRhKGdldE1ldGFJbmZvKCkpO1xyXG4gICAgICAgICAgICAgICAgcmV0ID0gZm4oX2NvbnRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgc2V0QWRkaXRpb25hbE1ldGEobnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldCA9IGZuKF9jb250ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzTnVtYmVyKHJldCkgJiYgcmV0ID09PSBOT1RfUkVPU0xWRUQpIHtcclxuICAgICAgICAgICAgY29uc3QgW2tleSwgYXJnMl0gPSBhcmd1bWVudFBhcnNlcigpO1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgICAgICBfX3Jvb3QgJiZcclxuICAgICAgICAgICAgICAgIGlzU3RyaW5nKGtleSkgJiZcclxuICAgICAgICAgICAgICAgIGlzUmVzb2x2ZWRUcmFuc2xhdGVNZXNzYWdlKHdhcm5UeXBlLCBhcmcyKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9mYWxsYmFja1Jvb3QgJiZcclxuICAgICAgICAgICAgICAgICAgICAoaXNUcmFuc2xhdGVGYWxsYmFja1dhcm4oX2ZhbGxiYWNrV2Fybiwga2V5KSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1RyYW5zbGF0ZU1pc3NpbmdXYXJuKF9taXNzaW5nV2Fybiwga2V5KSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKGdldFdhcm5NZXNzYWdlKDYgLyogRkFMTEJBQ0tfVE9fUk9PVCAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHdhcm5UeXBlXHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gZm9yIHZ1ZS1kZXZ0b29scyB0aW1lbGluZSBldmVudFxyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgX192X2VtaXR0ZXI6IGVtaXR0ZXIgfSA9IF9jb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbWl0dGVyICYmIF9mYWxsYmFja1Jvb3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KFwiZmFsbGJhY2tcIiAvKiBGQUxCQUNLICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB3YXJuVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvOiAnZ2xvYmFsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGAke3dhcm5UeXBlfToke2tleX1gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gX19yb290ICYmIF9mYWxsYmFja1Jvb3RcclxuICAgICAgICAgICAgICAgID8gZmFsbGJhY2tTdWNjZXNzKF9fcm9vdClcclxuICAgICAgICAgICAgICAgIDogZmFsbGJhY2tGYWlsKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHN1Y2Nlc3NDb25kaXRpb24ocmV0KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKDE0IC8qIFVORVhQRUNURURfUkVUVVJOX1RZUEUgKi8pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHRcclxuICAgIGZ1bmN0aW9uIHQoLi4uYXJncykge1xyXG4gICAgICAgIHJldHVybiB3cmFwV2l0aERlcHMoY29udGV4dCA9PiB0cmFuc2xhdGUoY29udGV4dCwgLi4uYXJncyksICgpID0+IHBhcnNlVHJhbnNsYXRlQXJncyguLi5hcmdzKSwgJ3RyYW5zbGF0ZScsIHJvb3QgPT4gcm9vdC50KC4uLmFyZ3MpLCBrZXkgPT4ga2V5LCB2YWwgPT4gaXNTdHJpbmcodmFsKSk7XHJcbiAgICB9XHJcbiAgICAvLyBydFxyXG4gICAgZnVuY3Rpb24gcnQoLi4uYXJncykge1xyXG4gICAgICAgIGNvbnN0IFthcmcxLCBhcmcyLCBhcmczXSA9IGFyZ3M7XHJcbiAgICAgICAgaWYgKGFyZzMgJiYgIWlzT2JqZWN0KGFyZzMpKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcigxNSAvKiBJTlZBTElEX0FSR1VNRU5UICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQoLi4uW2FyZzEsIGFyZzIsIGFzc2lnbih7IHJlc29sdmVkTWVzc2FnZTogdHJ1ZSB9LCBhcmczIHx8IHt9KV0pO1xyXG4gICAgfVxyXG4gICAgLy8gZFxyXG4gICAgZnVuY3Rpb24gZCguLi5hcmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIHdyYXBXaXRoRGVwcyhjb250ZXh0ID0+IGRhdGV0aW1lKGNvbnRleHQsIC4uLmFyZ3MpLCAoKSA9PiBwYXJzZURhdGVUaW1lQXJncyguLi5hcmdzKSwgJ2RhdGV0aW1lIGZvcm1hdCcsIHJvb3QgPT4gcm9vdC5kKC4uLmFyZ3MpLCAoKSA9PiBNSVNTSU5HX1JFU09MVkVfVkFMVUUsIHZhbCA9PiBpc1N0cmluZyh2YWwpKTtcclxuICAgIH1cclxuICAgIC8vIG5cclxuICAgIGZ1bmN0aW9uIG4oLi4uYXJncykge1xyXG4gICAgICAgIHJldHVybiB3cmFwV2l0aERlcHMoY29udGV4dCA9PiBudW1iZXIoY29udGV4dCwgLi4uYXJncyksICgpID0+IHBhcnNlTnVtYmVyQXJncyguLi5hcmdzKSwgJ251bWJlciBmb3JtYXQnLCByb290ID0+IHJvb3QubiguLi5hcmdzKSwgKCkgPT4gTUlTU0lOR19SRVNPTFZFX1ZBTFVFLCB2YWwgPT4gaXNTdHJpbmcodmFsKSk7XHJcbiAgICB9XHJcbiAgICAvLyBmb3IgY3VzdG9tIHByb2Nlc3NvclxyXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplKHZhbHVlcykge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZXMubWFwKHZhbCA9PiBpc1N0cmluZyh2YWwpID8gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgdmFsLCAwKSA6IHZhbCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBpbnRlcnBvbGF0ZSA9ICh2YWwpID0+IHZhbDtcclxuICAgIGNvbnN0IHByb2Nlc3NvciA9IHtcclxuICAgICAgICBub3JtYWxpemUsXHJcbiAgICAgICAgaW50ZXJwb2xhdGUsXHJcbiAgICAgICAgdHlwZTogJ3Zub2RlJ1xyXG4gICAgfTtcclxuICAgIC8vIHRyYW5zcmF0ZVZOb2RlLCB1c2luZyBmb3IgYGkxOG4tdGAgY29tcG9uZW50XHJcbiAgICBmdW5jdGlvbiB0cmFuc3JhdGVWTm9kZSguLi5hcmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIHdyYXBXaXRoRGVwcyhjb250ZXh0ID0+IHtcclxuICAgICAgICAgICAgbGV0IHJldDtcclxuICAgICAgICAgICAgY29uc3QgX2NvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJvY2Vzc29yID0gcHJvY2Vzc29yO1xyXG4gICAgICAgICAgICAgICAgcmV0ID0gdHJhbnNsYXRlKF9jb250ZXh0LCAuLi5hcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByb2Nlc3NvciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9LCAoKSA9PiBwYXJzZVRyYW5zbGF0ZUFyZ3MoLi4uYXJncyksICd0cmFuc2xhdGUnLCBcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgIHJvb3QgPT4gcm9vdFtUcmFuc3JhdGVWTm9kZVN5bWJvbF0oLi4uYXJncyksIGtleSA9PiBbY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwga2V5LCAwKV0sIHZhbCA9PiBpc0FycmF5KHZhbCkpO1xyXG4gICAgfVxyXG4gICAgLy8gbnVtYmVyUGFydHMsIHVzaW5nIGZvciBgaTE4bi1uYCBjb21wb25lbnRcclxuICAgIGZ1bmN0aW9uIG51bWJlclBhcnRzKC4uLmFyZ3MpIHtcclxuICAgICAgICByZXR1cm4gd3JhcFdpdGhEZXBzKGNvbnRleHQgPT4gbnVtYmVyKGNvbnRleHQsIC4uLmFyZ3MpLCAoKSA9PiBwYXJzZU51bWJlckFyZ3MoLi4uYXJncyksICdudW1iZXIgZm9ybWF0JywgXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICByb290ID0+IHJvb3RbTnVtYmVyUGFydHNTeW1ib2xdKC4uLmFyZ3MpLCAoKSA9PiBbXSwgdmFsID0+IGlzU3RyaW5nKHZhbCkgfHwgaXNBcnJheSh2YWwpKTtcclxuICAgIH1cclxuICAgIC8vIGRhdGV0aW1lUGFydHMsIHVzaW5nIGZvciBgaTE4bi1kYCBjb21wb25lbnRcclxuICAgIGZ1bmN0aW9uIGRhdGV0aW1lUGFydHMoLi4uYXJncykge1xyXG4gICAgICAgIHJldHVybiB3cmFwV2l0aERlcHMoY29udGV4dCA9PiBkYXRldGltZShjb250ZXh0LCAuLi5hcmdzKSwgKCkgPT4gcGFyc2VEYXRlVGltZUFyZ3MoLi4uYXJncyksICdkYXRldGltZSBmb3JtYXQnLCBcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgIHJvb3QgPT4gcm9vdFtEYXRldGltZVBhcnRzU3ltYm9sXSguLi5hcmdzKSwgKCkgPT4gW10sIHZhbCA9PiBpc1N0cmluZyh2YWwpIHx8IGlzQXJyYXkodmFsKSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBzZXRQbHVyYWxSdWxlcyhydWxlcykge1xyXG4gICAgICAgIF9wbHVyYWxSdWxlcyA9IHJ1bGVzO1xyXG4gICAgICAgIF9jb250ZXh0LnBsdXJhbFJ1bGVzID0gX3BsdXJhbFJ1bGVzO1xyXG4gICAgfVxyXG4gICAgLy8gdGVcclxuICAgIGZ1bmN0aW9uIHRlKGtleSwgbG9jYWxlKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0TG9jYWxlID0gaXNTdHJpbmcobG9jYWxlKSA/IGxvY2FsZSA6IF9sb2NhbGUudmFsdWU7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdldExvY2FsZU1lc3NhZ2UodGFyZ2V0TG9jYWxlKTtcclxuICAgICAgICByZXR1cm4gcmVzb2x2ZVZhbHVlKG1lc3NhZ2UsIGtleSkgIT09IG51bGw7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZXNvbHZlTWVzc2FnZXMoa2V5KSB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2VzID0gbnVsbDtcclxuICAgICAgICBjb25zdCBsb2NhbGVzID0gZ2V0TG9jYWxlQ2hhaW4oX2NvbnRleHQsIF9mYWxsYmFja0xvY2FsZS52YWx1ZSwgX2xvY2FsZS52YWx1ZSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldExvY2FsZU1lc3NhZ2VzID0gX21lc3NhZ2VzLnZhbHVlW2xvY2FsZXNbaV1dIHx8IHt9O1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlVmFsdWUgPSByZXNvbHZlVmFsdWUodGFyZ2V0TG9jYWxlTWVzc2FnZXMsIGtleSk7XHJcbiAgICAgICAgICAgIGlmIChtZXNzYWdlVmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZXMgPSBtZXNzYWdlVmFsdWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWVzc2FnZXM7XHJcbiAgICB9XHJcbiAgICAvLyB0bVxyXG4gICAgZnVuY3Rpb24gdG0oa2V5KSB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSByZXNvbHZlTWVzc2FnZXMoa2V5KTtcclxuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgICAgICByZXR1cm4gbWVzc2FnZXMgIT0gbnVsbFxyXG4gICAgICAgICAgICA/IG1lc3NhZ2VzXHJcbiAgICAgICAgICAgIDogX19yb290XHJcbiAgICAgICAgICAgICAgICA/IF9fcm9vdC50bShrZXkpIHx8IHt9XHJcbiAgICAgICAgICAgICAgICA6IHt9O1xyXG4gICAgfVxyXG4gICAgLy8gZ2V0TG9jYWxlTWVzc2FnZVxyXG4gICAgZnVuY3Rpb24gZ2V0TG9jYWxlTWVzc2FnZShsb2NhbGUpIHtcclxuICAgICAgICByZXR1cm4gKF9tZXNzYWdlcy52YWx1ZVtsb2NhbGVdIHx8IHt9KTtcclxuICAgIH1cclxuICAgIC8vIHNldExvY2FsZU1lc3NhZ2VcclxuICAgIGZ1bmN0aW9uIHNldExvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgX21lc3NhZ2VzLnZhbHVlW2xvY2FsZV0gPSBtZXNzYWdlO1xyXG4gICAgICAgIF9jb250ZXh0Lm1lc3NhZ2VzID0gX21lc3NhZ2VzLnZhbHVlO1xyXG4gICAgfVxyXG4gICAgLy8gbWVyZ2VMb2NhbGVNZXNzYWdlXHJcbiAgICBmdW5jdGlvbiBtZXJnZUxvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgX21lc3NhZ2VzLnZhbHVlW2xvY2FsZV0gPSBfbWVzc2FnZXMudmFsdWVbbG9jYWxlXSB8fCB7fTtcclxuICAgICAgICBkZWVwQ29weShtZXNzYWdlLCBfbWVzc2FnZXMudmFsdWVbbG9jYWxlXSk7XHJcbiAgICAgICAgX2NvbnRleHQubWVzc2FnZXMgPSBfbWVzc2FnZXMudmFsdWU7XHJcbiAgICB9XHJcbiAgICAvLyBnZXREYXRlVGltZUZvcm1hdFxyXG4gICAgZnVuY3Rpb24gZ2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIF9kYXRldGltZUZvcm1hdHMudmFsdWVbbG9jYWxlXSB8fCB7fTtcclxuICAgIH1cclxuICAgIC8vIHNldERhdGVUaW1lRm9ybWF0XHJcbiAgICBmdW5jdGlvbiBzZXREYXRlVGltZUZvcm1hdChsb2NhbGUsIGZvcm1hdCkge1xyXG4gICAgICAgIF9kYXRldGltZUZvcm1hdHMudmFsdWVbbG9jYWxlXSA9IGZvcm1hdDtcclxuICAgICAgICBfY29udGV4dC5kYXRldGltZUZvcm1hdHMgPSBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlO1xyXG4gICAgICAgIGNsZWFyRGF0ZVRpbWVGb3JtYXQoX2NvbnRleHQsIGxvY2FsZSwgZm9ybWF0KTtcclxuICAgIH1cclxuICAgIC8vIG1lcmdlRGF0ZVRpbWVGb3JtYXRcclxuICAgIGZ1bmN0aW9uIG1lcmdlRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcclxuICAgICAgICBfZGF0ZXRpbWVGb3JtYXRzLnZhbHVlW2xvY2FsZV0gPSBhc3NpZ24oX2RhdGV0aW1lRm9ybWF0cy52YWx1ZVtsb2NhbGVdIHx8IHt9LCBmb3JtYXQpO1xyXG4gICAgICAgIF9jb250ZXh0LmRhdGV0aW1lRm9ybWF0cyA9IF9kYXRldGltZUZvcm1hdHMudmFsdWU7XHJcbiAgICAgICAgY2xlYXJEYXRlVGltZUZvcm1hdChfY29udGV4dCwgbG9jYWxlLCBmb3JtYXQpO1xyXG4gICAgfVxyXG4gICAgLy8gZ2V0TnVtYmVyRm9ybWF0XHJcbiAgICBmdW5jdGlvbiBnZXROdW1iZXJGb3JtYXQobG9jYWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIF9udW1iZXJGb3JtYXRzLnZhbHVlW2xvY2FsZV0gfHwge307XHJcbiAgICB9XHJcbiAgICAvLyBzZXROdW1iZXJGb3JtYXRcclxuICAgIGZ1bmN0aW9uIHNldE51bWJlckZvcm1hdChsb2NhbGUsIGZvcm1hdCkge1xyXG4gICAgICAgIF9udW1iZXJGb3JtYXRzLnZhbHVlW2xvY2FsZV0gPSBmb3JtYXQ7XHJcbiAgICAgICAgX2NvbnRleHQubnVtYmVyRm9ybWF0cyA9IF9udW1iZXJGb3JtYXRzLnZhbHVlO1xyXG4gICAgICAgIGNsZWFyTnVtYmVyRm9ybWF0KF9jb250ZXh0LCBsb2NhbGUsIGZvcm1hdCk7XHJcbiAgICB9XHJcbiAgICAvLyBtZXJnZU51bWJlckZvcm1hdFxyXG4gICAgZnVuY3Rpb24gbWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcclxuICAgICAgICBfbnVtYmVyRm9ybWF0cy52YWx1ZVtsb2NhbGVdID0gYXNzaWduKF9udW1iZXJGb3JtYXRzLnZhbHVlW2xvY2FsZV0gfHwge30sIGZvcm1hdCk7XHJcbiAgICAgICAgX2NvbnRleHQubnVtYmVyRm9ybWF0cyA9IF9udW1iZXJGb3JtYXRzLnZhbHVlO1xyXG4gICAgICAgIGNsZWFyTnVtYmVyRm9ybWF0KF9jb250ZXh0LCBsb2NhbGUsIGZvcm1hdCk7XHJcbiAgICB9XHJcbiAgICAvLyBmb3IgZGVidWdcclxuICAgIGNvbXBvc2VySUQrKztcclxuICAgIC8vIHdhdGNoIHJvb3QgbG9jYWxlICYgZmFsbGJhY2tMb2NhbGVcclxuICAgIGlmIChfX3Jvb3QpIHtcclxuICAgICAgICB3YXRjaChfX3Jvb3QubG9jYWxlLCAodmFsKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChfaW5oZXJpdExvY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgX2xvY2FsZS52YWx1ZSA9IHZhbDtcclxuICAgICAgICAgICAgICAgIF9jb250ZXh0LmxvY2FsZSA9IHZhbDtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUZhbGxiYWNrTG9jYWxlKF9jb250ZXh0LCBfbG9jYWxlLnZhbHVlLCBfZmFsbGJhY2tMb2NhbGUudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2F0Y2goX19yb290LmZhbGxiYWNrTG9jYWxlLCAodmFsKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChfaW5oZXJpdExvY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgX2NvbnRleHQuZmFsbGJhY2tMb2NhbGUgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVGYWxsYmFja0xvY2FsZShfY29udGV4dCwgX2xvY2FsZS52YWx1ZSwgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gZGVmaW5lIGNvbXBvc2l0aW9uIEFQSSFcclxuICAgIGNvbnN0IGNvbXBvc2VyID0ge1xyXG4gICAgICAgIGlkOiBjb21wb3NlcklELFxyXG4gICAgICAgIGxvY2FsZSxcclxuICAgICAgICBmYWxsYmFja0xvY2FsZSxcclxuICAgICAgICBnZXQgaW5oZXJpdExvY2FsZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9pbmhlcml0TG9jYWxlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IGluaGVyaXRMb2NhbGUodmFsKSB7XHJcbiAgICAgICAgICAgIF9pbmhlcml0TG9jYWxlID0gdmFsO1xyXG4gICAgICAgICAgICBpZiAodmFsICYmIF9fcm9vdCkge1xyXG4gICAgICAgICAgICAgICAgX2xvY2FsZS52YWx1ZSA9IF9fcm9vdC5sb2NhbGUudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBfZmFsbGJhY2tMb2NhbGUudmFsdWUgPSBfX3Jvb3QuZmFsbGJhY2tMb2NhbGUudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVGYWxsYmFja0xvY2FsZShfY29udGV4dCwgX2xvY2FsZS52YWx1ZSwgX2ZhbGxiYWNrTG9jYWxlLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IGF2YWlsYWJsZUxvY2FsZXMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhfbWVzc2FnZXMudmFsdWUpLnNvcnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1lc3NhZ2VzLFxyXG4gICAgICAgIGRhdGV0aW1lRm9ybWF0cyxcclxuICAgICAgICBudW1iZXJGb3JtYXRzLFxyXG4gICAgICAgIGdldCBtb2RpZmllcnMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfbW9kaWZpZXJzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IHBsdXJhbFJ1bGVzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX3BsdXJhbFJ1bGVzIHx8IHt9O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IGlzR2xvYmFsKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX2lzR2xvYmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IG1pc3NpbmdXYXJuKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX21pc3NpbmdXYXJuO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IG1pc3NpbmdXYXJuKHZhbCkge1xyXG4gICAgICAgICAgICBfbWlzc2luZ1dhcm4gPSB2YWw7XHJcbiAgICAgICAgICAgIF9jb250ZXh0Lm1pc3NpbmdXYXJuID0gX21pc3NpbmdXYXJuO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IGZhbGxiYWNrV2FybigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9mYWxsYmFja1dhcm47XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQgZmFsbGJhY2tXYXJuKHZhbCkge1xyXG4gICAgICAgICAgICBfZmFsbGJhY2tXYXJuID0gdmFsO1xyXG4gICAgICAgICAgICBfY29udGV4dC5mYWxsYmFja1dhcm4gPSBfZmFsbGJhY2tXYXJuO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IGZhbGxiYWNrUm9vdCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9mYWxsYmFja1Jvb3Q7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQgZmFsbGJhY2tSb290KHZhbCkge1xyXG4gICAgICAgICAgICBfZmFsbGJhY2tSb290ID0gdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IGZhbGxiYWNrRm9ybWF0KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX2ZhbGxiYWNrRm9ybWF0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IGZhbGxiYWNrRm9ybWF0KHZhbCkge1xyXG4gICAgICAgICAgICBfZmFsbGJhY2tGb3JtYXQgPSB2YWw7XHJcbiAgICAgICAgICAgIF9jb250ZXh0LmZhbGxiYWNrRm9ybWF0ID0gX2ZhbGxiYWNrRm9ybWF0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IHdhcm5IdG1sTWVzc2FnZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF93YXJuSHRtbE1lc3NhZ2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQgd2Fybkh0bWxNZXNzYWdlKHZhbCkge1xyXG4gICAgICAgICAgICBfd2Fybkh0bWxNZXNzYWdlID0gdmFsO1xyXG4gICAgICAgICAgICBfY29udGV4dC53YXJuSHRtbE1lc3NhZ2UgPSB2YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgZXNjYXBlUGFyYW1ldGVyKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX2VzY2FwZVBhcmFtZXRlcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCBlc2NhcGVQYXJhbWV0ZXIodmFsKSB7XHJcbiAgICAgICAgICAgIF9lc2NhcGVQYXJhbWV0ZXIgPSB2YWw7XHJcbiAgICAgICAgICAgIF9jb250ZXh0LmVzY2FwZVBhcmFtZXRlciA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHQsXHJcbiAgICAgICAgcnQsXHJcbiAgICAgICAgZCxcclxuICAgICAgICBuLFxyXG4gICAgICAgIHRlLFxyXG4gICAgICAgIHRtLFxyXG4gICAgICAgIGdldExvY2FsZU1lc3NhZ2UsXHJcbiAgICAgICAgc2V0TG9jYWxlTWVzc2FnZSxcclxuICAgICAgICBtZXJnZUxvY2FsZU1lc3NhZ2UsXHJcbiAgICAgICAgZ2V0RGF0ZVRpbWVGb3JtYXQsXHJcbiAgICAgICAgc2V0RGF0ZVRpbWVGb3JtYXQsXHJcbiAgICAgICAgbWVyZ2VEYXRlVGltZUZvcm1hdCxcclxuICAgICAgICBnZXROdW1iZXJGb3JtYXQsXHJcbiAgICAgICAgc2V0TnVtYmVyRm9ybWF0LFxyXG4gICAgICAgIG1lcmdlTnVtYmVyRm9ybWF0LFxyXG4gICAgICAgIGdldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIsXHJcbiAgICAgICAgc2V0UG9zdFRyYW5zbGF0aW9uSGFuZGxlcixcclxuICAgICAgICBnZXRNaXNzaW5nSGFuZGxlcixcclxuICAgICAgICBzZXRNaXNzaW5nSGFuZGxlcixcclxuICAgICAgICBbVHJhbnNyYXRlVk5vZGVTeW1ib2xdOiB0cmFuc3JhdGVWTm9kZSxcclxuICAgICAgICBbTnVtYmVyUGFydHNTeW1ib2xdOiBudW1iZXJQYXJ0cyxcclxuICAgICAgICBbRGF0ZXRpbWVQYXJ0c1N5bWJvbF06IGRhdGV0aW1lUGFydHMsXHJcbiAgICAgICAgW1NldFBsdXJhbFJ1bGVzU3ltYm9sXTogc2V0UGx1cmFsUnVsZXMsXHJcbiAgICAgICAgW0luZWpjdFdpdGhPcHRpb25dOiBvcHRpb25zLl9faW5qZWN0V2l0aE9wdGlvbiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgIH07XHJcbiAgICAvLyBmb3IgdnVlLWRldnRvb2xzIHRpbWVsaW5lIGV2ZW50XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgY29tcG9zZXJbRW5hYmxlRW1pdHRlcl0gPSAoZW1pdHRlcikgPT4ge1xyXG4gICAgICAgICAgICBfY29udGV4dC5fX3ZfZW1pdHRlciA9IGVtaXR0ZXI7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb21wb3NlcltEaXNhYmxlRW1pdHRlcl0gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIF9jb250ZXh0Ll9fdl9lbWl0dGVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29tcG9zZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0IHRvIEkxOG4gQ29tcG9zZXIgT3B0aW9ucyBmcm9tIFZ1ZUkxOG4gT3B0aW9uc1xyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIGNvbnZlcnRDb21wb3Nlck9wdGlvbnMob3B0aW9ucykge1xyXG4gICAgY29uc3QgbG9jYWxlID0gaXNTdHJpbmcob3B0aW9ucy5sb2NhbGUpID8gb3B0aW9ucy5sb2NhbGUgOiAnZW4tVVMnO1xyXG4gICAgY29uc3QgZmFsbGJhY2tMb2NhbGUgPSBpc1N0cmluZyhvcHRpb25zLmZhbGxiYWNrTG9jYWxlKSB8fFxyXG4gICAgICAgIGlzQXJyYXkob3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgfHxcclxuICAgICAgICBpc1BsYWluT2JqZWN0KG9wdGlvbnMuZmFsbGJhY2tMb2NhbGUpIHx8XHJcbiAgICAgICAgb3B0aW9ucy5mYWxsYmFja0xvY2FsZSA9PT0gZmFsc2VcclxuICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tMb2NhbGVcclxuICAgICAgICA6IGxvY2FsZTtcclxuICAgIGNvbnN0IG1pc3NpbmcgPSBpc0Z1bmN0aW9uKG9wdGlvbnMubWlzc2luZykgPyBvcHRpb25zLm1pc3NpbmcgOiB1bmRlZmluZWQ7XHJcbiAgICBjb25zdCBtaXNzaW5nV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLnNpbGVudFRyYW5zbGF0aW9uV2FybikgfHxcclxuICAgICAgICBpc1JlZ0V4cChvcHRpb25zLnNpbGVudFRyYW5zbGF0aW9uV2FybilcclxuICAgICAgICA/ICFvcHRpb25zLnNpbGVudFRyYW5zbGF0aW9uV2FyblxyXG4gICAgICAgIDogdHJ1ZTtcclxuICAgIGNvbnN0IGZhbGxiYWNrV2FybiA9IGlzQm9vbGVhbihvcHRpb25zLnNpbGVudEZhbGxiYWNrV2FybikgfHxcclxuICAgICAgICBpc1JlZ0V4cChvcHRpb25zLnNpbGVudEZhbGxiYWNrV2FybilcclxuICAgICAgICA/ICFvcHRpb25zLnNpbGVudEZhbGxiYWNrV2FyblxyXG4gICAgICAgIDogdHJ1ZTtcclxuICAgIGNvbnN0IGZhbGxiYWNrUm9vdCA9IGlzQm9vbGVhbihvcHRpb25zLmZhbGxiYWNrUm9vdClcclxuICAgICAgICA/IG9wdGlvbnMuZmFsbGJhY2tSb290XHJcbiAgICAgICAgOiB0cnVlO1xyXG4gICAgY29uc3QgZmFsbGJhY2tGb3JtYXQgPSAhIW9wdGlvbnMuZm9ybWF0RmFsbGJhY2tNZXNzYWdlcztcclxuICAgIGNvbnN0IG1vZGlmaWVycyA9IGlzUGxhaW5PYmplY3Qob3B0aW9ucy5tb2RpZmllcnMpID8gb3B0aW9ucy5tb2RpZmllcnMgOiB7fTtcclxuICAgIGNvbnN0IHBsdXJhbGl6YXRpb25SdWxlcyA9IG9wdGlvbnMucGx1cmFsaXphdGlvblJ1bGVzO1xyXG4gICAgY29uc3QgcG9zdFRyYW5zbGF0aW9uID0gaXNGdW5jdGlvbihvcHRpb25zLnBvc3RUcmFuc2xhdGlvbilcclxuICAgICAgICA/IG9wdGlvbnMucG9zdFRyYW5zbGF0aW9uXHJcbiAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICBjb25zdCB3YXJuSHRtbE1lc3NhZ2UgPSBpc1N0cmluZyhvcHRpb25zLndhcm5IdG1sSW5NZXNzYWdlKVxyXG4gICAgICAgID8gb3B0aW9ucy53YXJuSHRtbEluTWVzc2FnZSAhPT0gJ29mZidcclxuICAgICAgICA6IHRydWU7XHJcbiAgICBjb25zdCBlc2NhcGVQYXJhbWV0ZXIgPSAhIW9wdGlvbnMuZXNjYXBlUGFyYW1ldGVySHRtbDtcclxuICAgIGNvbnN0IGluaGVyaXRMb2NhbGUgPSBpc0Jvb2xlYW4ob3B0aW9ucy5zeW5jKSA/IG9wdGlvbnMuc3luYyA6IHRydWU7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG9wdGlvbnMuZm9ybWF0dGVyKSB7XHJcbiAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZSg4IC8qIE5PVF9TVVBQT1JURURfRk9STUFUVEVSICovKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG9wdGlvbnMucHJlc2VydmVEaXJlY3RpdmVDb250ZW50KSB7XHJcbiAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZSg5IC8qIE5PVF9TVVBQT1JURURfUFJFU0VSVkVfRElSRUNUSVZFICovKSk7XHJcbiAgICB9XHJcbiAgICBsZXQgbWVzc2FnZXMgPSBvcHRpb25zLm1lc3NhZ2VzO1xyXG4gICAgaWYgKGlzUGxhaW5PYmplY3Qob3B0aW9ucy5zaGFyZWRNZXNzYWdlcykpIHtcclxuICAgICAgICBjb25zdCBzaGFyZWRNZXNzYWdlcyA9IG9wdGlvbnMuc2hhcmVkTWVzc2FnZXM7XHJcbiAgICAgICAgY29uc3QgbG9jYWxlcyA9IE9iamVjdC5rZXlzKHNoYXJlZE1lc3NhZ2VzKTtcclxuICAgICAgICBtZXNzYWdlcyA9IGxvY2FsZXMucmVkdWNlKChtZXNzYWdlcywgbG9jYWxlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBtZXNzYWdlc1tsb2NhbGVdIHx8IChtZXNzYWdlc1tsb2NhbGVdID0ge30pO1xyXG4gICAgICAgICAgICBhc3NpZ24obWVzc2FnZSwgc2hhcmVkTWVzc2FnZXNbbG9jYWxlXSk7XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlcztcclxuICAgICAgICB9LCAobWVzc2FnZXMgfHwge30pKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgX19pMThuLCBfX3Jvb3QsIF9faW5qZWN0V2l0aE9wdGlvbiB9ID0gb3B0aW9ucztcclxuICAgIGNvbnN0IGRhdGV0aW1lRm9ybWF0cyA9IG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzO1xyXG4gICAgY29uc3QgbnVtYmVyRm9ybWF0cyA9IG9wdGlvbnMubnVtYmVyRm9ybWF0cztcclxuICAgIGNvbnN0IGZsYXRKc29uID0gb3B0aW9ucy5mbGF0SnNvbjtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbG9jYWxlLFxyXG4gICAgICAgIGZhbGxiYWNrTG9jYWxlLFxyXG4gICAgICAgIG1lc3NhZ2VzLFxyXG4gICAgICAgIGZsYXRKc29uLFxyXG4gICAgICAgIGRhdGV0aW1lRm9ybWF0cyxcclxuICAgICAgICBudW1iZXJGb3JtYXRzLFxyXG4gICAgICAgIG1pc3NpbmcsXHJcbiAgICAgICAgbWlzc2luZ1dhcm4sXHJcbiAgICAgICAgZmFsbGJhY2tXYXJuLFxyXG4gICAgICAgIGZhbGxiYWNrUm9vdCxcclxuICAgICAgICBmYWxsYmFja0Zvcm1hdCxcclxuICAgICAgICBtb2RpZmllcnMsXHJcbiAgICAgICAgcGx1cmFsUnVsZXM6IHBsdXJhbGl6YXRpb25SdWxlcyxcclxuICAgICAgICBwb3N0VHJhbnNsYXRpb24sXHJcbiAgICAgICAgd2Fybkh0bWxNZXNzYWdlLFxyXG4gICAgICAgIGVzY2FwZVBhcmFtZXRlcixcclxuICAgICAgICBpbmhlcml0TG9jYWxlLFxyXG4gICAgICAgIF9faTE4bixcclxuICAgICAgICBfX3Jvb3QsXHJcbiAgICAgICAgX19pbmplY3RXaXRoT3B0aW9uXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBjcmVhdGUgVnVlSTE4biBpbnRlcmZhY2UgZmFjdG9yeVxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVZ1ZUkxOG4ob3B0aW9ucyA9IHt9KSB7XHJcbiAgICBjb25zdCBjb21wb3NlciA9IGNyZWF0ZUNvbXBvc2VyKGNvbnZlcnRDb21wb3Nlck9wdGlvbnMob3B0aW9ucykpO1xyXG4gICAgLy8gZGVmaW5lcyBWdWVJMThuXHJcbiAgICBjb25zdCB2dWVJMThuID0ge1xyXG4gICAgICAgIC8vIGlkXHJcbiAgICAgICAgaWQ6IGNvbXBvc2VyLmlkLFxyXG4gICAgICAgIC8vIGxvY2FsZVxyXG4gICAgICAgIGdldCBsb2NhbGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5sb2NhbGUudmFsdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQgbG9jYWxlKHZhbCkge1xyXG4gICAgICAgICAgICBjb21wb3Nlci5sb2NhbGUudmFsdWUgPSB2YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBmYWxsYmFja0xvY2FsZVxyXG4gICAgICAgIGdldCBmYWxsYmFja0xvY2FsZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmZhbGxiYWNrTG9jYWxlLnZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IGZhbGxiYWNrTG9jYWxlKHZhbCkge1xyXG4gICAgICAgICAgICBjb21wb3Nlci5mYWxsYmFja0xvY2FsZS52YWx1ZSA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIG1lc3NhZ2VzXHJcbiAgICAgICAgZ2V0IG1lc3NhZ2VzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZXIubWVzc2FnZXMudmFsdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBkYXRldGltZUZvcm1hdHNcclxuICAgICAgICBnZXQgZGF0ZXRpbWVGb3JtYXRzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuZGF0ZXRpbWVGb3JtYXRzLnZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gbnVtYmVyRm9ybWF0c1xyXG4gICAgICAgIGdldCBudW1iZXJGb3JtYXRzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZXIubnVtYmVyRm9ybWF0cy52YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIGF2YWlsYWJsZUxvY2FsZXNcclxuICAgICAgICBnZXQgYXZhaWxhYmxlTG9jYWxlcygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmF2YWlsYWJsZUxvY2FsZXM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBmb3JtYXR0ZXJcclxuICAgICAgICBnZXQgZm9ybWF0dGVyKCkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihnZXRXYXJuTWVzc2FnZSg4IC8qIE5PVF9TVVBQT1JURURfRk9STUFUVEVSICovKSk7XHJcbiAgICAgICAgICAgIC8vIGR1bW15XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZSgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQgZm9ybWF0dGVyKHZhbCkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihnZXRXYXJuTWVzc2FnZSg4IC8qIE5PVF9TVVBQT1JURURfRk9STUFUVEVSICovKSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBtaXNzaW5nXHJcbiAgICAgICAgZ2V0IG1pc3NpbmcoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5nZXRNaXNzaW5nSGFuZGxlcigpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IG1pc3NpbmcoaGFuZGxlcikge1xyXG4gICAgICAgICAgICBjb21wb3Nlci5zZXRNaXNzaW5nSGFuZGxlcihoYW5kbGVyKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIHNpbGVudFRyYW5zbGF0aW9uV2FyblxyXG4gICAgICAgIGdldCBzaWxlbnRUcmFuc2xhdGlvbldhcm4oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0Jvb2xlYW4oY29tcG9zZXIubWlzc2luZ1dhcm4pXHJcbiAgICAgICAgICAgICAgICA/ICFjb21wb3Nlci5taXNzaW5nV2FyblxyXG4gICAgICAgICAgICAgICAgOiBjb21wb3Nlci5taXNzaW5nV2FybjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCBzaWxlbnRUcmFuc2xhdGlvbldhcm4odmFsKSB7XHJcbiAgICAgICAgICAgIGNvbXBvc2VyLm1pc3NpbmdXYXJuID0gaXNCb29sZWFuKHZhbCkgPyAhdmFsIDogdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gc2lsZW50RmFsbGJhY2tXYXJuXHJcbiAgICAgICAgZ2V0IHNpbGVudEZhbGxiYWNrV2FybigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlzQm9vbGVhbihjb21wb3Nlci5mYWxsYmFja1dhcm4pXHJcbiAgICAgICAgICAgICAgICA/ICFjb21wb3Nlci5mYWxsYmFja1dhcm5cclxuICAgICAgICAgICAgICAgIDogY29tcG9zZXIuZmFsbGJhY2tXYXJuO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IHNpbGVudEZhbGxiYWNrV2Fybih2YWwpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIuZmFsbGJhY2tXYXJuID0gaXNCb29sZWFuKHZhbCkgPyAhdmFsIDogdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gbW9kaWZpZXJzXHJcbiAgICAgICAgZ2V0IG1vZGlmaWVycygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLm1vZGlmaWVycztcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIGZvcm1hdEZhbGxiYWNrTWVzc2FnZXNcclxuICAgICAgICBnZXQgZm9ybWF0RmFsbGJhY2tNZXNzYWdlcygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmZhbGxiYWNrRm9ybWF0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IGZvcm1hdEZhbGxiYWNrTWVzc2FnZXModmFsKSB7XHJcbiAgICAgICAgICAgIGNvbXBvc2VyLmZhbGxiYWNrRm9ybWF0ID0gdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gcG9zdFRyYW5zbGF0aW9uXHJcbiAgICAgICAgZ2V0IHBvc3RUcmFuc2xhdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmdldFBvc3RUcmFuc2xhdGlvbkhhbmRsZXIoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCBwb3N0VHJhbnNsYXRpb24oaGFuZGxlcikge1xyXG4gICAgICAgICAgICBjb21wb3Nlci5zZXRQb3N0VHJhbnNsYXRpb25IYW5kbGVyKGhhbmRsZXIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gc3luY1xyXG4gICAgICAgIGdldCBzeW5jKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuaW5oZXJpdExvY2FsZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCBzeW5jKHZhbCkge1xyXG4gICAgICAgICAgICBjb21wb3Nlci5pbmhlcml0TG9jYWxlID0gdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gd2FybkluSHRtbE1lc3NhZ2VcclxuICAgICAgICBnZXQgd2Fybkh0bWxJbk1lc3NhZ2UoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci53YXJuSHRtbE1lc3NhZ2UgPyAnd2FybicgOiAnb2ZmJztcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCB3YXJuSHRtbEluTWVzc2FnZSh2YWwpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIud2Fybkh0bWxNZXNzYWdlID0gdmFsICE9PSAnb2ZmJztcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIGVzY2FwZVBhcmFtZXRlckh0bWxcclxuICAgICAgICBnZXQgZXNjYXBlUGFyYW1ldGVySHRtbCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmVzY2FwZVBhcmFtZXRlcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCBlc2NhcGVQYXJhbWV0ZXJIdG1sKHZhbCkge1xyXG4gICAgICAgICAgICBjb21wb3Nlci5lc2NhcGVQYXJhbWV0ZXIgPSB2YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBwcmVzZXJ2ZURpcmVjdGl2ZUNvbnRlbnRcclxuICAgICAgICBnZXQgcHJlc2VydmVEaXJlY3RpdmVDb250ZW50KCkge1xyXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoOSAvKiBOT1RfU1VQUE9SVEVEX1BSRVNFUlZFX0RJUkVDVElWRSAqLykpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldCBwcmVzZXJ2ZURpcmVjdGl2ZUNvbnRlbnQodmFsKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZSg5IC8qIE5PVF9TVVBQT1JURURfUFJFU0VSVkVfRElSRUNUSVZFICovKSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBwbHVyYWxpemF0aW9uUnVsZXNcclxuICAgICAgICBnZXQgcGx1cmFsaXphdGlvblJ1bGVzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZXIucGx1cmFsUnVsZXMgfHwge307XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBmb3IgaW50ZXJuYWxcclxuICAgICAgICBfX2NvbXBvc2VyOiBjb21wb3NlcixcclxuICAgICAgICAvLyB0XHJcbiAgICAgICAgdCguLi5hcmdzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFthcmcxLCBhcmcyLCBhcmczXSA9IGFyZ3M7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcclxuICAgICAgICAgICAgbGV0IGxpc3QgPSBudWxsO1xyXG4gICAgICAgICAgICBsZXQgbmFtZWQgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoIWlzU3RyaW5nKGFyZzEpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoMTUgLyogSU5WQUxJRF9BUkdVTUVOVCAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gYXJnMTtcclxuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGFyZzIpKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxvY2FsZSA9IGFyZzI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNBcnJheShhcmcyKSkge1xyXG4gICAgICAgICAgICAgICAgbGlzdCA9IGFyZzI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChhcmcyKSkge1xyXG4gICAgICAgICAgICAgICAgbmFtZWQgPSBhcmcyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGFyZzMpKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ID0gYXJnMztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzMpKSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lZCA9IGFyZzM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLnQoa2V5LCBsaXN0IHx8IG5hbWVkIHx8IHt9LCBvcHRpb25zKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJ0KC4uLmFyZ3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLnJ0KC4uLmFyZ3MpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gdGNcclxuICAgICAgICB0YyguLi5hcmdzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFthcmcxLCBhcmcyLCBhcmczXSA9IGFyZ3M7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IHBsdXJhbDogMSB9O1xyXG4gICAgICAgICAgICBsZXQgbGlzdCA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBuYW1lZCA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghaXNTdHJpbmcoYXJnMSkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcigxNSAvKiBJTlZBTElEX0FSR1VNRU5UICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBhcmcxO1xyXG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcoYXJnMikpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMubG9jYWxlID0gYXJnMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc051bWJlcihhcmcyKSkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5wbHVyYWwgPSBhcmcyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXkoYXJnMikpIHtcclxuICAgICAgICAgICAgICAgIGxpc3QgPSBhcmcyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoYXJnMikpIHtcclxuICAgICAgICAgICAgICAgIG5hbWVkID0gYXJnMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcoYXJnMykpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMubG9jYWxlID0gYXJnMztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0FycmF5KGFyZzMpKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ID0gYXJnMztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFyZzMpKSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lZCA9IGFyZzM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLnQoa2V5LCBsaXN0IHx8IG5hbWVkIHx8IHt9LCBvcHRpb25zKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIHRlXHJcbiAgICAgICAgdGUoa2V5LCBsb2NhbGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLnRlKGtleSwgbG9jYWxlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIHRtXHJcbiAgICAgICAgdG0oa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci50bShrZXkpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gZ2V0TG9jYWxlTWVzc2FnZVxyXG4gICAgICAgIGdldExvY2FsZU1lc3NhZ2UobG9jYWxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5nZXRMb2NhbGVNZXNzYWdlKGxvY2FsZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBzZXRMb2NhbGVNZXNzYWdlXHJcbiAgICAgICAgc2V0TG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIuc2V0TG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2UpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gbWVyZ2VMb2NhbGVNZXNzYWdlXHJcbiAgICAgICAgbWVyZ2VMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZSkge1xyXG4gICAgICAgICAgICBjb21wb3Nlci5tZXJnZUxvY2FsZU1lc3NhZ2UobG9jYWxlLCBtZXNzYWdlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIGRcclxuICAgICAgICBkKC4uLmFyZ3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvc2VyLmQoLi4uYXJncyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBnZXREYXRlVGltZUZvcm1hdFxyXG4gICAgICAgIGdldERhdGVUaW1lRm9ybWF0KGxvY2FsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuZ2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIHNldERhdGVUaW1lRm9ybWF0XHJcbiAgICAgICAgc2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIuc2V0RGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gbWVyZ2VEYXRlVGltZUZvcm1hdFxyXG4gICAgICAgIG1lcmdlRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIubWVyZ2VEYXRlVGltZUZvcm1hdChsb2NhbGUsIGZvcm1hdCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBuXHJcbiAgICAgICAgbiguLi5hcmdzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb3Nlci5uKC4uLmFyZ3MpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gZ2V0TnVtYmVyRm9ybWF0XHJcbiAgICAgICAgZ2V0TnVtYmVyRm9ybWF0KGxvY2FsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZXIuZ2V0TnVtYmVyRm9ybWF0KGxvY2FsZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBzZXROdW1iZXJGb3JtYXRcclxuICAgICAgICBzZXROdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIuc2V0TnVtYmVyRm9ybWF0KGxvY2FsZSwgZm9ybWF0KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIG1lcmdlTnVtYmVyRm9ybWF0XHJcbiAgICAgICAgbWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIubWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBmb3JtYXQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gZ2V0Q2hvaWNlSW5kZXhcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXHJcbiAgICAgICAgZ2V0Q2hvaWNlSW5kZXgoY2hvaWNlLCBjaG9pY2VzTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxyXG4gICAgICAgICAgICAgICAgd2FybihnZXRXYXJuTWVzc2FnZSgxMCAvKiBOT1RfU1VQUE9SVEVEX0dFVF9DSE9JQ0VfSU5ERVggKi8pKTtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gZm9yIGludGVybmFsXHJcbiAgICAgICAgX19vbkNvbXBvbmVudEluc3RhbmNlQ3JlYXRlZCh0YXJnZXQpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBjb21wb25lbnRJbnN0YW5jZUNyZWF0ZWRMaXN0ZW5lciB9ID0gb3B0aW9ucztcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudEluc3RhbmNlQ3JlYXRlZExpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRJbnN0YW5jZUNyZWF0ZWRMaXN0ZW5lcih0YXJnZXQsIHZ1ZUkxOG4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIGZvciB2dWUtZGV2dG9vbHMgdGltZWxpbmUgZXZlbnRcclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICB2dWVJMThuLl9fZW5hYmxlRW1pdHRlciA9IChlbWl0dGVyKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgIGNvbnN0IF9fY29tcG9zZXIgPSBjb21wb3NlcjtcclxuICAgICAgICAgICAgX19jb21wb3NlcltFbmFibGVFbWl0dGVyXSAmJiBfX2NvbXBvc2VyW0VuYWJsZUVtaXR0ZXJdKGVtaXR0ZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdnVlSTE4bi5fX2Rpc2FibGVFbWl0dGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICBjb25zdCBfX2NvbXBvc2VyID0gY29tcG9zZXI7XHJcbiAgICAgICAgICAgIF9fY29tcG9zZXJbRGlzYWJsZUVtaXR0ZXJdICYmIF9fY29tcG9zZXJbRGlzYWJsZUVtaXR0ZXJdKCk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiB2dWVJMThuO1xyXG59XHJcblxyXG5jb25zdCBiYXNlRm9ybWF0UHJvcHMgPSB7XHJcbiAgICB0YWc6IHtcclxuICAgICAgICB0eXBlOiBbU3RyaW5nLCBPYmplY3RdXHJcbiAgICB9LFxyXG4gICAgbG9jYWxlOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nXHJcbiAgICB9LFxyXG4gICAgc2NvcGU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgdmFsaWRhdG9yOiAodmFsKSA9PiB2YWwgPT09ICdwYXJlbnQnIHx8IHZhbCA9PT0gJ2dsb2JhbCcsXHJcbiAgICAgICAgZGVmYXVsdDogJ3BhcmVudCdcclxuICAgIH0sXHJcbiAgICBpMThuOiB7XHJcbiAgICAgICAgdHlwZTogT2JqZWN0XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogVHJhbnNsYXRpb24gQ29tcG9uZW50XHJcbiAqXHJcbiAqIEByZW1hcmtzXHJcbiAqIFNlZSB0aGUgZm9sbG93aW5nIGl0ZW1zIGZvciBwcm9wZXJ0eSBhYm91dCBkZXRhaWxzXHJcbiAqXHJcbiAqIEBWdWVJMThuU2VlIFtUcmFuc2xhdGlvblByb3BzXShjb21wb25lbnQjdHJhbnNsYXRpb25wcm9wcylcclxuICogQFZ1ZUkxOG5TZWUgW0Jhc2VGb3JtYXRQcm9wc10oY29tcG9uZW50I2Jhc2Vmb3JtYXRwcm9wcylcclxuICogQFZ1ZUkxOG5TZWUgW0NvbXBvbmVudCBJbnRlcnBvbGF0aW9uXSguLi9ndWlkZS9hZHZhbmNlZC9jb21wb25lbnQpXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGh0bWxcclxuICogPGRpdiBpZD1cImFwcFwiPlxyXG4gKiAgIDwhLS0gLi4uIC0tPlxyXG4gKiAgIDxpMThuIHBhdGg9XCJ0ZXJtXCIgdGFnPVwibGFiZWxcIiBmb3I9XCJ0b3NcIj5cclxuICogICAgIDxhIDpocmVmPVwidXJsXCIgdGFyZ2V0PVwiX2JsYW5rXCI+e3sgJHQoJ3RvcycpIH19PC9hPlxyXG4gKiAgIDwvaTE4bj5cclxuICogICA8IS0tIC4uLiAtLT5cclxuICogPC9kaXY+XHJcbiAqIGBgYFxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQgeyBjcmVhdGVBcHAgfSBmcm9tICd2dWUnXHJcbiAqIGltcG9ydCB7IGNyZWF0ZUkxOG4gfSBmcm9tICd2dWUtaTE4bidcclxuICpcclxuICogY29uc3QgbWVzc2FnZXMgPSB7XHJcbiAqICAgZW46IHtcclxuICogICAgIHRvczogJ1Rlcm0gb2YgU2VydmljZScsXHJcbiAqICAgICB0ZXJtOiAnSSBhY2NlcHQgeHh4IHswfS4nXHJcbiAqICAgfSxcclxuICogICBqYToge1xyXG4gKiAgICAgdG9zOiAn5Yip55So6KaP57SEJyxcclxuICogICAgIHRlcm06ICfnp4Hjga8geHh4IOOBrnswfeOBq+WQjOaEj+OBl+OBvuOBmeOAgidcclxuICogICB9XHJcbiAqIH1cclxuICpcclxuICogY29uc3QgaTE4biA9IGNyZWF0ZUkxOG4oe1xyXG4gKiAgIGxvY2FsZTogJ2VuJyxcclxuICogICBtZXNzYWdlc1xyXG4gKiB9KVxyXG4gKlxyXG4gKiBjb25zdCBhcHAgPSBjcmVhdGVBcHAoe1xyXG4gKiAgIGRhdGE6IHtcclxuICogICAgIHVybDogJy90ZXJtJ1xyXG4gKiAgIH1cclxuICogfSkudXNlKGkxOG4pLm1vdW50KCcjYXBwJylcclxuICogYGBgXHJcbiAqXHJcbiAqIEBWdWVJMThuQ29tcG9uZW50XHJcbiAqL1xyXG5jb25zdCBUcmFuc2xhdGlvbiA9IHtcclxuICAgIC8qIGVzbGludC1kaXNhYmxlICovXHJcbiAgICBuYW1lOiAnaTE4bi10JyxcclxuICAgIHByb3BzOiBhc3NpZ24oe1xyXG4gICAgICAgIGtleXBhdGg6IHtcclxuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGx1cmFsOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgIHZhbGlkYXRvcjogKHZhbCkgPT4gaXNOdW1iZXIodmFsKSB8fCAhaXNOYU4odmFsKVxyXG4gICAgICAgIH1cclxuICAgIH0sIGJhc2VGb3JtYXRQcm9wcyksXHJcbiAgICAvKiBlc2xpbnQtZW5hYmxlICovXHJcbiAgICBzZXR1cChwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIGNvbnN0IHsgc2xvdHMsIGF0dHJzIH0gPSBjb250ZXh0O1xyXG4gICAgICAgIGNvbnN0IGkxOG4gPSBwcm9wcy5pMThuIHx8XHJcbiAgICAgICAgICAgIHVzZUkxOG4oe1xyXG4gICAgICAgICAgICAgICAgdXNlU2NvcGU6IHByb3BzLnNjb3BlLFxyXG4gICAgICAgICAgICAgICAgX191c2VDb21wb25lbnQ6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNsb3RzKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ18nKTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge307XHJcbiAgICAgICAgICAgIGlmIChwcm9wcy5sb2NhbGUpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMubG9jYWxlID0gcHJvcHMubG9jYWxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwcm9wcy5wbHVyYWwgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5wbHVyYWwgPSBpc1N0cmluZyhwcm9wcy5wbHVyYWwpID8gK3Byb3BzLnBsdXJhbCA6IHByb3BzLnBsdXJhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBhcmcgPSBnZXRJbnRlcnBvbGF0ZUFyZyhjb250ZXh0LCBrZXlzKTtcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBpMThuW1RyYW5zcmF0ZVZOb2RlU3ltYm9sXShwcm9wcy5rZXlwYXRoLCBhcmcsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICBjb25zdCBhc3NpZ25lZEF0dHJzID0gYXNzaWduKHt9LCBhdHRycyk7XHJcbiAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgICAgICAgICByZXR1cm4gaXNTdHJpbmcocHJvcHMudGFnKVxyXG4gICAgICAgICAgICAgICAgPyBoKHByb3BzLnRhZywgYXNzaWduZWRBdHRycywgY2hpbGRyZW4pXHJcbiAgICAgICAgICAgICAgICA6IGlzT2JqZWN0KHByb3BzLnRhZylcclxuICAgICAgICAgICAgICAgICAgICA/IGgocHJvcHMudGFnLCBhc3NpZ25lZEF0dHJzLCBjaGlsZHJlbilcclxuICAgICAgICAgICAgICAgICAgICA6IGgoRnJhZ21lbnQsIGFzc2lnbmVkQXR0cnMsIGNoaWxkcmVuKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBnZXRJbnRlcnBvbGF0ZUFyZyh7IHNsb3RzIH0sIGtleXMpIHtcclxuICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMSAmJiBrZXlzWzBdID09PSAnZGVmYXVsdCcpIHtcclxuICAgICAgICAvLyBkZWZhdWx0IHNsb3Qgb25seVxyXG4gICAgICAgIHJldHVybiBzbG90cy5kZWZhdWx0ID8gc2xvdHMuZGVmYXVsdCgpIDogW107XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBuYW1lZCBzbG90c1xyXG4gICAgICAgIHJldHVybiBrZXlzLnJlZHVjZSgoYXJnLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IHNsb3RzW2tleV07XHJcbiAgICAgICAgICAgIGlmIChzbG90KSB7XHJcbiAgICAgICAgICAgICAgICBhcmdba2V5XSA9IHNsb3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYXJnO1xyXG4gICAgICAgIH0sIHt9KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyRm9ybWF0dGVyKHByb3BzLCBjb250ZXh0LCBzbG90S2V5cywgcGFydEZvcm1hdHRlcikge1xyXG4gICAgY29uc3QgeyBzbG90cywgYXR0cnMgfSA9IGNvbnRleHQ7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IHBhcnQ6IHRydWUgfTtcclxuICAgICAgICBsZXQgb3ZlcnJpZGVzID0ge307XHJcbiAgICAgICAgaWYgKHByb3BzLmxvY2FsZSkge1xyXG4gICAgICAgICAgICBvcHRpb25zLmxvY2FsZSA9IHByb3BzLmxvY2FsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzU3RyaW5nKHByb3BzLmZvcm1hdCkpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5rZXkgPSBwcm9wcy5mb3JtYXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHByb3BzLmZvcm1hdCkpIHtcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKHByb3BzLmZvcm1hdC5rZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5rZXkgPSBwcm9wcy5mb3JtYXQua2V5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEZpbHRlciBvdXQgbnVtYmVyIGZvcm1hdCBvcHRpb25zIG9ubHlcclxuICAgICAgICAgICAgb3ZlcnJpZGVzID0gT2JqZWN0LmtleXMocHJvcHMuZm9ybWF0KS5yZWR1Y2UoKG9wdGlvbnMsIHByb3ApID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzbG90S2V5cy5pbmNsdWRlcyhwcm9wKVxyXG4gICAgICAgICAgICAgICAgICAgID8gYXNzaWduKHt9LCBvcHRpb25zLCB7IFtwcm9wXTogcHJvcHMuZm9ybWF0W3Byb3BdIH0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgICAgIDogb3B0aW9ucztcclxuICAgICAgICAgICAgfSwge30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJ0cyA9IHBhcnRGb3JtYXR0ZXIoLi4uW3Byb3BzLnZhbHVlLCBvcHRpb25zLCBvdmVycmlkZXNdKTtcclxuICAgICAgICBsZXQgY2hpbGRyZW4gPSBbb3B0aW9ucy5rZXldO1xyXG4gICAgICAgIGlmIChpc0FycmF5KHBhcnRzKSkge1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IHBhcnRzLm1hcCgocGFydCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBzbG90c1twYXJ0LnR5cGVdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNsb3RcclxuICAgICAgICAgICAgICAgICAgICA/IHNsb3QoeyBbcGFydC50eXBlXTogcGFydC52YWx1ZSwgaW5kZXgsIHBhcnRzIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgOiBbcGFydC52YWx1ZV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc1N0cmluZyhwYXJ0cykpIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBbcGFydHNdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhc3NpZ25lZEF0dHJzID0gYXNzaWduKHt9LCBhdHRycyk7XHJcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKHByb3BzLnRhZylcclxuICAgICAgICAgICAgPyBoKHByb3BzLnRhZywgYXNzaWduZWRBdHRycywgY2hpbGRyZW4pXHJcbiAgICAgICAgICAgIDogaXNPYmplY3QocHJvcHMudGFnKVxyXG4gICAgICAgICAgICAgICAgPyBoKHByb3BzLnRhZywgYXNzaWduZWRBdHRycywgY2hpbGRyZW4pXHJcbiAgICAgICAgICAgICAgICA6IGgoRnJhZ21lbnQsIGFzc2lnbmVkQXR0cnMsIGNoaWxkcmVuKTtcclxuICAgIH07XHJcbn1cclxuXHJcbmNvbnN0IE5VTUJFUl9GT1JNQVRfS0VZUyA9IFtcclxuICAgICdsb2NhbGVNYXRjaGVyJyxcclxuICAgICdzdHlsZScsXHJcbiAgICAndW5pdCcsXHJcbiAgICAndW5pdERpc3BsYXknLFxyXG4gICAgJ2N1cnJlbmN5JyxcclxuICAgICdjdXJyZW5jeURpc3BsYXknLFxyXG4gICAgJ3VzZUdyb3VwaW5nJyxcclxuICAgICdudW1iZXJpbmdTeXN0ZW0nLFxyXG4gICAgJ21pbmltdW1JbnRlZ2VyRGlnaXRzJyxcclxuICAgICdtaW5pbXVtRnJhY3Rpb25EaWdpdHMnLFxyXG4gICAgJ21heGltdW1GcmFjdGlvbkRpZ2l0cycsXHJcbiAgICAnbWluaW11bVNpZ25pZmljYW50RGlnaXRzJyxcclxuICAgICdtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHMnLFxyXG4gICAgJ25vdGF0aW9uJyxcclxuICAgICdmb3JtYXRNYXRjaGVyJ1xyXG5dO1xyXG4vKipcclxuICogTnVtYmVyIEZvcm1hdCBDb21wb25lbnRcclxuICpcclxuICogQHJlbWFya3NcclxuICogU2VlIHRoZSBmb2xsb3dpbmcgaXRlbXMgZm9yIHByb3BlcnR5IGFib3V0IGRldGFpbHNcclxuICpcclxuICogQFZ1ZUkxOG5TZWUgW0Zvcm1hdHRhYmxlUHJvcHNdKGNvbXBvbmVudCNmb3JtYXR0YWJsZXByb3BzKVxyXG4gKiBAVnVlSTE4blNlZSBbQmFzZUZvcm1hdFByb3BzXShjb21wb25lbnQjYmFzZWZvcm1hdHByb3BzKVxyXG4gKiBAVnVlSTE4blNlZSBbQ3VzdG9tIEZvcm1hdHRpbmddKC4uL2d1aWRlL2Vzc2VudGlhbHMvbnVtYmVyI2N1c3RvbS1mb3JtYXR0aW5nKVxyXG4gKlxyXG4gKiBAVnVlSTE4bkRhbmdlclxyXG4gKiBOb3Qgc3VwcG9ydGVkIElFLCBkdWUgdG8gbm8gc3VwcG9ydCBgSW50bC5OdW1iZXJGb3JtYXQjZm9ybWF0VG9QYXJ0c2AgaW4gW0lFXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9JbnRsL051bWJlckZvcm1hdC9mb3JtYXRUb1BhcnRzKVxyXG4gKlxyXG4gKiBJZiB5b3Ugd2FudCB0byB1c2UgaXQsIHlvdSBuZWVkIHRvIHVzZSBbcG9seWZpbGxdKGh0dHBzOi8vZ2l0aHViLmNvbS9mb3JtYXRqcy9mb3JtYXRqcy90cmVlL21haW4vcGFja2FnZXMvaW50bC1udW1iZXJmb3JtYXQpXHJcbiAqXHJcbiAqIEBWdWVJMThuQ29tcG9uZW50XHJcbiAqL1xyXG5jb25zdCBOdW1iZXJGb3JtYXQgPSB7XHJcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xyXG4gICAgbmFtZTogJ2kxOG4tbicsXHJcbiAgICBwcm9wczogYXNzaWduKHtcclxuICAgICAgICB2YWx1ZToge1xyXG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBmb3JtYXQ6IHtcclxuICAgICAgICAgICAgdHlwZTogW1N0cmluZywgT2JqZWN0XVxyXG4gICAgICAgIH1cclxuICAgIH0sIGJhc2VGb3JtYXRQcm9wcyksXHJcbiAgICAvKiBlc2xpbnQtZW5hYmxlICovXHJcbiAgICBzZXR1cChwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIGNvbnN0IGkxOG4gPSBwcm9wcy5pMThuIHx8XHJcbiAgICAgICAgICAgIHVzZUkxOG4oeyB1c2VTY29wZTogJ3BhcmVudCcsIF9fdXNlQ29tcG9uZW50OiB0cnVlIH0pO1xyXG4gICAgICAgIHJldHVybiByZW5kZXJGb3JtYXR0ZXIocHJvcHMsIGNvbnRleHQsIE5VTUJFUl9GT1JNQVRfS0VZUywgKC4uLmFyZ3MpID0+IFxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgaTE4bltOdW1iZXJQYXJ0c1N5bWJvbF0oLi4uYXJncykpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgREFURVRJTUVfRk9STUFUX0tFWVMgPSBbXHJcbiAgICAnZGF0ZVN0eWxlJyxcclxuICAgICd0aW1lU3R5bGUnLFxyXG4gICAgJ2ZyYWN0aW9uYWxTZWNvbmREaWdpdHMnLFxyXG4gICAgJ2NhbGVuZGFyJyxcclxuICAgICdkYXlQZXJpb2QnLFxyXG4gICAgJ251bWJlcmluZ1N5c3RlbScsXHJcbiAgICAnbG9jYWxlTWF0Y2hlcicsXHJcbiAgICAndGltZVpvbmUnLFxyXG4gICAgJ2hvdXIxMicsXHJcbiAgICAnaG91ckN5Y2xlJyxcclxuICAgICdmb3JtYXRNYXRjaGVyJyxcclxuICAgICd3ZWVrZGF5JyxcclxuICAgICdlcmEnLFxyXG4gICAgJ3llYXInLFxyXG4gICAgJ21vbnRoJyxcclxuICAgICdkYXknLFxyXG4gICAgJ2hvdXInLFxyXG4gICAgJ21pbnV0ZScsXHJcbiAgICAnc2Vjb25kJyxcclxuICAgICd0aW1lWm9uZU5hbWUnXHJcbl07XHJcbi8qKlxyXG4gKiBEYXRldGltZSBGb3JtYXQgQ29tcG9uZW50XHJcbiAqXHJcbiAqIEByZW1hcmtzXHJcbiAqIFNlZSB0aGUgZm9sbG93aW5nIGl0ZW1zIGZvciBwcm9wZXJ0eSBhYm91dCBkZXRhaWxzXHJcbiAqXHJcbiAqIEBWdWVJMThuU2VlIFtGb3JtYXR0YWJsZVByb3BzXShjb21wb25lbnQjZm9ybWF0dGFibGVwcm9wcylcclxuICogQFZ1ZUkxOG5TZWUgW0Jhc2VGb3JtYXRQcm9wc10oY29tcG9uZW50I2Jhc2Vmb3JtYXRwcm9wcylcclxuICogQFZ1ZUkxOG5TZWUgW0N1c3RvbSBGb3JtYXR0aW5nXSguLi9ndWlkZS9lc3NlbnRpYWxzL2RhdGV0aW1lI2N1c3RvbS1mb3JtYXR0aW5nKVxyXG4gKlxyXG4gKiBAVnVlSTE4bkRhbmdlclxyXG4gKiBOb3Qgc3VwcG9ydGVkIElFLCBkdWUgdG8gbm8gc3VwcG9ydCBgSW50bC5EYXRlVGltZUZvcm1hdCNmb3JtYXRUb1BhcnRzYCBpbiBbSUVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0ludGwvRGF0ZVRpbWVGb3JtYXQvZm9ybWF0VG9QYXJ0cylcclxuICpcclxuICogSWYgeW91IHdhbnQgdG8gdXNlIGl0LCB5b3UgbmVlZCB0byB1c2UgW3BvbHlmaWxsXShodHRwczovL2dpdGh1Yi5jb20vZm9ybWF0anMvZm9ybWF0anMvdHJlZS9tYWluL3BhY2thZ2VzL2ludGwtZGF0ZXRpbWVmb3JtYXQpXHJcbiAqXHJcbiAqIEBWdWVJMThuQ29tcG9uZW50XHJcbiAqL1xyXG5jb25zdCBEYXRldGltZUZvcm1hdCA9IHtcclxuICAgIC8qIGVzbGludC1kaXNhYmxlICovXHJcbiAgICBuYW1lOiAnaTE4bi1kJyxcclxuICAgIHByb3BzOiBhc3NpZ24oe1xyXG4gICAgICAgIHZhbHVlOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFtOdW1iZXIsIERhdGVdLFxyXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZm9ybWF0OiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFtTdHJpbmcsIE9iamVjdF1cclxuICAgICAgICB9XHJcbiAgICB9LCBiYXNlRm9ybWF0UHJvcHMpLFxyXG4gICAgLyogZXNsaW50LWVuYWJsZSAqL1xyXG4gICAgc2V0dXAocHJvcHMsIGNvbnRleHQpIHtcclxuICAgICAgICBjb25zdCBpMThuID0gcHJvcHMuaTE4biB8fFxyXG4gICAgICAgICAgICB1c2VJMThuKHsgdXNlU2NvcGU6ICdwYXJlbnQnLCBfX3VzZUNvbXBvbmVudDogdHJ1ZSB9KTtcclxuICAgICAgICByZXR1cm4gcmVuZGVyRm9ybWF0dGVyKHByb3BzLCBjb250ZXh0LCBEQVRFVElNRV9GT1JNQVRfS0VZUywgKC4uLmFyZ3MpID0+IFxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgaTE4bltEYXRldGltZVBhcnRzU3ltYm9sXSguLi5hcmdzKSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBnZXRDb21wb3NlciQyKGkxOG4sIGluc3RhbmNlKSB7XHJcbiAgICBjb25zdCBpMThuSW50ZXJuYWwgPSBpMThuO1xyXG4gICAgaWYgKGkxOG4ubW9kZSA9PT0gJ2NvbXBvc2l0aW9uJykge1xyXG4gICAgICAgIHJldHVybiAoaTE4bkludGVybmFsLl9fZ2V0SW5zdGFuY2UoaW5zdGFuY2UpIHx8IGkxOG4uZ2xvYmFsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHZ1ZUkxOG4gPSBpMThuSW50ZXJuYWwuX19nZXRJbnN0YW5jZShpbnN0YW5jZSk7XHJcbiAgICAgICAgcmV0dXJuIHZ1ZUkxOG4gIT0gbnVsbFxyXG4gICAgICAgICAgICA/IHZ1ZUkxOG4uX19jb21wb3NlclxyXG4gICAgICAgICAgICA6IGkxOG4uZ2xvYmFsLl9fY29tcG9zZXI7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdlREaXJlY3RpdmUoaTE4bikge1xyXG4gICAgY29uc3QgYmluZCA9IChlbCwgeyBpbnN0YW5jZSwgdmFsdWUsIG1vZGlmaWVycyB9KSA9PiB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKCFpbnN0YW5jZSB8fCAhaW5zdGFuY2UuJCkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoMjIgLyogVU5FWFBFQ1RFRF9FUlJPUiAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbXBvc2VyID0gZ2V0Q29tcG9zZXIkMihpMThuLCBpbnN0YW5jZS4kKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG1vZGlmaWVycy5wcmVzZXJ2ZSkge1xyXG4gICAgICAgICAgICB3YXJuKGdldFdhcm5NZXNzYWdlKDcgLyogTk9UX1NVUFBPUlRFRF9QUkVTRVJWRSAqLykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IHBhcnNlVmFsdWUodmFsdWUpO1xyXG4gICAgICAgIGVsLnRleHRDb250ZW50ID0gY29tcG9zZXIudCguLi5tYWtlUGFyYW1zKHBhcnNlZFZhbHVlKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBiZWZvcmVNb3VudDogYmluZCxcclxuICAgICAgICBiZWZvcmVVcGRhdGU6IGJpbmRcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gcGFyc2VWYWx1ZSh2YWx1ZSkge1xyXG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiB7IHBhdGg6IHZhbHVlIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgIGlmICghKCdwYXRoJyBpbiB2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKDE5IC8qIFJFUVVJUkVEX1ZBTFVFICovLCAncGF0aCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVJMThuRXJyb3IoMjAgLyogSU5WQUxJRF9WQUxVRSAqLyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbWFrZVBhcmFtcyh2YWx1ZSkge1xyXG4gICAgY29uc3QgeyBwYXRoLCBsb2NhbGUsIGFyZ3MsIGNob2ljZSwgcGx1cmFsIH0gPSB2YWx1ZTtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcclxuICAgIGNvbnN0IG5hbWVkID0gYXJncyB8fCB7fTtcclxuICAgIGlmIChpc1N0cmluZyhsb2NhbGUpKSB7XHJcbiAgICAgICAgb3B0aW9ucy5sb2NhbGUgPSBsb2NhbGU7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNOdW1iZXIoY2hvaWNlKSkge1xyXG4gICAgICAgIG9wdGlvbnMucGx1cmFsID0gY2hvaWNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzTnVtYmVyKHBsdXJhbCkpIHtcclxuICAgICAgICBvcHRpb25zLnBsdXJhbCA9IHBsdXJhbDtcclxuICAgIH1cclxuICAgIHJldHVybiBbcGF0aCwgbmFtZWQsIG9wdGlvbnNdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBseShhcHAsIGkxOG4sIC4uLm9wdGlvbnMpIHtcclxuICAgIGNvbnN0IHBsdWdpbk9wdGlvbnMgPSBpc1BsYWluT2JqZWN0KG9wdGlvbnNbMF0pXHJcbiAgICAgICAgPyBvcHRpb25zWzBdXHJcbiAgICAgICAgOiB7fTtcclxuICAgIGNvbnN0IHVzZUkxOG5Db21wb25lbnROYW1lID0gISFwbHVnaW5PcHRpb25zLnVzZUkxOG5Db21wb25lbnROYW1lO1xyXG4gICAgY29uc3QgZ2xvYmFsSW5zdGFsbCA9IGlzQm9vbGVhbihwbHVnaW5PcHRpb25zLmdsb2JhbEluc3RhbGwpXHJcbiAgICAgICAgPyBwbHVnaW5PcHRpb25zLmdsb2JhbEluc3RhbGxcclxuICAgICAgICA6IHRydWU7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGdsb2JhbEluc3RhbGwgJiYgdXNlSTE4bkNvbXBvbmVudE5hbWUpIHtcclxuICAgICAgICB3YXJuKGdldFdhcm5NZXNzYWdlKDExIC8qIENPTVBPTkVOVF9OQU1FX0xFR0FDWV9DT01QQVRJQkxFICovLCB7XHJcbiAgICAgICAgICAgIG5hbWU6IFRyYW5zbGF0aW9uLm5hbWVcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZ2xvYmFsSW5zdGFsbCkge1xyXG4gICAgICAgIC8vIGluc3RhbGwgY29tcG9uZW50c1xyXG4gICAgICAgIGFwcC5jb21wb25lbnQoIXVzZUkxOG5Db21wb25lbnROYW1lID8gVHJhbnNsYXRpb24ubmFtZSA6ICdpMThuJywgVHJhbnNsYXRpb24pO1xyXG4gICAgICAgIGFwcC5jb21wb25lbnQoTnVtYmVyRm9ybWF0Lm5hbWUsIE51bWJlckZvcm1hdCk7XHJcbiAgICAgICAgYXBwLmNvbXBvbmVudChEYXRldGltZUZvcm1hdC5uYW1lLCBEYXRldGltZUZvcm1hdCk7XHJcbiAgICB9XHJcbiAgICAvLyBpbnN0YWxsIGRpcmVjdGl2ZVxyXG4gICAgYXBwLmRpcmVjdGl2ZSgndCcsIHZURGlyZWN0aXZlKGkxOG4pKTtcclxufVxyXG5cclxuY29uc3QgVlVFX0kxOE5fQ09NUE9ORU5UX1RZUEVTID0gJ3Z1ZS1pMThuOiBjb21wb3NlciBwcm9wZXJ0aWVzJztcclxubGV0IGRldnRvb2xzQXBpO1xyXG5hc3luYyBmdW5jdGlvbiBlbmFibGVEZXZUb29scyhhcHAsIGkxOG4pIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc2V0dXBEZXZ0b29sc1BsdWdpbih7XHJcbiAgICAgICAgICAgICAgICBpZDogXCJ2dWUtZGV2dG9vbHMtcGx1Z2luLXZ1ZS1pMThuXCIgLyogUExVR0lOICovLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFZ1ZURldlRvb2xzTGFiZWxzW1widnVlLWRldnRvb2xzLXBsdWdpbi12dWUtaTE4blwiIC8qIFBMVUdJTiAqL10sXHJcbiAgICAgICAgICAgICAgICBwYWNrYWdlTmFtZTogJ3Z1ZS1pMThuJyxcclxuICAgICAgICAgICAgICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly92dWUtaTE4bi5pbnRsaWZ5LmRldicsXHJcbiAgICAgICAgICAgICAgICBsb2dvOiAnaHR0cHM6Ly92dWUtaTE4bi5pbnRsaWZ5LmRldi92dWUtaTE4bi1kZXZ0b29scy1sb2dvLnBuZycsXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRTdGF0ZVR5cGVzOiBbVlVFX0kxOE5fQ09NUE9ORU5UX1RZUEVTXSxcclxuICAgICAgICAgICAgICAgIGFwcFxyXG4gICAgICAgICAgICB9LCBhcGkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGV2dG9vbHNBcGkgPSBhcGk7XHJcbiAgICAgICAgICAgICAgICBhcGkub24udmlzaXRDb21wb25lbnRUcmVlKCh7IGNvbXBvbmVudEluc3RhbmNlLCB0cmVlTm9kZSB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50VHJlZVRhZ3MoY29tcG9uZW50SW5zdGFuY2UsIHRyZWVOb2RlLCBpMThuKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYXBpLm9uLmluc3BlY3RDb21wb25lbnQoKHsgY29tcG9uZW50SW5zdGFuY2UsIGluc3RhbmNlRGF0YSB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudEluc3RhbmNlLnZub2RlLmVsLl9fVlVFX0kxOE5fXyAmJiBpbnN0YW5jZURhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkxOG4ubW9kZSA9PT0gJ2xlZ2FjeScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBnbG9iYWwgc2NvcGUgb24gbGVnYWN5IG1vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnRJbnN0YW5jZS52bm9kZS5lbC5fX1ZVRV9JMThOX18gIT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTE4bi5nbG9iYWwuX19jb21wb3Nlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3BlY3RDb21wb3NlcihpbnN0YW5jZURhdGEsIGNvbXBvbmVudEluc3RhbmNlLnZub2RlLmVsLl9fVlVFX0kxOE5fXyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNwZWN0Q29tcG9zZXIoaW5zdGFuY2VEYXRhLCBjb21wb25lbnRJbnN0YW5jZS52bm9kZS5lbC5fX1ZVRV9JMThOX18pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhcGkuYWRkSW5zcGVjdG9yKHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogXCJ2dWUtaTE4bi1yZXNvdXJjZS1pbnNwZWN0b3JcIiAvKiBDVVNUT01fSU5TUEVDVE9SICovLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBWdWVEZXZUb29sc0xhYmVsc1tcInZ1ZS1pMThuLXJlc291cmNlLWluc3BlY3RvclwiIC8qIENVU1RPTV9JTlNQRUNUT1IgKi9dLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdsYW5ndWFnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJlZUZpbHRlclBsYWNlaG9sZGVyOiBWdWVEZXZUb29sc1BsYWNlaG9sZGVyc1tcInZ1ZS1pMThuLXJlc291cmNlLWluc3BlY3RvclwiIC8qIENVU1RPTV9JTlNQRUNUT1IgKi9dXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGFwaS5vbi5nZXRJbnNwZWN0b3JUcmVlKHBheWxvYWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IFwidnVlLWkxOG4tcmVzb3VyY2UtaW5zcGVjdG9yXCIgLyogQ1VTVE9NX0lOU1BFQ1RPUiAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RlclNjb3BlKHBheWxvYWQsIGkxOG4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclN0YXRlKHBheWxvYWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IFwidnVlLWkxOG4tcmVzb3VyY2UtaW5zcGVjdG9yXCIgLyogQ1VTVE9NX0lOU1BFQ1RPUiAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNwZWN0U2NvcGUocGF5bG9hZCwgaTE4bik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhcGkub24uZWRpdEluc3BlY3RvclN0YXRlKHBheWxvYWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IFwidnVlLWkxOG4tcmVzb3VyY2UtaW5zcGVjdG9yXCIgLyogQ1VTVE9NX0lOU1BFQ1RPUiAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0U2NvcGUocGF5bG9hZCwgaTE4bik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVMYXllcih7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFwidnVlLWkxOG4tdGltZWxpbmVcIiAvKiBUSU1FTElORSAqLyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogVnVlRGV2VG9vbHNMYWJlbHNbXCJ2dWUtaTE4bi10aW1lbGluZVwiIC8qIFRJTUVMSU5FICovXSxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogVnVlRGV2VG9vbHNUaW1lbGluZUNvbG9yc1tcInZ1ZS1pMThuLXRpbWVsaW5lXCIgLyogVElNRUxJTkUgKi9dXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICByZWplY3QoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudFRyZWVUYWdzKGluc3RhbmNlLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxudHJlZU5vZGUsIGkxOG4pIHtcclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgY29uc3QgZ2xvYmFsID0gaTE4bi5tb2RlID09PSAnY29tcG9zaXRpb24nXHJcbiAgICAgICAgPyBpMThuLmdsb2JhbFxyXG4gICAgICAgIDogaTE4bi5nbG9iYWwuX19jb21wb3NlcjtcclxuICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS52bm9kZS5lbC5fX1ZVRV9JMThOX18pIHtcclxuICAgICAgICAvLyBhZGQgY3VzdG9tIHRhZ3MgbG9jYWwgc2NvcGUgb25seVxyXG4gICAgICAgIGlmIChpbnN0YW5jZS52bm9kZS5lbC5fX1ZVRV9JMThOX18gIT09IGdsb2JhbCkge1xyXG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGluc3RhbmNlLnR5cGUubmFtZSB8fCBpbnN0YW5jZS50eXBlLmRpc3BsYXlOYW1lIHx8IGluc3RhbmNlLnR5cGUuX19maWxlO1xyXG4gICAgICAgICAgICBjb25zdCB0YWcgPSB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogYGkxOG4gKCR7bGFiZWx9IFNjb3BlKWAsXHJcbiAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IDB4MDAwMDAwLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAweGZmY2QxOVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0cmVlTm9kZS50YWdzLnB1c2godGFnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5zcGVjdENvbXBvc2VyKGluc3RhbmNlRGF0YSwgY29tcG9zZXIpIHtcclxuICAgIGNvbnN0IHR5cGUgPSBWVUVfSTE4Tl9DT01QT05FTlRfVFlQRVM7XHJcbiAgICBpbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgICBrZXk6ICdsb2NhbGUnLFxyXG4gICAgICAgIGVkaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgIHZhbHVlOiBjb21wb3Nlci5sb2NhbGUudmFsdWVcclxuICAgIH0pO1xyXG4gICAgaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAga2V5OiAnYXZhaWxhYmxlTG9jYWxlcycsXHJcbiAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxyXG4gICAgICAgIHZhbHVlOiBjb21wb3Nlci5hdmFpbGFibGVMb2NhbGVzXHJcbiAgICB9KTtcclxuICAgIGluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIGtleTogJ2ZhbGxiYWNrTG9jYWxlJyxcclxuICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcclxuICAgICAgICB2YWx1ZTogY29tcG9zZXIuZmFsbGJhY2tMb2NhbGUudmFsdWVcclxuICAgIH0pO1xyXG4gICAgaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAga2V5OiAnaW5oZXJpdExvY2FsZScsXHJcbiAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmluaGVyaXRMb2NhbGVcclxuICAgIH0pO1xyXG4gICAgaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAga2V5OiAnbWVzc2FnZXMnLFxyXG4gICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICB2YWx1ZTogZ2V0TG9jYWxlTWVzc2FnZVZhbHVlKGNvbXBvc2VyLm1lc3NhZ2VzLnZhbHVlKVxyXG4gICAgfSk7XHJcbiAgICBpbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgICBrZXk6ICdkYXRldGltZUZvcm1hdHMnLFxyXG4gICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICB2YWx1ZTogY29tcG9zZXIuZGF0ZXRpbWVGb3JtYXRzLnZhbHVlXHJcbiAgICB9KTtcclxuICAgIGluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIGtleTogJ251bWJlckZvcm1hdHMnLFxyXG4gICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICB2YWx1ZTogY29tcG9zZXIubnVtYmVyRm9ybWF0cy52YWx1ZVxyXG4gICAgfSk7XHJcbn1cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuZnVuY3Rpb24gZ2V0TG9jYWxlTWVzc2FnZVZhbHVlKG1lc3NhZ2VzKSB7XHJcbiAgICBjb25zdCB2YWx1ZSA9IHt9O1xyXG4gICAgT2JqZWN0LmtleXMobWVzc2FnZXMpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHYgPSBtZXNzYWdlc1trZXldO1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHYpICYmICdzb3VyY2UnIGluIHYpIHtcclxuICAgICAgICAgICAgdmFsdWVba2V5XSA9IGdldE1lc3NhZ2VGdW5jdGlvbkRldGFpbHModik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHYpKSB7XHJcbiAgICAgICAgICAgIHZhbHVlW2tleV0gPSBnZXRMb2NhbGVNZXNzYWdlVmFsdWUodik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YWx1ZVtrZXldID0gdjtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG5jb25zdCBFU0MgPSB7XHJcbiAgICAnPCc6ICcmbHQ7JyxcclxuICAgICc+JzogJyZndDsnLFxyXG4gICAgJ1wiJzogJyZxdW90OycsXHJcbiAgICAnJic6ICcmYW1wOydcclxufTtcclxuZnVuY3Rpb24gZXNjYXBlKHMpIHtcclxuICAgIHJldHVybiBzLnJlcGxhY2UoL1s8PlwiJl0vZywgZXNjYXBlQ2hhcik7XHJcbn1cclxuZnVuY3Rpb24gZXNjYXBlQ2hhcihhKSB7XHJcbiAgICByZXR1cm4gRVNDW2FdIHx8IGE7XHJcbn1cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuZnVuY3Rpb24gZ2V0TWVzc2FnZUZ1bmN0aW9uRGV0YWlscyhmdW5jKSB7XHJcbiAgICBjb25zdCBhcmdTdHJpbmcgPSBmdW5jLnNvdXJjZSA/IGAoXCIke2VzY2FwZShmdW5jLnNvdXJjZSl9XCIpYCA6IGAoPylgO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBfY3VzdG9tOiB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbicsXHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGA8c3Bhbj7Gkjwvc3Bhbj4gJHthcmdTdHJpbmd9YFxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gcmVnaXN0ZXJTY29wZShwYXlsb2FkLCBpMThuKSB7XHJcbiAgICBwYXlsb2FkLnJvb3ROb2Rlcy5wdXNoKHtcclxuICAgICAgICBpZDogJ2dsb2JhbCcsXHJcbiAgICAgICAgbGFiZWw6ICdHbG9iYWwgU2NvcGUnXHJcbiAgICB9KTtcclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgY29uc3QgZ2xvYmFsID0gaTE4bi5tb2RlID09PSAnY29tcG9zaXRpb24nXHJcbiAgICAgICAgPyBpMThuLmdsb2JhbFxyXG4gICAgICAgIDogaTE4bi5nbG9iYWwuX19jb21wb3NlcjtcclxuICAgIGZvciAoY29uc3QgW2tleUluc3RhbmNlLCBpbnN0YW5jZV0gb2YgaTE4bi5fX2luc3RhbmNlcykge1xyXG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgICAgIGNvbnN0IGNvbXBvc2VyID0gaTE4bi5tb2RlID09PSAnY29tcG9zaXRpb24nXHJcbiAgICAgICAgICAgID8gaW5zdGFuY2VcclxuICAgICAgICAgICAgOiBpbnN0YW5jZS5fX2NvbXBvc2VyO1xyXG4gICAgICAgIGlmIChnbG9iYWwgPT09IGNvbXBvc2VyKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsYWJlbCA9IGtleUluc3RhbmNlLnR5cGUubmFtZSB8fFxyXG4gICAgICAgICAgICBrZXlJbnN0YW5jZS50eXBlLmRpc3BsYXlOYW1lIHx8XHJcbiAgICAgICAgICAgIGtleUluc3RhbmNlLnR5cGUuX19maWxlO1xyXG4gICAgICAgIHBheWxvYWQucm9vdE5vZGVzLnB1c2goe1xyXG4gICAgICAgICAgICBpZDogY29tcG9zZXIuaWQudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgbGFiZWw6IGAke2xhYmVsfSBTY29wZWBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRDb21wb3NlciQxKG5vZGVJZCwgaTE4bikge1xyXG4gICAgaWYgKG5vZGVJZCA9PT0gJ2dsb2JhbCcpIHtcclxuICAgICAgICByZXR1cm4gaTE4bi5tb2RlID09PSAnY29tcG9zaXRpb24nXHJcbiAgICAgICAgICAgID8gaTE4bi5nbG9iYWxcclxuICAgICAgICAgICAgOiBpMThuLmdsb2JhbC5fX2NvbXBvc2VyO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBBcnJheS5mcm9tKGkxOG4uX19pbnN0YW5jZXMudmFsdWVzKCkpLmZpbmQoaXRlbSA9PiBpdGVtLmlkLnRvU3RyaW5nKCkgPT09IG5vZGVJZCk7XHJcbiAgICAgICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpMThuLm1vZGUgPT09ICdjb21wb3NpdGlvbidcclxuICAgICAgICAgICAgICAgID8gaW5zdGFuY2VcclxuICAgICAgICAgICAgICAgIDogaW5zdGFuY2UuX19jb21wb3NlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpbnNwZWN0U2NvcGUocGF5bG9hZCwgaTE4bikge1xyXG4gICAgY29uc3QgY29tcG9zZXIgPSBnZXRDb21wb3NlciQxKHBheWxvYWQubm9kZUlkLCBpMThuKTtcclxuICAgIGlmIChjb21wb3Nlcikge1xyXG4gICAgICAgIHBheWxvYWQuc3RhdGUgPSBtYWtlU2NvcGVJbnNwZWN0U3RhdGUoY29tcG9zZXIpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG1ha2VTY29wZUluc3BlY3RTdGF0ZShjb21wb3Nlcikge1xyXG4gICAgY29uc3Qgc3RhdGUgPSB7fTtcclxuICAgIGNvbnN0IGxvY2FsZVR5cGUgPSAnTG9jYWxlIHJlbGF0ZWQgaW5mbyc7XHJcbiAgICBjb25zdCBsb2NhbGVTdGF0ZXMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiBsb2NhbGVUeXBlLFxyXG4gICAgICAgICAgICBrZXk6ICdsb2NhbGUnLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmxvY2FsZS52YWx1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiBsb2NhbGVUeXBlLFxyXG4gICAgICAgICAgICBrZXk6ICdmYWxsYmFja0xvY2FsZScsXHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogY29tcG9zZXIuZmFsbGJhY2tMb2NhbGUudmFsdWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTogbG9jYWxlVHlwZSxcclxuICAgICAgICAgICAga2V5OiAnYXZhaWxhYmxlTG9jYWxlcycsXHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmF2YWlsYWJsZUxvY2FsZXNcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTogbG9jYWxlVHlwZSxcclxuICAgICAgICAgICAga2V5OiAnaW5oZXJpdExvY2FsZScsXHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogY29tcG9zZXIuaW5oZXJpdExvY2FsZVxyXG4gICAgICAgIH1cclxuICAgIF07XHJcbiAgICBzdGF0ZVtsb2NhbGVUeXBlXSA9IGxvY2FsZVN0YXRlcztcclxuICAgIGNvbnN0IGxvY2FsZU1lc3NhZ2VzVHlwZSA9ICdMb2NhbGUgbWVzc2FnZXMgaW5mbyc7XHJcbiAgICBjb25zdCBsb2NhbGVNZXNzYWdlc1N0YXRlcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHR5cGU6IGxvY2FsZU1lc3NhZ2VzVHlwZSxcclxuICAgICAgICAgICAga2V5OiAnbWVzc2FnZXMnLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHZhbHVlOiBnZXRMb2NhbGVNZXNzYWdlVmFsdWUoY29tcG9zZXIubWVzc2FnZXMudmFsdWUpXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuICAgIHN0YXRlW2xvY2FsZU1lc3NhZ2VzVHlwZV0gPSBsb2NhbGVNZXNzYWdlc1N0YXRlcztcclxuICAgIGNvbnN0IGRhdGV0aW1lRm9ybWF0c1R5cGUgPSAnRGF0ZXRpbWUgZm9ybWF0cyBpbmZvJztcclxuICAgIGNvbnN0IGRhdGV0aW1lRm9ybWF0c1N0YXRlcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHR5cGU6IGRhdGV0aW1lRm9ybWF0c1R5cGUsXHJcbiAgICAgICAgICAgIGtleTogJ2RhdGV0aW1lRm9ybWF0cycsXHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgdmFsdWU6IGNvbXBvc2VyLmRhdGV0aW1lRm9ybWF0cy52YWx1ZVxyXG4gICAgICAgIH1cclxuICAgIF07XHJcbiAgICBzdGF0ZVtkYXRldGltZUZvcm1hdHNUeXBlXSA9IGRhdGV0aW1lRm9ybWF0c1N0YXRlcztcclxuICAgIGNvbnN0IG51bWJlckZvcm1hdHNUeXBlID0gJ0RhdGV0aW1lIGZvcm1hdHMgaW5mbyc7XHJcbiAgICBjb25zdCBudW1iZXJGb3JtYXRzU3RhdGVzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTogbnVtYmVyRm9ybWF0c1R5cGUsXHJcbiAgICAgICAgICAgIGtleTogJ251bWJlckZvcm1hdHMnLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHZhbHVlOiBjb21wb3Nlci5udW1iZXJGb3JtYXRzLnZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuICAgIHN0YXRlW251bWJlckZvcm1hdHNUeXBlXSA9IG51bWJlckZvcm1hdHNTdGF0ZXM7XHJcbiAgICByZXR1cm4gc3RhdGU7XHJcbn1cclxuZnVuY3Rpb24gYWRkVGltZWxpbmVFdmVudChldmVudCwgcGF5bG9hZCkge1xyXG4gICAgaWYgKGRldnRvb2xzQXBpKSB7XHJcbiAgICAgICAgbGV0IGdyb3VwSWQ7XHJcbiAgICAgICAgaWYgKHBheWxvYWQgJiYgJ2dyb3VwSWQnIGluIHBheWxvYWQpIHtcclxuICAgICAgICAgICAgZ3JvdXBJZCA9IHBheWxvYWQuZ3JvdXBJZDtcclxuICAgICAgICAgICAgZGVsZXRlIHBheWxvYWQuZ3JvdXBJZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGV2dG9vbHNBcGkuYWRkVGltZWxpbmVFdmVudCh7XHJcbiAgICAgICAgICAgIGxheWVySWQ6IFwidnVlLWkxOG4tdGltZWxpbmVcIiAvKiBUSU1FTElORSAqLyxcclxuICAgICAgICAgICAgZXZlbnQ6IHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBldmVudCxcclxuICAgICAgICAgICAgICAgIGdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICB0aW1lOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgbWV0YToge30sXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBwYXlsb2FkIHx8IHt9LFxyXG4gICAgICAgICAgICAgICAgbG9nVHlwZTogZXZlbnQgPT09IFwiY29tcGlsZS1lcnJvclwiIC8qIENPTVBJTEVfRVJST1IgKi9cclxuICAgICAgICAgICAgICAgICAgICA/ICdlcnJvcidcclxuICAgICAgICAgICAgICAgICAgICA6IGV2ZW50ID09PSBcImZhbGxiYWNrXCIgLyogRkFMQkFDSyAqLyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudCA9PT0gXCJtaXNzaW5nXCIgLyogTUlTU0lORyAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICd3YXJuaW5nJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdkZWZhdWx0J1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZWRpdFNjb3BlKHBheWxvYWQsIGkxOG4pIHtcclxuICAgIGNvbnN0IGNvbXBvc2VyID0gZ2V0Q29tcG9zZXIkMShwYXlsb2FkLm5vZGVJZCwgaTE4bik7XHJcbiAgICBpZiAoY29tcG9zZXIpIHtcclxuICAgICAgICBjb25zdCBbZmllbGRdID0gcGF5bG9hZC5wYXRoO1xyXG4gICAgICAgIGlmIChmaWVsZCA9PT0gJ2xvY2FsZScgJiYgaXNTdHJpbmcocGF5bG9hZC5zdGF0ZS52YWx1ZSkpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIubG9jYWxlLnZhbHVlID0gcGF5bG9hZC5zdGF0ZS52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZmllbGQgPT09ICdmYWxsYmFja0xvY2FsZScgJiZcclxuICAgICAgICAgICAgKGlzU3RyaW5nKHBheWxvYWQuc3RhdGUudmFsdWUpIHx8XHJcbiAgICAgICAgICAgICAgICBpc0FycmF5KHBheWxvYWQuc3RhdGUudmFsdWUpIHx8XHJcbiAgICAgICAgICAgICAgICBpc09iamVjdChwYXlsb2FkLnN0YXRlLnZhbHVlKSkpIHtcclxuICAgICAgICAgICAgY29tcG9zZXIuZmFsbGJhY2tMb2NhbGUudmFsdWUgPSBwYXlsb2FkLnN0YXRlLnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChmaWVsZCA9PT0gJ2luaGVyaXRMb2NhbGUnICYmIGlzQm9vbGVhbihwYXlsb2FkLnN0YXRlLnZhbHVlKSkge1xyXG4gICAgICAgICAgICBjb21wb3Nlci5pbmhlcml0TG9jYWxlID0gcGF5bG9hZC5zdGF0ZS52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIHN1cHBvcnRzIGNvbXBhdGliaWxpdHkgZm9yIGxlZ2FjeSB2dWUtaTE4biBBUElzXHJcbmZ1bmN0aW9uIGRlZmluZU1peGluKHZ1ZWkxOG4sIGNvbXBvc2VyLCBpMThuKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGJlZm9yZUNyZWF0ZSgpIHtcclxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcigyMiAvKiBVTkVYUEVDVEVEX0VSUk9SICovKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy4kb3B0aW9ucztcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaTE4bikge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uc0kxOG4gPSBvcHRpb25zLmkxOG47XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5fX2kxOG4pIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zSTE4bi5fX2kxOG4gPSBvcHRpb25zLl9faTE4bjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG9wdGlvbnNJMThuLl9fcm9vdCA9IGNvbXBvc2VyO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMgPT09IHRoaXMuJHJvb3QpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpMThuID0gbWVyZ2VUb1Jvb3QodnVlaTE4biwgb3B0aW9uc0kxOG4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc0kxOG4uX19pbmplY3RXaXRoT3B0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpMThuID0gY3JlYXRlVnVlSTE4bihvcHRpb25zSTE4bik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5fX2kxOG4pIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzID09PSB0aGlzLiRyb290KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaTE4biA9IG1lcmdlVG9Sb290KHZ1ZWkxOG4sIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaTE4biA9IGNyZWF0ZVZ1ZUkxOG4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfX2kxOG46IG9wdGlvbnMuX19pMThuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfX2luamVjdFdpdGhPcHRpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fcm9vdDogY29tcG9zZXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHNldCBnbG9iYWxcclxuICAgICAgICAgICAgICAgIHRoaXMuJGkxOG4gPSB2dWVpMThuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZ1ZWkxOG4uX19vbkNvbXBvbmVudEluc3RhbmNlQ3JlYXRlZCh0aGlzLiRpMThuKTtcclxuICAgICAgICAgICAgaTE4bi5fX3NldEluc3RhbmNlKGluc3RhbmNlLCB0aGlzLiRpMThuKTtcclxuICAgICAgICAgICAgLy8gZGVmaW5lcyB2dWUtaTE4biBsZWdhY3kgQVBJc1xyXG4gICAgICAgICAgICB0aGlzLiR0ID0gKC4uLmFyZ3MpID0+IHRoaXMuJGkxOG4udCguLi5hcmdzKTtcclxuICAgICAgICAgICAgdGhpcy4kcnQgPSAoLi4uYXJncykgPT4gdGhpcy4kaTE4bi5ydCguLi5hcmdzKTtcclxuICAgICAgICAgICAgdGhpcy4kdGMgPSAoLi4uYXJncykgPT4gdGhpcy4kaTE4bi50YyguLi5hcmdzKTtcclxuICAgICAgICAgICAgdGhpcy4kdGUgPSAoa2V5LCBsb2NhbGUpID0+IHRoaXMuJGkxOG4udGUoa2V5LCBsb2NhbGUpO1xyXG4gICAgICAgICAgICB0aGlzLiRkID0gKC4uLmFyZ3MpID0+IHRoaXMuJGkxOG4uZCguLi5hcmdzKTtcclxuICAgICAgICAgICAgdGhpcy4kbiA9ICguLi5hcmdzKSA9PiB0aGlzLiRpMThuLm4oLi4uYXJncyk7XHJcbiAgICAgICAgICAgIHRoaXMuJHRtID0gKGtleSkgPT4gdGhpcy4kaTE4bi50bShrZXkpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbW91bnRlZCgpIHtcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX0kxOE5fUFJPRF9ERVZUT09MU19fKSAmJiAhZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGVsLl9fVlVFX0kxOE5fXyA9IHRoaXMuJGkxOG4uX19jb21wb3NlcjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSAodGhpcy5fX3ZfZW1pdHRlciA9IGNyZWF0ZUVtaXR0ZXIoKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBfdnVlSTE4biA9IHRoaXMuJGkxOG47XHJcbiAgICAgICAgICAgICAgICBfdnVlSTE4bi5fX2VuYWJsZUVtaXR0ZXIgJiYgX3Z1ZUkxOG4uX19lbmFibGVFbWl0dGVyKGVtaXR0ZXIpO1xyXG4gICAgICAgICAgICAgICAgZW1pdHRlci5vbignKicsIGFkZFRpbWVsaW5lRXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBiZWZvcmVVbm1vdW50KCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKDIyIC8qIFVORVhQRUNURURfRVJST1IgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgICAgICBpZiAoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9JMThOX1BST0RfREVWVE9PTFNfXykgJiYgIWZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fX3ZfZW1pdHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX192X2VtaXR0ZXIub2ZmKCcqJywgYWRkVGltZWxpbmVFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX192X2VtaXR0ZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBfdnVlSTE4biA9IHRoaXMuJGkxOG47XHJcbiAgICAgICAgICAgICAgICBfdnVlSTE4bi5fX2Rpc2FibGVFbWl0dGVyICYmIF92dWVJMThuLl9fZGlzYWJsZUVtaXR0ZXIoKTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiRlbC5fX1ZVRV9JMThOX187XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJHQ7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiRydDtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJHRjO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kdGU7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiRkO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kbjtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJHRtO1xyXG4gICAgICAgICAgICBpMThuLl9fZGVsZXRlSW5zdGFuY2UoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kaTE4bjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIG1lcmdlVG9Sb290KHJvb3QsIG9wdGlvbnMpIHtcclxuICAgIHJvb3QubG9jYWxlID0gb3B0aW9ucy5sb2NhbGUgfHwgcm9vdC5sb2NhbGU7XHJcbiAgICByb290LmZhbGxiYWNrTG9jYWxlID0gb3B0aW9ucy5mYWxsYmFja0xvY2FsZSB8fCByb290LmZhbGxiYWNrTG9jYWxlO1xyXG4gICAgcm9vdC5taXNzaW5nID0gb3B0aW9ucy5taXNzaW5nIHx8IHJvb3QubWlzc2luZztcclxuICAgIHJvb3Quc2lsZW50VHJhbnNsYXRpb25XYXJuID1cclxuICAgICAgICBvcHRpb25zLnNpbGVudFRyYW5zbGF0aW9uV2FybiB8fCByb290LnNpbGVudEZhbGxiYWNrV2FybjtcclxuICAgIHJvb3Quc2lsZW50RmFsbGJhY2tXYXJuID1cclxuICAgICAgICBvcHRpb25zLnNpbGVudEZhbGxiYWNrV2FybiB8fCByb290LnNpbGVudEZhbGxiYWNrV2FybjtcclxuICAgIHJvb3QuZm9ybWF0RmFsbGJhY2tNZXNzYWdlcyA9XHJcbiAgICAgICAgb3B0aW9ucy5mb3JtYXRGYWxsYmFja01lc3NhZ2VzIHx8IHJvb3QuZm9ybWF0RmFsbGJhY2tNZXNzYWdlcztcclxuICAgIHJvb3QucG9zdFRyYW5zbGF0aW9uID0gb3B0aW9ucy5wb3N0VHJhbnNsYXRpb24gfHwgcm9vdC5wb3N0VHJhbnNsYXRpb247XHJcbiAgICByb290Lndhcm5IdG1sSW5NZXNzYWdlID0gb3B0aW9ucy53YXJuSHRtbEluTWVzc2FnZSB8fCByb290Lndhcm5IdG1sSW5NZXNzYWdlO1xyXG4gICAgcm9vdC5lc2NhcGVQYXJhbWV0ZXJIdG1sID1cclxuICAgICAgICBvcHRpb25zLmVzY2FwZVBhcmFtZXRlckh0bWwgfHwgcm9vdC5lc2NhcGVQYXJhbWV0ZXJIdG1sO1xyXG4gICAgcm9vdC5zeW5jID0gb3B0aW9ucy5zeW5jIHx8IHJvb3Quc3luYztcclxuICAgIHJvb3QuX19jb21wb3NlcltTZXRQbHVyYWxSdWxlc1N5bWJvbF0ob3B0aW9ucy5wbHVyYWxpemF0aW9uUnVsZXMgfHwgcm9vdC5wbHVyYWxpemF0aW9uUnVsZXMpO1xyXG4gICAgY29uc3QgbWVzc2FnZXMgPSBnZXRMb2NhbGVNZXNzYWdlcyhyb290LmxvY2FsZSwge1xyXG4gICAgICAgIG1lc3NhZ2VzOiBvcHRpb25zLm1lc3NhZ2VzLFxyXG4gICAgICAgIF9faTE4bjogb3B0aW9ucy5fX2kxOG5cclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmtleXMobWVzc2FnZXMpLmZvckVhY2gobG9jYWxlID0+IHJvb3QubWVyZ2VMb2NhbGVNZXNzYWdlKGxvY2FsZSwgbWVzc2FnZXNbbG9jYWxlXSkpO1xyXG4gICAgaWYgKG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzKSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucy5kYXRldGltZUZvcm1hdHMpLmZvckVhY2gobG9jYWxlID0+IHJvb3QubWVyZ2VEYXRlVGltZUZvcm1hdChsb2NhbGUsIG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzW2xvY2FsZV0pKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLm51bWJlckZvcm1hdHMpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zLm51bWJlckZvcm1hdHMpLmZvckVhY2gobG9jYWxlID0+IHJvb3QubWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBvcHRpb25zLm51bWJlckZvcm1hdHNbbG9jYWxlXSkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJvb3Q7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBWdWUgSTE4biBmYWN0b3J5XHJcbiAqXHJcbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb3B0aW9ucywgc2VlIHRoZSB7QGxpbmsgSTE4bk9wdGlvbnN9XHJcbiAqXHJcbiAqIEByZXR1cm5zIHtAbGluayBJMThufSBpbnN0YW5jZVxyXG4gKlxyXG4gKiBAcmVtYXJrc1xyXG4gKiBJZiB5b3UgdXNlIExlZ2FjeSBBUEkgbW9kZSwgeW91IG5lZWQgdG90byBzcGVjaWZ5IHtAbGluayBWdWVJMThuT3B0aW9uc30gYW5kIGBsZWdhY3k6IHRydWVgIG9wdGlvbi5cclxuICpcclxuICogSWYgeW91IHVzZSBjb21wb3NpdGlvbiBBUEkgbW9kZSwgeW91IG5lZWQgdG8gc3BlY2lmeSB7QGxpbmsgQ29tcG9zZXJPcHRpb25zfS5cclxuICpcclxuICogQFZ1ZUkxOG5TZWUgW0dldHRpbmcgU3RhcnRlZF0oLi4vZ3VpZGUvKVxyXG4gKiBAVnVlSTE4blNlZSBbQ29tcG9zaXRpb24gQVBJXSguLi9ndWlkZS9hZHZhbmNlZC9jb21wb3NpdGlvbilcclxuICpcclxuICogQGV4YW1wbGVcclxuICogY2FzZTogZm9yIExlZ2FjeSBBUElcclxuICogYGBganNcclxuICogaW1wb3J0IHsgY3JlYXRlQXBwIH0gZnJvbSAndnVlJ1xyXG4gKiBpbXBvcnQgeyBjcmVhdGVJMThuIH0gZnJvbSAndnVlLWkxOG4nXHJcbiAqXHJcbiAqIC8vIGNhbGwgd2l0aCBJMThuIG9wdGlvblxyXG4gKiBjb25zdCBpMThuID0gY3JlYXRlSTE4bih7XHJcbiAqICAgbG9jYWxlOiAnamEnLFxyXG4gKiAgIG1lc3NhZ2VzOiB7XHJcbiAqICAgICBlbjogeyAuLi4gfSxcclxuICogICAgIGphOiB7IC4uLiB9XHJcbiAqICAgfVxyXG4gKiB9KVxyXG4gKlxyXG4gKiBjb25zdCBBcHAgPSB7XHJcbiAqICAgLy8gLi4uXHJcbiAqIH1cclxuICpcclxuICogY29uc3QgYXBwID0gY3JlYXRlQXBwKEFwcClcclxuICpcclxuICogLy8gaW5zdGFsbCFcclxuICogYXBwLnVzZShpMThuKVxyXG4gKiBhcHAubW91bnQoJyNhcHAnKVxyXG4gKiBgYGBcclxuICpcclxuICogQGV4YW1wbGVcclxuICogY2FzZTogZm9yIGNvbXBvc2l0aW9uIEFQSVxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQgeyBjcmVhdGVBcHAgfSBmcm9tICd2dWUnXHJcbiAqIGltcG9ydCB7IGNyZWF0ZUkxOG4sIHVzZUkxOG4gfSBmcm9tICd2dWUtaTE4bidcclxuICpcclxuICogLy8gY2FsbCB3aXRoIEkxOG4gb3B0aW9uXHJcbiAqIGNvbnN0IGkxOG4gPSBjcmVhdGVJMThuKHtcclxuICogICBsZWdhY3k6IGZhbHNlLCAvLyB5b3UgbXVzdCBzcGVjaWZ5ICdsZWdhY3k6IGZhbHNlJyBvcHRpb25cclxuICogICBsb2NhbGU6ICdqYScsXHJcbiAqICAgbWVzc2FnZXM6IHtcclxuICogICAgIGVuOiB7IC4uLiB9LFxyXG4gKiAgICAgamE6IHsgLi4uIH1cclxuICogICB9XHJcbiAqIH0pXHJcbiAqXHJcbiAqIGNvbnN0IEFwcCA9IHtcclxuICogICBzZXR1cCgpIHtcclxuICogICAgIC8vIC4uLlxyXG4gKiAgICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKHsgLi4uIH0pXHJcbiAqICAgICByZXR1cm4geyAuLi4gLCB0IH1cclxuICogICB9XHJcbiAqIH1cclxuICpcclxuICogY29uc3QgYXBwID0gY3JlYXRlQXBwKEFwcClcclxuICpcclxuICogLy8gaW5zdGFsbCFcclxuICogYXBwLnVzZShpMThuKVxyXG4gKiBhcHAubW91bnQoJyNhcHAnKVxyXG4gKiBgYGBcclxuICpcclxuICogQFZ1ZUkxOG5HZW5lcmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVJMThuKG9wdGlvbnMgPSB7fSkge1xyXG4gICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICBjb25zdCBfX2xlZ2FjeU1vZGUgPSBfX1ZVRV9JMThOX0xFR0FDWV9BUElfXyAmJiBpc0Jvb2xlYW4ob3B0aW9ucy5sZWdhY3kpXHJcbiAgICAgICAgPyBvcHRpb25zLmxlZ2FjeVxyXG4gICAgICAgIDogX19WVUVfSTE4Tl9MRUdBQ1lfQVBJX187XHJcbiAgICBjb25zdCBfX2dsb2JhbEluamVjdGlvbiA9ICEhb3B0aW9ucy5nbG9iYWxJbmplY3Rpb247XHJcbiAgICBjb25zdCBfX2luc3RhbmNlcyA9IG5ldyBNYXAoKTtcclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgY29uc3QgX19nbG9iYWwgPSBfX1ZVRV9JMThOX0xFR0FDWV9BUElfXyAmJiBfX2xlZ2FjeU1vZGVcclxuICAgICAgICA/IGNyZWF0ZVZ1ZUkxOG4ob3B0aW9ucylcclxuICAgICAgICA6IGNyZWF0ZUNvbXBvc2VyKG9wdGlvbnMpO1xyXG4gICAgY29uc3Qgc3ltYm9sID0gbWFrZVN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAndnVlLWkxOG4nIDogJycpO1xyXG4gICAgY29uc3QgaTE4biA9IHtcclxuICAgICAgICAvLyBtb2RlXHJcbiAgICAgICAgZ2V0IG1vZGUoKSB7XHJcbiAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgICAgICAgICByZXR1cm4gX19WVUVfSTE4Tl9MRUdBQ1lfQVBJX19cclxuICAgICAgICAgICAgICAgID8gX19sZWdhY3lNb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgPyAnbGVnYWN5J1xyXG4gICAgICAgICAgICAgICAgICAgIDogJ2NvbXBvc2l0aW9uJ1xyXG4gICAgICAgICAgICAgICAgOiAnY29tcG9zaXRpb24nO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gaW5zdGFsbCBwbHVnaW5cclxuICAgICAgICBhc3luYyBpbnN0YWxsKGFwcCwgLi4ub3B0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9JMThOX1BST0RfREVWVE9PTFNfXykgJiYgIWZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuX19WVUVfSTE4Tl9fID0gaTE4bjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBzZXR1cCBnbG9iYWwgcHJvdmlkZXJcclxuICAgICAgICAgICAgYXBwLl9fVlVFX0kxOE5fU1lNQk9MX18gPSBzeW1ib2w7XHJcbiAgICAgICAgICAgIGFwcC5wcm92aWRlKGFwcC5fX1ZVRV9JMThOX1NZTUJPTF9fLCBpMThuKTtcclxuICAgICAgICAgICAgLy8gZ2xvYmFsIG1ldGhvZCBhbmQgcHJvcGVydGllcyBpbmplY3Rpb24gZm9yIENvbXBvc2l0aW9uIEFQSVxyXG4gICAgICAgICAgICBpZiAoIV9fbGVnYWN5TW9kZSAmJiBfX2dsb2JhbEluamVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgaW5qZWN0R2xvYmFsRmllbGRzKGFwcCwgaTE4bi5nbG9iYWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGluc3RhbGwgYnVpbHQtaW4gY29tcG9uZW50cyBhbmQgZGlyZWN0aXZlXHJcbiAgICAgICAgICAgIGlmIChfX1ZVRV9JMThOX0ZVTExfSU5TVEFMTF9fKSB7XHJcbiAgICAgICAgICAgICAgICBhcHBseShhcHAsIGkxOG4sIC4uLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHNldHVwIG1peGluIGZvciBMZWdhY3kgQVBJXHJcbiAgICAgICAgICAgIGlmIChfX1ZVRV9JMThOX0xFR0FDWV9BUElfXyAmJiBfX2xlZ2FjeU1vZGUpIHtcclxuICAgICAgICAgICAgICAgIGFwcC5taXhpbihkZWZpbmVNaXhpbihfX2dsb2JhbCwgX19nbG9iYWwuX19jb21wb3NlciwgaTE4bikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHNldHVwIHZ1ZS1kZXZ0b29scyBwbHVnaW5cclxuICAgICAgICAgICAgaWYgKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfSTE4Tl9QUk9EX0RFVlRPT0xTX18pICYmICFmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmV0ID0gYXdhaXQgZW5hYmxlRGV2VG9vbHMoYXBwLCBpMThuKTtcclxuICAgICAgICAgICAgICAgIGlmICghcmV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKDIxIC8qIENBTk5PVF9TRVRVUF9WVUVfREVWVE9PTFNfUExVR0lOICovKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjcmVhdGVFbWl0dGVyKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoX19sZWdhY3lNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX3Z1ZUkxOG4gPSBfX2dsb2JhbDtcclxuICAgICAgICAgICAgICAgICAgICBfdnVlSTE4bi5fX2VuYWJsZUVtaXR0ZXIgJiYgX3Z1ZUkxOG4uX19lbmFibGVFbWl0dGVyKGVtaXR0ZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBfY29tcG9zZXIgPSBfX2dsb2JhbDtcclxuICAgICAgICAgICAgICAgICAgICBfY29tcG9zZXJbRW5hYmxlRW1pdHRlcl0gJiYgX2NvbXBvc2VyW0VuYWJsZUVtaXR0ZXJdKGVtaXR0ZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZW1pdHRlci5vbignKicsIGFkZFRpbWVsaW5lRXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBnbG9iYWwgYWNjZXNzb3JcclxuICAgICAgICBnZXQgZ2xvYmFsKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19nbG9iYWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBAaW50ZXJuYWxcclxuICAgICAgICBfX2luc3RhbmNlcyxcclxuICAgICAgICAvLyBAaW50ZXJuYWxcclxuICAgICAgICBfX2dldEluc3RhbmNlKGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19pbnN0YW5jZXMuZ2V0KGNvbXBvbmVudCkgfHwgbnVsbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIEBpbnRlcm5hbFxyXG4gICAgICAgIF9fc2V0SW5zdGFuY2UoY29tcG9uZW50LCBpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBfX2luc3RhbmNlcy5zZXQoY29tcG9uZW50LCBpbnN0YW5jZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBAaW50ZXJuYWxcclxuICAgICAgICBfX2RlbGV0ZUluc3RhbmNlKGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBfX2luc3RhbmNlcy5kZWxldGUoY29tcG9uZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGkxOG47XHJcbn1cclxuLyoqXHJcbiAqIFVzZSBDb21wb3NpdGlvbiBBUEkgZm9yIFZ1ZSBJMThuXHJcbiAqXHJcbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb3B0aW9ucywgc2VlIHtAbGluayBVc2VJMThuT3B0aW9uc31cclxuICpcclxuICogQHJldHVybnMge0BsaW5rIENvbXBvc2VyfSBpbnN0YW5jZVxyXG4gKlxyXG4gKiBAcmVtYXJrc1xyXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIG1haW5seSB1c2VkIGJ5IGBzZXR1cGAuXHJcbiAqXHJcbiAqIElmIG9wdGlvbnMgYXJlIHNwZWNpZmllZCwgQ29tcG9zZXIgaW5zdGFuY2UgaXMgY3JlYXRlZCBmb3IgZWFjaCBjb21wb25lbnQgYW5kIHlvdSBjYW4gYmUgbG9jYWxpemVkIG9uIHRoZSBjb21wb25lbnQuXHJcbiAqXHJcbiAqIElmIG9wdGlvbnMgYXJlIG5vdCBzcGVjaWZpZWQsIHlvdSBjYW4gYmUgbG9jYWxpemVkIHVzaW5nIHRoZSBnbG9iYWwgQ29tcG9zZXIuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNhc2U6IENvbXBvbmVudCByZXNvdXJjZSBiYXNlIGxvY2FsaXphdGlvblxyXG4gKiBgYGBodG1sXHJcbiAqIDx0ZW1wbGF0ZT5cclxuICogICA8Zm9ybT5cclxuICogICAgIDxsYWJlbD57eyB0KCdsYW5ndWFnZScpIH19PC9sYWJlbD5cclxuICogICAgIDxzZWxlY3Qgdi1tb2RlbD1cImxvY2FsZVwiPlxyXG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwiZW5cIj5lbjwvb3B0aW9uPlxyXG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwiamFcIj5qYTwvb3B0aW9uPlxyXG4gKiAgICAgPC9zZWxlY3Q+XHJcbiAqICAgPC9mb3JtPlxyXG4gKiAgIDxwPm1lc3NhZ2U6IHt7IHQoJ2hlbGxvJykgfX08L3A+XHJcbiAqIDwvdGVtcGxhdGU+XHJcbiAqXHJcbiAqIDxzY3JpcHQ+XHJcbiAqIGltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICd2dWUtaTE4bidcclxuICpcclxuICogZXhwb3J0IGRlZmF1bHQge1xyXG4gKiAgc2V0dXAoKSB7XHJcbiAqICAgIGNvbnN0IHsgdCwgbG9jYWxlIH0gPSB1c2VJMThuKHtcclxuICogICAgICBsb2NhbGU6ICdqYScsXHJcbiAqICAgICAgbWVzc2FnZXM6IHtcclxuICogICAgICAgIGVuOiB7IC4uLiB9LFxyXG4gKiAgICAgICAgamE6IHsgLi4uIH1cclxuICogICAgICB9XHJcbiAqICAgIH0pXHJcbiAqICAgIC8vIFNvbWV0aGluZyB0byBkbyAuLi5cclxuICpcclxuICogICAgcmV0dXJuIHsgLi4uLCB0LCBsb2NhbGUgfVxyXG4gKiAgfVxyXG4gKiB9XHJcbiAqIDwvc2NyaXB0PlxyXG4gKiBgYGBcclxuICpcclxuICogQFZ1ZUkxOG5Db21wb3NpdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gdXNlSTE4bihvcHRpb25zID0ge30pIHtcclxuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICBpZiAoaW5zdGFuY2UgPT0gbnVsbCkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcigxNiAvKiBNVVNUX0JFX0NBTExfU0VUVVBfVE9QICovKTtcclxuICAgIH1cclxuICAgIGlmICghaW5zdGFuY2UuYXBwQ29udGV4dC5hcHAuX19WVUVfSTE4Tl9TWU1CT0xfXykge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcigxNyAvKiBOT1RfSU5TTEFMTEVEICovKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGkxOG4gPSBpbmplY3QoaW5zdGFuY2UuYXBwQ29udGV4dC5hcHAuX19WVUVfSTE4Tl9TWU1CT0xfXyk7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmICghaTE4bikge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcigyMiAvKiBVTkVYUEVDVEVEX0VSUk9SICovKTtcclxuICAgIH1cclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgY29uc3QgZ2xvYmFsID0gaTE4bi5tb2RlID09PSAnY29tcG9zaXRpb24nXHJcbiAgICAgICAgPyBpMThuLmdsb2JhbFxyXG4gICAgICAgIDogaTE4bi5nbG9iYWwuX19jb21wb3NlcjtcclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgY29uc3Qgc2NvcGUgPSBpc0VtcHR5T2JqZWN0KG9wdGlvbnMpXHJcbiAgICAgICAgPyAoJ19faTE4bicgaW4gaW5zdGFuY2UudHlwZSlcclxuICAgICAgICAgICAgPyAnbG9jYWwnXHJcbiAgICAgICAgICAgIDogJ2dsb2JhbCdcclxuICAgICAgICA6ICFvcHRpb25zLnVzZVNjb3BlXHJcbiAgICAgICAgICAgID8gJ2xvY2FsJ1xyXG4gICAgICAgICAgICA6IG9wdGlvbnMudXNlU2NvcGU7XHJcbiAgICBpZiAoc2NvcGUgPT09ICdnbG9iYWwnKSB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2VzID0gaXNPYmplY3Qob3B0aW9ucy5tZXNzYWdlcykgPyBvcHRpb25zLm1lc3NhZ2VzIDoge307XHJcbiAgICAgICAgaWYgKCdfX2kxOG5HbG9iYWwnIGluIGluc3RhbmNlLnR5cGUpIHtcclxuICAgICAgICAgICAgbWVzc2FnZXMgPSBnZXRMb2NhbGVNZXNzYWdlcyhnbG9iYWwubG9jYWxlLnZhbHVlLCB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyxcclxuICAgICAgICAgICAgICAgIF9faTE4bjogaW5zdGFuY2UudHlwZS5fX2kxOG5HbG9iYWxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIG1lcmdlIGxvY2FsZSBtZXNzYWdlc1xyXG4gICAgICAgIGNvbnN0IGxvY2FsZXMgPSBPYmplY3Qua2V5cyhtZXNzYWdlcyk7XHJcbiAgICAgICAgaWYgKGxvY2FsZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGxvY2FsZXMuZm9yRWFjaChsb2NhbGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgZ2xvYmFsLm1lcmdlTG9jYWxlTWVzc2FnZShsb2NhbGUsIG1lc3NhZ2VzW2xvY2FsZV0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbWVyZ2UgZGF0ZXRpbWUgZm9ybWF0c1xyXG4gICAgICAgIGlmIChpc09iamVjdChvcHRpb25zLmRhdGV0aW1lRm9ybWF0cykpIHtcclxuICAgICAgICAgICAgY29uc3QgbG9jYWxlcyA9IE9iamVjdC5rZXlzKG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzKTtcclxuICAgICAgICAgICAgaWYgKGxvY2FsZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbGVzLmZvckVhY2gobG9jYWxlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBnbG9iYWwubWVyZ2VEYXRlVGltZUZvcm1hdChsb2NhbGUsIG9wdGlvbnMuZGF0ZXRpbWVGb3JtYXRzW2xvY2FsZV0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbWVyZ2UgbnVtYmVyIGZvcm1hdHNcclxuICAgICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucy5udW1iZXJGb3JtYXRzKSkge1xyXG4gICAgICAgICAgICBjb25zdCBsb2NhbGVzID0gT2JqZWN0LmtleXMob3B0aW9ucy5udW1iZXJGb3JtYXRzKTtcclxuICAgICAgICAgICAgaWYgKGxvY2FsZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbGVzLmZvckVhY2gobG9jYWxlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBnbG9iYWwubWVyZ2VOdW1iZXJGb3JtYXQobG9jYWxlLCBvcHRpb25zLm51bWJlckZvcm1hdHNbbG9jYWxlXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZ2xvYmFsO1xyXG4gICAgfVxyXG4gICAgaWYgKHNjb3BlID09PSAncGFyZW50Jykge1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgbGV0IGNvbXBvc2VyID0gZ2V0Q29tcG9zZXIoaTE4biwgaW5zdGFuY2UsIG9wdGlvbnMuX191c2VDb21wb25lbnQpO1xyXG4gICAgICAgIGlmIChjb21wb3NlciA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oZ2V0V2Fybk1lc3NhZ2UoMTIgLyogTk9UX0ZPVU5EX1BBUkVOVF9TQ09QRSAqLykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbXBvc2VyID0gZ2xvYmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29tcG9zZXI7XHJcbiAgICB9XHJcbiAgICAvLyBzY29wZSAnbG9jYWwnIGNhc2VcclxuICAgIGlmIChpMThuLm1vZGUgPT09ICdsZWdhY3knKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKDE4IC8qIE5PVF9BVkFJTEFCTEVfSU5fTEVHQUNZX01PREUgKi8pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaTE4bkludGVybmFsID0gaTE4bjtcclxuICAgIGxldCBjb21wb3NlciA9IGkxOG5JbnRlcm5hbC5fX2dldEluc3RhbmNlKGluc3RhbmNlKTtcclxuICAgIGlmIChjb21wb3NlciA9PSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGluc3RhbmNlLnR5cGU7XHJcbiAgICAgICAgY29uc3QgY29tcG9zZXJPcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcclxuICAgICAgICBpZiAodHlwZS5fX2kxOG4pIHtcclxuICAgICAgICAgICAgY29tcG9zZXJPcHRpb25zLl9faTE4biA9IHR5cGUuX19pMThuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZ2xvYmFsKSB7XHJcbiAgICAgICAgICAgIGNvbXBvc2VyT3B0aW9ucy5fX3Jvb3QgPSBnbG9iYWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbXBvc2VyID0gY3JlYXRlQ29tcG9zZXIoY29tcG9zZXJPcHRpb25zKTtcclxuICAgICAgICBzZXR1cExpZmVDeWNsZShpMThuSW50ZXJuYWwsIGluc3RhbmNlLCBjb21wb3Nlcik7XHJcbiAgICAgICAgaTE4bkludGVybmFsLl9fc2V0SW5zdGFuY2UoaW5zdGFuY2UsIGNvbXBvc2VyKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjb21wb3NlcjtcclxufVxyXG5mdW5jdGlvbiBnZXRDb21wb3NlcihpMThuLCB0YXJnZXQsIHVzZUNvbXBvbmVudCA9IGZhbHNlKSB7XHJcbiAgICBsZXQgY29tcG9zZXIgPSBudWxsO1xyXG4gICAgY29uc3Qgcm9vdCA9IHRhcmdldC5yb290O1xyXG4gICAgbGV0IGN1cnJlbnQgPSB0YXJnZXQucGFyZW50O1xyXG4gICAgd2hpbGUgKGN1cnJlbnQgIT0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IGkxOG5JbnRlcm5hbCA9IGkxOG47XHJcbiAgICAgICAgaWYgKGkxOG4ubW9kZSA9PT0gJ2NvbXBvc2l0aW9uJykge1xyXG4gICAgICAgICAgICBjb21wb3NlciA9IGkxOG5JbnRlcm5hbC5fX2dldEluc3RhbmNlKGN1cnJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdnVlSTE4biA9IGkxOG5JbnRlcm5hbC5fX2dldEluc3RhbmNlKGN1cnJlbnQpO1xyXG4gICAgICAgICAgICBpZiAodnVlSTE4biAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb3NlciA9IHZ1ZUkxOG5cclxuICAgICAgICAgICAgICAgICAgICAuX19jb21wb3NlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICBpZiAodXNlQ29tcG9uZW50ICYmIGNvbXBvc2VyICYmICFjb21wb3NlcltJbmVqY3RXaXRoT3B0aW9uXSkge1xyXG4gICAgICAgICAgICAgICAgY29tcG9zZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb21wb3NlciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocm9vdCA9PT0gY3VycmVudCkge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbXBvc2VyO1xyXG59XHJcbmZ1bmN0aW9uIHNldHVwTGlmZUN5Y2xlKGkxOG4sIHRhcmdldCwgY29tcG9zZXIpIHtcclxuICAgIGxldCBlbWl0dGVyID0gbnVsbDtcclxuICAgIG9uTW91bnRlZCgoKSA9PiB7XHJcbiAgICAgICAgLy8gaW5qZWN0IGNvbXBvc2VyIGluc3RhbmNlIHRvIERPTSBmb3IgaW50bGlmeS1kZXZ0b29sc1xyXG4gICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX0kxOE5fUFJPRF9ERVZUT09MU19fKSAmJlxyXG4gICAgICAgICAgICAhZmFsc2UgJiZcclxuICAgICAgICAgICAgdGFyZ2V0LnZub2RlLmVsKSB7XHJcbiAgICAgICAgICAgIHRhcmdldC52bm9kZS5lbC5fX1ZVRV9JMThOX18gPSBjb21wb3NlcjtcclxuICAgICAgICAgICAgZW1pdHRlciA9IGNyZWF0ZUVtaXR0ZXIoKTtcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgY29uc3QgX2NvbXBvc2VyID0gY29tcG9zZXI7XHJcbiAgICAgICAgICAgIF9jb21wb3NlcltFbmFibGVFbWl0dGVyXSAmJiBfY29tcG9zZXJbRW5hYmxlRW1pdHRlcl0oZW1pdHRlcik7XHJcbiAgICAgICAgICAgIGVtaXR0ZXIub24oJyonLCBhZGRUaW1lbGluZUV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9LCB0YXJnZXQpO1xyXG4gICAgb25Vbm1vdW50ZWQoKCkgPT4ge1xyXG4gICAgICAgIC8vIHJlbW92ZSBjb21wb3NlciBpbnN0YW5jZSBmcm9tIERPTSBmb3IgaW50bGlmeS1kZXZ0b29sc1xyXG4gICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX0kxOE5fUFJPRF9ERVZUT09MU19fKSAmJlxyXG4gICAgICAgICAgICAhZmFsc2UgJiZcclxuICAgICAgICAgICAgdGFyZ2V0LnZub2RlLmVsICYmXHJcbiAgICAgICAgICAgIHRhcmdldC52bm9kZS5lbC5fX1ZVRV9JMThOX18pIHtcclxuICAgICAgICAgICAgZW1pdHRlciAmJiBlbWl0dGVyLm9mZignKicsIGFkZFRpbWVsaW5lRXZlbnQpO1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICBjb25zdCBfY29tcG9zZXIgPSBjb21wb3NlcjtcclxuICAgICAgICAgICAgX2NvbXBvc2VyW0Rpc2FibGVFbWl0dGVyXSAmJiBfY29tcG9zZXJbRGlzYWJsZUVtaXR0ZXJdKCk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXQudm5vZGUuZWwuX19WVUVfSTE4Tl9fO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpMThuLl9fZGVsZXRlSW5zdGFuY2UodGFyZ2V0KTtcclxuICAgIH0sIHRhcmdldCk7XHJcbn1cclxuY29uc3QgZ2xvYmFsRXhwb3J0UHJvcHMgPSBbXHJcbiAgICAnbG9jYWxlJyxcclxuICAgICdmYWxsYmFja0xvY2FsZScsXHJcbiAgICAnYXZhaWxhYmxlTG9jYWxlcydcclxuXTtcclxuY29uc3QgZ2xvYmFsRXhwb3J0TWV0aG9kcyA9IFsndCcsICdydCcsICdkJywgJ24nLCAndG0nXTtcclxuZnVuY3Rpb24gaW5qZWN0R2xvYmFsRmllbGRzKGFwcCwgY29tcG9zZXIpIHtcclxuICAgIGNvbnN0IGkxOG4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgZ2xvYmFsRXhwb3J0UHJvcHMuZm9yRWFjaChwcm9wID0+IHtcclxuICAgICAgICBjb25zdCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb21wb3NlciwgcHJvcCk7XHJcbiAgICAgICAgaWYgKCFkZXNjKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUkxOG5FcnJvcigyMiAvKiBVTkVYUEVDVEVEX0VSUk9SICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgd3JhcCA9IGlzUmVmKGRlc2MudmFsdWUpIC8vIGNoZWNrIGNvbXB1dGVkIHByb3BzXHJcbiAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXNjLnZhbHVlLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgICAgICBzZXQodmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzYy52YWx1ZS52YWx1ZSA9IHZhbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA6IHtcclxuICAgICAgICAgICAgICAgIGdldCgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzYy5nZXQgJiYgZGVzYy5nZXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaTE4biwgcHJvcCwgd3JhcCk7XHJcbiAgICB9KTtcclxuICAgIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcy4kaTE4biA9IGkxOG47XHJcbiAgICBnbG9iYWxFeHBvcnRNZXRob2RzLmZvckVhY2gobWV0aG9kID0+IHtcclxuICAgICAgICBjb25zdCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb21wb3NlciwgbWV0aG9kKTtcclxuICAgICAgICBpZiAoIWRlc2MgfHwgIWRlc2MudmFsdWUpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSTE4bkVycm9yKDIyIC8qIFVORVhQRUNURURfRVJST1IgKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBgJCR7bWV0aG9kfWAsIGRlc2MpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbntcclxuICAgIGluaXRGZWF0dXJlRmxhZ3MoKTtcclxufVxyXG4vLyBOT1RFOiBleHBlcmltZW50YWwgISFcclxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX0lOVExJRllfUFJPRF9ERVZUT09MU19fKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBnZXRHbG9iYWxUaGlzKCk7XHJcbiAgICB0YXJnZXQuX19JTlRMSUZZX18gPSB0cnVlO1xyXG4gICAgc2V0RGV2VG9vbHNIb29rKHRhcmdldC5fX0lOVExJRllfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyk7XHJcbn1cclxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkgO1xyXG5cclxuZXhwb3J0IHsgRGF0ZXRpbWVGb3JtYXQsIE51bWJlckZvcm1hdCwgVHJhbnNsYXRpb24sIFZFUlNJT04sIGNyZWF0ZUkxOG4sIHVzZUkxOG4sIHZURGlyZWN0aXZlIH07XHJcbiIsInZhciBsb29rdXAgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcclxuICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCA2MiwgMCwgNjIsIDAsIDYzLCA1MiwgNTMsIDU0LCA1NSwgNTYsIDU3LCA1OCwgNTksIDYwLCA2MSxcclxuICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1LCAxNiwgMTcsIDE4LCAxOSwgMjAsXHJcbiAgMjEsIDIyLCAyMywgMjQsIDI1LCAwLCAwLCAwLCAwLCA2MywgMCwgMjYsIDI3LCAyOCwgMjksIDMwLCAzMSwgMzIsIDMzLCAzNCwgMzUsIDM2LCAzNywgMzgsIDM5LFxyXG4gIDQwLCA0MSwgNDIsIDQzLCA0NCwgNDUsIDQ2LCA0NywgNDgsIDQ5LCA1MCwgNTFcclxuXVxyXG5cclxuZnVuY3Rpb24gYmFzZTY0RGVjb2RlIChzb3VyY2UsIHRhcmdldCkge1xyXG4gIHZhciBzb3VyY2VMZW5ndGggPSBzb3VyY2UubGVuZ3RoXHJcbiAgdmFyIHBhZGRpbmdMZW5ndGggPSAoc291cmNlW3NvdXJjZUxlbmd0aCAtIDJdID09PSAnPScgPyAyIDogKHNvdXJjZVtzb3VyY2VMZW5ndGggLSAxXSA9PT0gJz0nID8gMVxyXG4gICAgOiAwKSlcclxuXHJcbiAgdmFyIHRtcFxyXG4gIHZhciBieXRlSW5kZXggPSAwXHJcbiAgdmFyIGJhc2VMZW5ndGggPSAoc291cmNlTGVuZ3RoIC0gcGFkZGluZ0xlbmd0aCkgJiAweGZmZmZmZmZjXHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYmFzZUxlbmd0aDsgaSArPSA0KSB7XHJcbiAgICB0bXAgPSAobG9va3VwW3NvdXJjZS5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfFxyXG4gICAgICAobG9va3VwW3NvdXJjZS5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcclxuICAgICAgKGxvb2t1cFtzb3VyY2UuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHxcclxuICAgICAgKGxvb2t1cFtzb3VyY2UuY2hhckNvZGVBdChpICsgMyldKVxyXG5cclxuICAgIHRhcmdldFtieXRlSW5kZXgrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcclxuICAgIHRhcmdldFtieXRlSW5kZXgrK10gPSAodG1wID4+IDgpICYgMHhGRlxyXG4gICAgdGFyZ2V0W2J5dGVJbmRleCsrXSA9ICh0bXApICYgMHhGRlxyXG4gIH1cclxuXHJcbiAgaWYgKHBhZGRpbmdMZW5ndGggPT09IDEpIHtcclxuICAgIHRtcCA9IChsb29rdXBbc291cmNlLmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8XHJcbiAgICAgIChsb29rdXBbc291cmNlLmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XHJcbiAgICAgIChsb29rdXBbc291cmNlLmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxyXG5cclxuICAgIHRhcmdldFtieXRlSW5kZXgrK10gPSAodG1wID4+IDgpICYgMHhGRlxyXG4gICAgdGFyZ2V0W2J5dGVJbmRleCsrXSA9IHRtcCAmIDB4RkZcclxuICB9XHJcblxyXG4gIGlmIChwYWRkaW5nTGVuZ3RoID09PSAyKSB7XHJcbiAgICB0bXAgPSAobG9va3VwW3NvdXJjZS5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8IChsb29rdXBbc291cmNlLmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxyXG5cclxuICAgIHRhcmdldFtieXRlSW5kZXgrK10gPSB0bXAgJiAweEZGXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgZ2V0UmFuZG9tVmFsdWVzIChhcnIpIHtcclxuICAgIGlmICghKFxyXG4gICAgICBhcnIgaW5zdGFuY2VvZiBJbnQ4QXJyYXkgfHxcclxuICAgICAgICBhcnIgaW5zdGFuY2VvZiBVaW50OEFycmF5IHx8XHJcbiAgICAgICAgYXJyIGluc3RhbmNlb2YgSW50MTZBcnJheSB8fFxyXG4gICAgICAgIGFyciBpbnN0YW5jZW9mIFVpbnQxNkFycmF5IHx8XHJcbiAgICAgICAgYXJyIGluc3RhbmNlb2YgSW50MzJBcnJheSB8fFxyXG4gICAgICAgIGFyciBpbnN0YW5jZW9mIFVpbnQzMkFycmF5IHx8XHJcbiAgICAgICAgYXJyIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXlcclxuICAgICkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBhbiBpbnRlZ2VyIGFycmF5JylcclxuICAgIH1cclxuICAgIGlmIChhcnIuYnl0ZUxlbmd0aCA+IDY1NTM2KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG9ubHkgcmVxdWVzdCBhIG1heGltdW0gb2YgNjU1MzYgYnl0ZXMnKVxyXG4gICAgfVxyXG4gICAgdmFyIGNyeXB0byA9IHVuaS5yZXF1aXJlTmF0aXZlUGx1Z2luKCdEQ2xvdWQtQ3J5cHRvJylcclxuICAgIGJhc2U2NERlY29kZShjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGFyci5ieXRlTGVuZ3RoKSwgbmV3IFVpbnQ4QXJyYXkoYXJyLmJ1ZmZlciwgYXJyLmJ5dGVPZmZzZXQsXHJcbiAgICAgIGFyci5ieXRlTGVuZ3RoKSlcclxuICAgIHJldHVybiBhcnJcclxuICB9XHJcbn1cclxuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKEMpIE1pY3Jvc29mdC4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxuXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG52YXIgUmVmbGVjdDtcbihmdW5jdGlvbiAoUmVmbGVjdCkge1xuICAgIC8vIE1ldGFkYXRhIFByb3Bvc2FsXG4gICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS9cbiAgICAoZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICAgICAgdmFyIHJvb3QgPSB0eXBlb2YgZ2xvYmFsID09PSBcIm9iamVjdFwiID8gZ2xvYmFsIDpcbiAgICAgICAgICAgIHR5cGVvZiBzZWxmID09PSBcIm9iamVjdFwiID8gc2VsZiA6XG4gICAgICAgICAgICAgICAgdHlwZW9mIHRoaXMgPT09IFwib2JqZWN0XCIgPyB0aGlzIDpcbiAgICAgICAgICAgICAgICAgICAgRnVuY3Rpb24oXCJyZXR1cm4gdGhpcztcIikoKTtcbiAgICAgICAgdmFyIGV4cG9ydGVyID0gbWFrZUV4cG9ydGVyKFJlZmxlY3QpO1xuICAgICAgICBpZiAodHlwZW9mIHJvb3QuUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgcm9vdC5SZWZsZWN0ID0gUmVmbGVjdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGV4cG9ydGVyID0gbWFrZUV4cG9ydGVyKHJvb3QuUmVmbGVjdCwgZXhwb3J0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZhY3RvcnkoZXhwb3J0ZXIpO1xuICAgICAgICBmdW5jdGlvbiBtYWtlRXhwb3J0ZXIodGFyZ2V0LCBwcmV2aW91cykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXRba2V5XSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgeyBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91cylcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSkoZnVuY3Rpb24gKGV4cG9ydGVyKSB7XG4gICAgICAgIHZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuICAgICAgICAvLyBmZWF0dXJlIHRlc3QgZm9yIFN5bWJvbCBzdXBwb3J0XG4gICAgICAgIHZhciBzdXBwb3J0c1N5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgdmFyIHRvUHJpbWl0aXZlU3ltYm9sID0gc3VwcG9ydHNTeW1ib2wgJiYgdHlwZW9mIFN5bWJvbC50b1ByaW1pdGl2ZSAhPT0gXCJ1bmRlZmluZWRcIiA/IFN5bWJvbC50b1ByaW1pdGl2ZSA6IFwiQEB0b1ByaW1pdGl2ZVwiO1xuICAgICAgICB2YXIgaXRlcmF0b3JTeW1ib2wgPSBzdXBwb3J0c1N5bWJvbCAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yICE9PSBcInVuZGVmaW5lZFwiID8gU3ltYm9sLml0ZXJhdG9yIDogXCJAQGl0ZXJhdG9yXCI7XG4gICAgICAgIHZhciBzdXBwb3J0c0NyZWF0ZSA9IHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSBcImZ1bmN0aW9uXCI7IC8vIGZlYXR1cmUgdGVzdCBmb3IgT2JqZWN0LmNyZWF0ZSBzdXBwb3J0XG4gICAgICAgIHZhciBzdXBwb3J0c1Byb3RvID0geyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheTsgLy8gZmVhdHVyZSB0ZXN0IGZvciBfX3Byb3RvX18gc3VwcG9ydFxuICAgICAgICB2YXIgZG93bkxldmVsID0gIXN1cHBvcnRzQ3JlYXRlICYmICFzdXBwb3J0c1Byb3RvO1xuICAgICAgICB2YXIgSGFzaE1hcCA9IHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBhbiBvYmplY3QgaW4gZGljdGlvbmFyeSBtb2RlIChhLmsuYS4gXCJzbG93XCIgbW9kZSBpbiB2OClcbiAgICAgICAgICAgIGNyZWF0ZTogc3VwcG9ydHNDcmVhdGVcbiAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE1ha2VEaWN0aW9uYXJ5KE9iamVjdC5jcmVhdGUobnVsbCkpOyB9XG4gICAgICAgICAgICAgICAgOiBzdXBwb3J0c1Byb3RvXG4gICAgICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gTWFrZURpY3Rpb25hcnkoeyBfX3Byb3RvX186IG51bGwgfSk7IH1cbiAgICAgICAgICAgICAgICAgICAgOiBmdW5jdGlvbiAoKSB7IHJldHVybiBNYWtlRGljdGlvbmFyeSh7fSk7IH0sXG4gICAgICAgICAgICBoYXM6IGRvd25MZXZlbFxuICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKG1hcCwga2V5KSB7IHJldHVybiBoYXNPd24uY2FsbChtYXAsIGtleSk7IH1cbiAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4ga2V5IGluIG1hcDsgfSxcbiAgICAgICAgICAgIGdldDogZG93bkxldmVsXG4gICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAobWFwLCBrZXkpIHsgcmV0dXJuIGhhc093bi5jYWxsKG1hcCwga2V5KSA/IG1hcFtrZXldIDogdW5kZWZpbmVkOyB9XG4gICAgICAgICAgICAgICAgOiBmdW5jdGlvbiAobWFwLCBrZXkpIHsgcmV0dXJuIG1hcFtrZXldOyB9LFxuICAgICAgICB9O1xuICAgICAgICAvLyBMb2FkIGdsb2JhbCBvciBzaGltIHZlcnNpb25zIG9mIE1hcCwgU2V0LCBhbmQgV2Vha01hcFxuICAgICAgICB2YXIgZnVuY3Rpb25Qcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRnVuY3Rpb24pO1xuICAgICAgICB2YXIgdXNlUG9seWZpbGwgPSB0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiBwcm9jZXNzLmVudiAmJiBwcm9jZXNzLmVudltcIlJFRkxFQ1RfTUVUQURBVEFfVVNFX01BUF9QT0xZRklMTFwiXSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIHZhciBfTWFwID0gIXVzZVBvbHlmaWxsICYmIHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgTWFwLnByb3RvdHlwZS5lbnRyaWVzID09PSBcImZ1bmN0aW9uXCIgPyBNYXAgOiBDcmVhdGVNYXBQb2x5ZmlsbCgpO1xuICAgICAgICB2YXIgX1NldCA9ICF1c2VQb2x5ZmlsbCAmJiB0eXBlb2YgU2V0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFNldC5wcm90b3R5cGUuZW50cmllcyA9PT0gXCJmdW5jdGlvblwiID8gU2V0IDogQ3JlYXRlU2V0UG9seWZpbGwoKTtcbiAgICAgICAgdmFyIF9XZWFrTWFwID0gIXVzZVBvbHlmaWxsICYmIHR5cGVvZiBXZWFrTWFwID09PSBcImZ1bmN0aW9uXCIgPyBXZWFrTWFwIDogQ3JlYXRlV2Vha01hcFBvbHlmaWxsKCk7XG4gICAgICAgIC8vIFtbTWV0YWRhdGFdXSBpbnRlcm5hbCBzbG90XG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5LW9iamVjdC1pbnRlcm5hbC1tZXRob2RzLWFuZC1pbnRlcm5hbC1zbG90c1xuICAgICAgICB2YXIgTWV0YWRhdGEgPSBuZXcgX1dlYWtNYXAoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFwcGxpZXMgYSBzZXQgb2YgZGVjb3JhdG9ycyB0byBhIHByb3BlcnR5IG9mIGEgdGFyZ2V0IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIGRlY29yYXRvcnMgQW4gYXJyYXkgb2YgZGVjb3JhdG9ycy5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSB0byBkZWNvcmF0ZS5cbiAgICAgICAgICogQHBhcmFtIGF0dHJpYnV0ZXMgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBmb3IgdGhlIHRhcmdldCBrZXkuXG4gICAgICAgICAqIEByZW1hcmtzIERlY29yYXRvcnMgYXJlIGFwcGxpZWQgaW4gcmV2ZXJzZSBvcmRlci5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgRXhhbXBsZSA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9yc0FycmF5LCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9yc0FycmF5LCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9yc0FycmF5LCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIixcbiAgICAgICAgICogICAgICAgICBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnNBcnJheSwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIixcbiAgICAgICAgICogICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKSkpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIsXG4gICAgICAgICAqICAgICAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKSkpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQXJyYXkoZGVjb3JhdG9ycykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KGF0dHJpYnV0ZXMpICYmICFJc1VuZGVmaW5lZChhdHRyaWJ1dGVzKSAmJiAhSXNOdWxsKGF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgaWYgKElzTnVsbChhdHRyaWJ1dGVzKSlcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBEZWNvcmF0ZVByb3BlcnR5KGRlY29yYXRvcnMsIHRhcmdldCwgcHJvcGVydHlLZXksIGF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFJc0FycmF5KGRlY29yYXRvcnMpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFJc0NvbnN0cnVjdG9yKHRhcmdldCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gRGVjb3JhdGVDb25zdHJ1Y3RvcihkZWNvcmF0b3JzLCB0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZGVjb3JhdGVcIiwgZGVjb3JhdGUpO1xuICAgICAgICAvLyA0LjEuMiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNyZWZsZWN0Lm1ldGFkYXRhXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGRlZmF1bHQgbWV0YWRhdGEgZGVjb3JhdG9yIGZhY3RvcnkgdGhhdCBjYW4gYmUgdXNlZCBvbiBhIGNsYXNzLCBjbGFzcyBtZW1iZXIsIG9yIHBhcmFtZXRlci5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IFRoZSBrZXkgZm9yIHRoZSBtZXRhZGF0YSBlbnRyeS5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhVmFsdWUgVGhlIHZhbHVlIGZvciB0aGUgbWV0YWRhdGEgZW50cnkuXG4gICAgICAgICAqIEByZXR1cm5zIEEgZGVjb3JhdG9yIGZ1bmN0aW9uLlxuICAgICAgICAgKiBAcmVtYXJrc1xuICAgICAgICAgKiBJZiBgbWV0YWRhdGFLZXlgIGlzIGFscmVhZHkgZGVmaW5lZCBmb3IgdGhlIHRhcmdldCBhbmQgdGFyZ2V0IGtleSwgdGhlXG4gICAgICAgICAqIG1ldGFkYXRhVmFsdWUgZm9yIHRoYXQga2V5IHdpbGwgYmUgb3ZlcndyaXR0ZW4uXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yLCBUeXBlU2NyaXB0IG9ubHkpXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUsIFR5cGVTY3JpcHQgb25seSlcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIEBSZWZsZWN0Lm1ldGFkYXRhKGtleSwgdmFsdWUpXG4gICAgICAgICAqICAgICAgICAgcHJvcGVydHk7XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIEBSZWZsZWN0Lm1ldGFkYXRhKGtleSwgdmFsdWUpXG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBtZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSAmJiAhSXNQcm9wZXJ0eUtleShwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWNvcmF0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJtZXRhZGF0YVwiLCBtZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmUgYSB1bmlxdWUgbWV0YWRhdGEgZW50cnkgb24gdGhlIHRhcmdldC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFWYWx1ZSBBIHZhbHVlIHRoYXQgY29udGFpbnMgYXR0YWNoZWQgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdG8gZGVmaW5lIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gZGVjb3JhdG9yIGZhY3RvcnkgYXMgbWV0YWRhdGEtcHJvZHVjaW5nIGFubm90YXRpb24uXG4gICAgICAgICAqICAgICBmdW5jdGlvbiBNeUFubm90YXRpb24ob3B0aW9ucyk6IERlY29yYXRvciB7XG4gICAgICAgICAqICAgICAgICAgcmV0dXJuICh0YXJnZXQsIGtleT8pID0+IFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCB0YXJnZXQsIGtleSk7XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBkZWZpbmVNZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWZpbmVNZXRhZGF0YVwiLCBkZWZpbmVNZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIGEgdmFsdWUgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSB0YXJnZXQgb2JqZWN0IG9yIGl0cyBwcm90b3R5cGUgY2hhaW4gaGFzIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG1ldGFkYXRhIGtleSB3YXMgZGVmaW5lZCBvbiB0aGUgdGFyZ2V0IG9iamVjdCBvciBpdHMgcHJvdG90eXBlIGNoYWluOyBvdGhlcndpc2UsIGBmYWxzZWAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc01ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBoYXNNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlIYXNNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJoYXNNZXRhZGF0YVwiLCBoYXNNZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIGEgdmFsdWUgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSB0YXJnZXQgb2JqZWN0IGhhcyB0aGUgcHJvdmlkZWQgbWV0YWRhdGEga2V5IGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YUtleSBBIGtleSB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBtZXRhZGF0YSBrZXkgd2FzIGRlZmluZWQgb24gdGhlIHRhcmdldCBvYmplY3Q7IG90aGVyd2lzZSwgYGZhbHNlYC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzT3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGhhc093bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc093bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImhhc093bk1ldGFkYXRhXCIsIGhhc093bk1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIG1ldGFkYXRhIHZhbHVlIGZvciB0aGUgcHJvdmlkZWQgbWV0YWRhdGEga2V5IG9uIHRoZSB0YXJnZXQgb2JqZWN0IG9yIGl0cyBwcm90b3R5cGUgY2hhaW4uXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YUtleSBBIGtleSB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgVGhlIG1ldGFkYXRhIHZhbHVlIGZvciB0aGUgbWV0YWRhdGEga2V5IGlmIGZvdW5kOyBvdGhlcndpc2UsIGB1bmRlZmluZWRgLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0TWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5R2V0TWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZ2V0TWV0YWRhdGFcIiwgZ2V0TWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgb24gdGhlIHRhcmdldCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YUtleSBBIGtleSB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgVGhlIG1ldGFkYXRhIHZhbHVlIGZvciB0aGUgbWV0YWRhdGEga2V5IGlmIGZvdW5kOyBvdGhlcndpc2UsIGB1bmRlZmluZWRgLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0T3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5R2V0T3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZ2V0T3duTWV0YWRhdGFcIiwgZ2V0T3duTWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgbWV0YWRhdGEga2V5cyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0IG9yIGl0cyBwcm90b3R5cGUgY2hhaW4uXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHVuaXF1ZSBtZXRhZGF0YSBrZXlzLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGFLZXlzKEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGFLZXlzKEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldE1ldGFkYXRhS2V5cyh0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeU1ldGFkYXRhS2V5cyh0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImdldE1ldGFkYXRhS2V5c1wiLCBnZXRNZXRhZGF0YUtleXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgdW5pcXVlIG1ldGFkYXRhIGtleXMgZGVmaW5lZCBvbiB0aGUgdGFyZ2V0IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgdW5pcXVlIG1ldGFkYXRhIGtleXMuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0T3duTWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5T3duTWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZ2V0T3duTWV0YWRhdGFLZXlzXCIsIGdldE93bk1ldGFkYXRhS2V5cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxldGVzIHRoZSBtZXRhZGF0YSBlbnRyeSBmcm9tIHRoZSB0YXJnZXQgb2JqZWN0IHdpdGggdGhlIHByb3ZpZGVkIGtleS5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG1ldGFkYXRhIGVudHJ5IHdhcyBmb3VuZCBhbmQgZGVsZXRlZDsgb3RoZXJ3aXNlLCBmYWxzZS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRlbGV0ZU1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAodGFyZ2V0LCBwcm9wZXJ0eUtleSwgLypDcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQobWV0YWRhdGFNYXApKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmICghbWV0YWRhdGFNYXAuZGVsZXRlKG1ldGFkYXRhS2V5KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAobWV0YWRhdGFNYXAuc2l6ZSA+IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0TWV0YWRhdGEgPSBNZXRhZGF0YS5nZXQodGFyZ2V0KTtcbiAgICAgICAgICAgIHRhcmdldE1ldGFkYXRhLmRlbGV0ZShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0TWV0YWRhdGEuc2l6ZSA+IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBNZXRhZGF0YS5kZWxldGUodGFyZ2V0KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZGVsZXRlTWV0YWRhdGFcIiwgZGVsZXRlTWV0YWRhdGEpO1xuICAgICAgICBmdW5jdGlvbiBEZWNvcmF0ZUNvbnN0cnVjdG9yKGRlY29yYXRvcnMsIHRhcmdldCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgZGVjb3JhdGVkID0gZGVjb3JhdG9yKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChkZWNvcmF0ZWQpICYmICFJc051bGwoZGVjb3JhdGVkKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzQ29uc3RydWN0b3IoZGVjb3JhdGVkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gZGVjb3JhdGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gRGVjb3JhdGVQcm9wZXJ0eShkZWNvcmF0b3JzLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0ZWQgPSBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChkZWNvcmF0ZWQpICYmICFJc051bGwoZGVjb3JhdGVkKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KGRlY29yYXRlZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IgPSBkZWNvcmF0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCBDcmVhdGUpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRNZXRhZGF0YSA9IE1ldGFkYXRhLmdldChPKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZCh0YXJnZXRNZXRhZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUNyZWF0ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0YXJnZXRNZXRhZGF0YSA9IG5ldyBfTWFwKCk7XG4gICAgICAgICAgICAgICAgTWV0YWRhdGEuc2V0KE8sIHRhcmdldE1ldGFkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IHRhcmdldE1ldGFkYXRhLmdldChQKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUNyZWF0ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YU1hcCA9IG5ldyBfTWFwKCk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0TWV0YWRhdGEuc2V0KFAsIG1ldGFkYXRhTWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtZXRhZGF0YU1hcDtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuMS4xIE9yZGluYXJ5SGFzTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5aGFzbWV0YWRhdGFcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlIYXNNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCkge1xuICAgICAgICAgICAgdmFyIGhhc093biA9IE9yZGluYXJ5SGFzT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApO1xuICAgICAgICAgICAgaWYgKGhhc093bilcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pO1xuICAgICAgICAgICAgaWYgKCFJc051bGwocGFyZW50KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlIYXNNZXRhZGF0YShNZXRhZGF0YUtleSwgcGFyZW50LCBQKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuMi4xIE9yZGluYXJ5SGFzT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5aGFzb3dubWV0YWRhdGFcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCkge1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIFRvQm9vbGVhbihtZXRhZGF0YU1hcC5oYXMoTWV0YWRhdGFLZXkpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuMy4xIE9yZGluYXJ5R2V0TWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5Z2V0bWV0YWRhdGFcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCkge1xuICAgICAgICAgICAgdmFyIGhhc093biA9IE9yZGluYXJ5SGFzT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApO1xuICAgICAgICAgICAgaWYgKGhhc093bilcbiAgICAgICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gT3JkaW5hcnlHZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmICghSXNOdWxsKHBhcmVudCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5R2V0TWV0YWRhdGEoTWV0YWRhdGFLZXksIHBhcmVudCwgUCk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS40LjEgT3JkaW5hcnlHZXRPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnlnZXRvd25tZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIC8qQ3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhTWFwLmdldChNZXRhZGF0YUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjUuMSBPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBNZXRhZGF0YVZhbHVlLCBPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWRlZmluZW93bm1ldGFkYXRhXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE1ldGFkYXRhVmFsdWUsIE8sIFApIHtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLypDcmVhdGUqLyB0cnVlKTtcbiAgICAgICAgICAgIG1ldGFkYXRhTWFwLnNldChNZXRhZGF0YUtleSwgTWV0YWRhdGFWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjYuMSBPcmRpbmFyeU1ldGFkYXRhS2V5cyhPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeW1ldGFkYXRha2V5c1xuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeU1ldGFkYXRhS2V5cyhPLCBQKSB7XG4gICAgICAgICAgICB2YXIgb3duS2V5cyA9IE9yZGluYXJ5T3duTWV0YWRhdGFLZXlzKE8sIFApO1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTyk7XG4gICAgICAgICAgICBpZiAocGFyZW50ID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBvd25LZXlzO1xuICAgICAgICAgICAgdmFyIHBhcmVudEtleXMgPSBPcmRpbmFyeU1ldGFkYXRhS2V5cyhwYXJlbnQsIFApO1xuICAgICAgICAgICAgaWYgKHBhcmVudEtleXMubGVuZ3RoIDw9IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIG93bktleXM7XG4gICAgICAgICAgICBpZiAob3duS2V5cy5sZW5ndGggPD0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50S2V5cztcbiAgICAgICAgICAgIHZhciBzZXQgPSBuZXcgX1NldCgpO1xuICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgb3duS2V5c18xID0gb3duS2V5czsgX2kgPCBvd25LZXlzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IG93bktleXNfMVtfaV07XG4gICAgICAgICAgICAgICAgdmFyIGhhc0tleSA9IHNldC5oYXMoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0tleSkge1xuICAgICAgICAgICAgICAgICAgICBzZXQuYWRkKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgcGFyZW50S2V5c18xID0gcGFyZW50S2V5czsgX2EgPCBwYXJlbnRLZXlzXzEubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHBhcmVudEtleXNfMVtfYV07XG4gICAgICAgICAgICAgICAgdmFyIGhhc0tleSA9IHNldC5oYXMoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0tleSkge1xuICAgICAgICAgICAgICAgICAgICBzZXQuYWRkKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS43LjEgT3JkaW5hcnlPd25NZXRhZGF0YUtleXMoTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnlvd25tZXRhZGF0YWtleXNcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlPd25NZXRhZGF0YUtleXMoTywgUCkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLypDcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQobWV0YWRhdGFNYXApKVxuICAgICAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICAgICAgdmFyIGtleXNPYmogPSBtZXRhZGF0YU1hcC5rZXlzKCk7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBHZXRJdGVyYXRvcihrZXlzT2JqKTtcbiAgICAgICAgICAgIHZhciBrID0gMDtcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSBJdGVyYXRvclN0ZXAoaXRlcmF0b3IpO1xuICAgICAgICAgICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzLmxlbmd0aCA9IGs7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gSXRlcmF0b3JWYWx1ZShuZXh0KTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzW2tdID0gbmV4dFZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgSXRlcmF0b3JDbG9zZShpdGVyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyA2IEVDTUFTY3JpcHQgRGF0YSBUeXAwZXMgYW5kIFZhbHVlc1xuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1lY21hc2NyaXB0LWRhdGEtdHlwZXMtYW5kLXZhbHVlc1xuICAgICAgICBmdW5jdGlvbiBUeXBlKHgpIHtcbiAgICAgICAgICAgIGlmICh4ID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIE51bGwgKi87XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiB4KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOiByZXR1cm4gMCAvKiBVbmRlZmluZWQgKi87XG4gICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjogcmV0dXJuIDIgLyogQm9vbGVhbiAqLztcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6IHJldHVybiAzIC8qIFN0cmluZyAqLztcbiAgICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6IHJldHVybiA0IC8qIFN5bWJvbCAqLztcbiAgICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHJldHVybiA1IC8qIE51bWJlciAqLztcbiAgICAgICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHJldHVybiB4ID09PSBudWxsID8gMSAvKiBOdWxsICovIDogNiAvKiBPYmplY3QgKi87XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIDYgLyogT2JqZWN0ICovO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDYuMS4xIFRoZSBVbmRlZmluZWQgVHlwZVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzLXVuZGVmaW5lZC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzVW5kZWZpbmVkKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB4ID09PSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjIgVGhlIE51bGwgVHlwZVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzLW51bGwtdHlwZVxuICAgICAgICBmdW5jdGlvbiBJc051bGwoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHggPT09IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjUgVGhlIFN5bWJvbCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtc3ltYm9sLXR5cGVcbiAgICAgICAgZnVuY3Rpb24gSXNTeW1ib2woeCkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDYuMS43IFRoZSBPYmplY3QgVHlwZVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vYmplY3QtdHlwZVxuICAgICAgICBmdW5jdGlvbiBJc09iamVjdCh4KSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHggPT09IFwib2JqZWN0XCIgPyB4ICE9PSBudWxsIDogdHlwZW9mIHggPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEgVHlwZSBDb252ZXJzaW9uXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXR5cGUtY29udmVyc2lvblxuICAgICAgICAvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9wcmltaXRpdmVcbiAgICAgICAgZnVuY3Rpb24gVG9QcmltaXRpdmUoaW5wdXQsIFByZWZlcnJlZFR5cGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoVHlwZShpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDAgLyogVW5kZWZpbmVkICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICAgICAgY2FzZSAxIC8qIE51bGwgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDIgLyogQm9vbGVhbiAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBTdHJpbmcgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDQgLyogU3ltYm9sICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICAgICAgY2FzZSA1IC8qIE51bWJlciAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhpbnQgPSBQcmVmZXJyZWRUeXBlID09PSAzIC8qIFN0cmluZyAqLyA/IFwic3RyaW5nXCIgOiBQcmVmZXJyZWRUeXBlID09PSA1IC8qIE51bWJlciAqLyA/IFwibnVtYmVyXCIgOiBcImRlZmF1bHRcIjtcbiAgICAgICAgICAgIHZhciBleG90aWNUb1ByaW0gPSBHZXRNZXRob2QoaW5wdXQsIHRvUHJpbWl0aXZlU3ltYm9sKTtcbiAgICAgICAgICAgIGlmIChleG90aWNUb1ByaW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBleG90aWNUb1ByaW0uY2FsbChpbnB1dCwgaGludCk7XG4gICAgICAgICAgICAgICAgaWYgKElzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5VG9QcmltaXRpdmUoaW5wdXQsIGhpbnQgPT09IFwiZGVmYXVsdFwiID8gXCJudW1iZXJcIiA6IGhpbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMS4xLjEgT3JkaW5hcnlUb1ByaW1pdGl2ZShPLCBoaW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vcmRpbmFyeXRvcHJpbWl0aXZlXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5VG9QcmltaXRpdmUoTywgaGludCkge1xuICAgICAgICAgICAgaWYgKGhpbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9TdHJpbmdfMSA9IE8udG9TdHJpbmc7XG4gICAgICAgICAgICAgICAgaWYgKElzQ2FsbGFibGUodG9TdHJpbmdfMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRvU3RyaW5nXzEuY2FsbChPKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdChyZXN1bHQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlT2YgPSBPLnZhbHVlT2Y7XG4gICAgICAgICAgICAgICAgaWYgKElzQ2FsbGFibGUodmFsdWVPZikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlT2YuY2FsbChPKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdChyZXN1bHQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVPZiA9IE8udmFsdWVPZjtcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh2YWx1ZU9mKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdmFsdWVPZi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdG9TdHJpbmdfMiA9IE8udG9TdHJpbmc7XG4gICAgICAgICAgICAgICAgaWYgKElzQ2FsbGFibGUodG9TdHJpbmdfMikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRvU3RyaW5nXzIuY2FsbChPKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdChyZXN1bHQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjIgVG9Cb29sZWFuKGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvMjAxNi8jc2VjLXRvYm9vbGVhblxuICAgICAgICBmdW5jdGlvbiBUb0Jvb2xlYW4oYXJndW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAhIWFyZ3VtZW50O1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMS4xMiBUb1N0cmluZyhhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9zdHJpbmdcbiAgICAgICAgZnVuY3Rpb24gVG9TdHJpbmcoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiICsgYXJndW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjE0IFRvUHJvcGVydHlLZXkoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRvcHJvcGVydHlrZXlcbiAgICAgICAgZnVuY3Rpb24gVG9Qcm9wZXJ0eUtleShhcmd1bWVudCkge1xuICAgICAgICAgICAgdmFyIGtleSA9IFRvUHJpbWl0aXZlKGFyZ3VtZW50LCAzIC8qIFN0cmluZyAqLyk7XG4gICAgICAgICAgICBpZiAoSXNTeW1ib2woa2V5KSlcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgcmV0dXJuIFRvU3RyaW5nKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4yIFRlc3RpbmcgYW5kIENvbXBhcmlzb24gT3BlcmF0aW9uc1xuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10ZXN0aW5nLWFuZC1jb21wYXJpc29uLW9wZXJhdGlvbnNcbiAgICAgICAgLy8gNy4yLjIgSXNBcnJheShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXNhcnJheVxuICAgICAgICBmdW5jdGlvbiBJc0FycmF5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheVxuICAgICAgICAgICAgICAgID8gQXJyYXkuaXNBcnJheShhcmd1bWVudClcbiAgICAgICAgICAgICAgICA6IGFyZ3VtZW50IGluc3RhbmNlb2YgT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgID8gYXJndW1lbnQgaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICAgICAgICAgICAgICA6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudCkgPT09IFwiW29iamVjdCBBcnJheV1cIjtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjIuMyBJc0NhbGxhYmxlKGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pc2NhbGxhYmxlXG4gICAgICAgIGZ1bmN0aW9uIElzQ2FsbGFibGUoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IFRoaXMgaXMgYW4gYXBwcm94aW1hdGlvbiBhcyB3ZSBjYW5ub3QgY2hlY2sgZm9yIFtbQ2FsbF1dIGludGVybmFsIG1ldGhvZC5cbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgYXJndW1lbnQgPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjIuNCBJc0NvbnN0cnVjdG9yKGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pc2NvbnN0cnVjdG9yXG4gICAgICAgIGZ1bmN0aW9uIElzQ29uc3RydWN0b3IoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IFRoaXMgaXMgYW4gYXBwcm94aW1hdGlvbiBhcyB3ZSBjYW5ub3QgY2hlY2sgZm9yIFtbQ29uc3RydWN0XV0gaW50ZXJuYWwgbWV0aG9kLlxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhcmd1bWVudCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi43IElzUHJvcGVydHlLZXkoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzcHJvcGVydHlrZXlcbiAgICAgICAgZnVuY3Rpb24gSXNQcm9wZXJ0eUtleShhcmd1bWVudCkge1xuICAgICAgICAgICAgc3dpdGNoIChUeXBlKGFyZ3VtZW50KSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBTdHJpbmcgKi86IHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBTeW1ib2wgKi86IHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyA3LjMgT3BlcmF0aW9ucyBvbiBPYmplY3RzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9wZXJhdGlvbnMtb24tb2JqZWN0c1xuICAgICAgICAvLyA3LjMuOSBHZXRNZXRob2QoViwgUClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtZ2V0bWV0aG9kXG4gICAgICAgIGZ1bmN0aW9uIEdldE1ldGhvZChWLCBQKSB7XG4gICAgICAgICAgICB2YXIgZnVuYyA9IFZbUF07XG4gICAgICAgICAgICBpZiAoZnVuYyA9PT0gdW5kZWZpbmVkIHx8IGZ1bmMgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICghSXNDYWxsYWJsZShmdW5jKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjQgT3BlcmF0aW9ucyBvbiBJdGVyYXRvciBPYmplY3RzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9wZXJhdGlvbnMtb24taXRlcmF0b3Itb2JqZWN0c1xuICAgICAgICBmdW5jdGlvbiBHZXRJdGVyYXRvcihvYmopIHtcbiAgICAgICAgICAgIHZhciBtZXRob2QgPSBHZXRNZXRob2Qob2JqLCBpdGVyYXRvclN5bWJvbCk7XG4gICAgICAgICAgICBpZiAoIUlzQ2FsbGFibGUobWV0aG9kKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7IC8vIGZyb20gQ2FsbFxuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gbWV0aG9kLmNhbGwob2JqKTtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QoaXRlcmF0b3IpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIHJldHVybiBpdGVyYXRvcjtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjQuNCBJdGVyYXRvclZhbHVlKGl0ZXJSZXN1bHQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8yMDE2LyNzZWMtaXRlcmF0b3J2YWx1ZVxuICAgICAgICBmdW5jdGlvbiBJdGVyYXRvclZhbHVlKGl0ZXJSZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVyUmVzdWx0LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNC41IEl0ZXJhdG9yU3RlcChpdGVyYXRvcilcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXRlcmF0b3JzdGVwXG4gICAgICAgIGZ1bmN0aW9uIEl0ZXJhdG9yU3RlcChpdGVyYXRvcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IGZhbHNlIDogcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWl0ZXJhdG9yY2xvc2VcbiAgICAgICAgZnVuY3Rpb24gSXRlcmF0b3JDbG9zZShpdGVyYXRvcikge1xuICAgICAgICAgICAgdmFyIGYgPSBpdGVyYXRvcltcInJldHVyblwiXTtcbiAgICAgICAgICAgIGlmIChmKVxuICAgICAgICAgICAgICAgIGYuY2FsbChpdGVyYXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gOS4xIE9yZGluYXJ5IE9iamVjdCBJbnRlcm5hbCBNZXRob2RzIGFuZCBJbnRlcm5hbCBTbG90c1xuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vcmRpbmFyeS1vYmplY3QtaW50ZXJuYWwtbWV0aG9kcy1hbmQtaW50ZXJuYWwtc2xvdHNcbiAgICAgICAgLy8gOS4xLjEuMSBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5Z2V0cHJvdG90eXBlb2ZcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlHZXRQcm90b3R5cGVPZihPKSB7XG4gICAgICAgICAgICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIE8gIT09IFwiZnVuY3Rpb25cIiB8fCBPID09PSBmdW5jdGlvblByb3RvdHlwZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdG87XG4gICAgICAgICAgICAvLyBUeXBlU2NyaXB0IGRvZXNuJ3Qgc2V0IF9fcHJvdG9fXyBpbiBFUzUsIGFzIGl0J3Mgbm9uLXN0YW5kYXJkLlxuICAgICAgICAgICAgLy8gVHJ5IHRvIGRldGVybWluZSB0aGUgc3VwZXJjbGFzcyBjb25zdHJ1Y3Rvci4gQ29tcGF0aWJsZSBpbXBsZW1lbnRhdGlvbnNcbiAgICAgICAgICAgIC8vIG11c3QgZWl0aGVyIHNldCBfX3Byb3RvX18gb24gYSBzdWJjbGFzcyBjb25zdHJ1Y3RvciB0byB0aGUgc3VwZXJjbGFzcyBjb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIC8vIG9yIGVuc3VyZSBlYWNoIGNsYXNzIGhhcyBhIHZhbGlkIGBjb25zdHJ1Y3RvcmAgcHJvcGVydHkgb24gaXRzIHByb3RvdHlwZSB0aGF0XG4gICAgICAgICAgICAvLyBwb2ludHMgYmFjayB0byB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgICAgICAvLyBJZiB0aGlzIGlzIG5vdCB0aGUgc2FtZSBhcyBGdW5jdGlvbi5bW1Byb3RvdHlwZV1dLCB0aGVuIHRoaXMgaXMgZGVmaW5hdGVseSBpbmhlcml0ZWQuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBjYXNlIHdoZW4gaW4gRVM2IG9yIHdoZW4gdXNpbmcgX19wcm90b19fIGluIGEgY29tcGF0aWJsZSBicm93c2VyLlxuICAgICAgICAgICAgaWYgKHByb3RvICE9PSBmdW5jdGlvblByb3RvdHlwZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdG87XG4gICAgICAgICAgICAvLyBJZiB0aGUgc3VwZXIgcHJvdG90eXBlIGlzIE9iamVjdC5wcm90b3R5cGUsIG51bGwsIG9yIHVuZGVmaW5lZCwgdGhlbiB3ZSBjYW5ub3QgZGV0ZXJtaW5lIHRoZSBoZXJpdGFnZS5cbiAgICAgICAgICAgIHZhciBwcm90b3R5cGUgPSBPLnByb3RvdHlwZTtcbiAgICAgICAgICAgIHZhciBwcm90b3R5cGVQcm90byA9IHByb3RvdHlwZSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG90eXBlKTtcbiAgICAgICAgICAgIGlmIChwcm90b3R5cGVQcm90byA9PSBudWxsIHx8IHByb3RvdHlwZVByb3RvID09PSBPYmplY3QucHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHRoZSBjb25zdHJ1Y3RvciB3YXMgbm90IGEgZnVuY3Rpb24sIHRoZW4gd2UgY2Fubm90IGRldGVybWluZSB0aGUgaGVyaXRhZ2UuXG4gICAgICAgICAgICB2YXIgY29uc3RydWN0b3IgPSBwcm90b3R5cGVQcm90by5jb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc3RydWN0b3IgIT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdG87XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIHNvbWUga2luZCBvZiBzZWxmLXJlZmVyZW5jZSwgdGhlbiB3ZSBjYW5ub3QgZGV0ZXJtaW5lIHRoZSBoZXJpdGFnZS5cbiAgICAgICAgICAgIGlmIChjb25zdHJ1Y3RvciA9PT0gTylcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdG87XG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGEgcHJldHR5IGdvb2QgZ3Vlc3MgYXQgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5haXZlIE1hcCBzaGltXG4gICAgICAgIGZ1bmN0aW9uIENyZWF0ZU1hcFBvbHlmaWxsKCkge1xuICAgICAgICAgICAgdmFyIGNhY2hlU2VudGluZWwgPSB7fTtcbiAgICAgICAgICAgIHZhciBhcnJheVNlbnRpbmVsID0gW107XG4gICAgICAgICAgICB2YXIgTWFwSXRlcmF0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gTWFwSXRlcmF0b3Ioa2V5cywgdmFsdWVzLCBzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBrZXlzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZVtcIkBAaXRlcmF0b3JcIl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLl9rZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX3NlbGVjdG9yKHRoaXMuX2tleXNbaW5kZXhdLCB0aGlzLl92YWx1ZXNbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCArIDEgPj0gdGhpcy5fa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHJlc3VsdCwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXBJdGVyYXRvci5wcm90b3R5cGUudGhyb3cgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2luZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXBJdGVyYXRvci5wcm90b3R5cGUucmV0dXJuID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hcEl0ZXJhdG9yO1xuICAgICAgICAgICAgfSgpKTtcbiAgICAgICAgICAgIHJldHVybiAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gTWFwKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUtleSA9IGNhY2hlU2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlSW5kZXggPSAtMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcC5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fa2V5cy5sZW5ndGg7IH0sXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gdGhpcy5fZmluZChrZXksIC8qaW5zZXJ0Ki8gZmFsc2UpID49IDA7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4ID49IDAgPyB0aGlzLl92YWx1ZXNbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9maW5kKGtleSwgLyppbnNlcnQqLyB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9maW5kKGtleSwgLyppbnNlcnQqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuX2tleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGluZGV4ICsgMTsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXNbaSAtIDFdID0gdGhpcy5fa2V5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXNbaSAtIDFdID0gdGhpcy5fdmFsdWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5sZW5ndGgtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5sZW5ndGgtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IHRoaXMuX2NhY2hlS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVLZXkgPSBjYWNoZVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlSW5kZXggPSAtMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlS2V5ID0gY2FjaGVTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMuX2tleXMsIHRoaXMuX3ZhbHVlcywgZ2V0S2V5KTsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMsIGdldFZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcy5fa2V5cywgdGhpcy5fdmFsdWVzLCBnZXRFbnRyeSk7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZVtcIkBAaXRlcmF0b3JcIl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmVudHJpZXMoKTsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZW50cmllcygpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuX2ZpbmQgPSBmdW5jdGlvbiAoa2V5LCBpbnNlcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlS2V5ICE9PSBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlSW5kZXggPSB0aGlzLl9rZXlzLmluZGV4T2YodGhpcy5fY2FjaGVLZXkgPSBrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jYWNoZUluZGV4IDwgMCAmJiBpbnNlcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlSW5kZXggPSB0aGlzLl9rZXlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVJbmRleDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXA7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0S2V5KGtleSwgXykge1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRWYWx1ZShfLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEVudHJ5KGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2tleSwgdmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG5haXZlIFNldCBzaGltXG4gICAgICAgIGZ1bmN0aW9uIENyZWF0ZVNldFBvbHlmaWxsKCkge1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBTZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcCA9IG5ldyBfTWFwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXQucHJvdG90eXBlLCBcInNpemVcIiwge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX21hcC5zaXplOyB9LFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdGhpcy5fbWFwLmhhcyh2YWx1ZSk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHRoaXMuX21hcC5zZXQodmFsdWUsIHZhbHVlKSwgdGhpczsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdGhpcy5fbWFwLmRlbGV0ZSh2YWx1ZSk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsgdGhpcy5fbWFwLmNsZWFyKCk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLmtleXMoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX21hcC52YWx1ZXMoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9tYXAuZW50cmllcygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGVbXCJAQGl0ZXJhdG9yXCJdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5rZXlzKCk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmtleXMoKTsgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gU2V0O1xuICAgICAgICAgICAgfSgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBuYWl2ZSBXZWFrTWFwIHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlV2Vha01hcFBvbHlmaWxsKCkge1xuICAgICAgICAgICAgdmFyIFVVSURfU0laRSA9IDE2O1xuICAgICAgICAgICAgdmFyIGtleXMgPSBIYXNoTWFwLmNyZWF0ZSgpO1xuICAgICAgICAgICAgdmFyIHJvb3RLZXkgPSBDcmVhdGVVbmlxdWVLZXkoKTtcbiAgICAgICAgICAgIHJldHVybiAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gV2Vha01hcCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5ID0gQ3JlYXRlVW5pcXVlS2V5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFdlYWtNYXAucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gR2V0T3JDcmVhdGVXZWFrTWFwVGFibGUodGFyZ2V0LCAvKmNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlICE9PSB1bmRlZmluZWQgPyBIYXNoTWFwLmhhcyh0YWJsZSwgdGhpcy5fa2V5KSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgV2Vha01hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUgIT09IHVuZGVmaW5lZCA/IEhhc2hNYXAuZ2V0KHRhYmxlLCB0aGlzLl9rZXkpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgV2Vha01hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHRhcmdldCwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gR2V0T3JDcmVhdGVXZWFrTWFwVGFibGUodGFyZ2V0LCAvKmNyZWF0ZSovIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0YWJsZVt0aGlzLl9rZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgV2Vha01hcC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUgIT09IHVuZGVmaW5lZCA/IGRlbGV0ZSB0YWJsZVt0aGlzLl9rZXldIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogbm90IGEgcmVhbCBjbGVhciwganVzdCBtYWtlcyB0aGUgcHJldmlvdXMgZGF0YSB1bnJlYWNoYWJsZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXkgPSBDcmVhdGVVbmlxdWVLZXkoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBXZWFrTWFwO1xuICAgICAgICAgICAgfSgpKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZVVuaXF1ZUtleSgpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5O1xuICAgICAgICAgICAgICAgIGRvXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IFwiQEBXZWFrTWFwQEBcIiArIENyZWF0ZVVVSUQoKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoSGFzaE1hcC5oYXMoa2V5cywga2V5KSk7XG4gICAgICAgICAgICAgICAga2V5c1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gR2V0T3JDcmVhdGVXZWFrTWFwVGFibGUodGFyZ2V0LCBjcmVhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc093bi5jYWxsKHRhcmdldCwgcm9vdEtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjcmVhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCByb290S2V5LCB7IHZhbHVlOiBIYXNoTWFwLmNyZWF0ZSgpIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W3Jvb3RLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gRmlsbFJhbmRvbUJ5dGVzKGJ1ZmZlciwgc2l6ZSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgKytpKVxuICAgICAgICAgICAgICAgICAgICBidWZmZXJbaV0gPSBNYXRoLnJhbmRvbSgpICogMHhmZiB8IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIEdlblJhbmRvbUJ5dGVzKHNpemUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFVpbnQ4QXJyYXkgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNyeXB0byAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHNpemUpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtc0NyeXB0byAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRmlsbFJhbmRvbUJ5dGVzKG5ldyBVaW50OEFycmF5KHNpemUpLCBzaXplKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZpbGxSYW5kb21CeXRlcyhuZXcgQXJyYXkoc2l6ZSksIHNpemUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlVVVJRCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEdlblJhbmRvbUJ5dGVzKFVVSURfU0laRSk7XG4gICAgICAgICAgICAgICAgLy8gbWFyayBhcyByYW5kb20gLSBSRkMgNDEyMiDCpyA0LjRcbiAgICAgICAgICAgICAgICBkYXRhWzZdID0gZGF0YVs2XSAmIDB4NGYgfCAweDQwO1xuICAgICAgICAgICAgICAgIGRhdGFbOF0gPSBkYXRhWzhdICYgMHhiZiB8IDB4ODA7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgVVVJRF9TSVpFOyArK29mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnl0ZSA9IGRhdGFbb2Zmc2V0XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA9PT0gNCB8fCBvZmZzZXQgPT09IDYgfHwgb2Zmc2V0ID09PSA4KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiLVwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnl0ZSA8IDE2KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiMFwiO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gYnl0ZS50b1N0cmluZygxNikudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB1c2VzIGEgaGV1cmlzdGljIHVzZWQgYnkgdjggYW5kIGNoYWtyYSB0byBmb3JjZSBhbiBvYmplY3QgaW50byBkaWN0aW9uYXJ5IG1vZGUuXG4gICAgICAgIGZ1bmN0aW9uIE1ha2VEaWN0aW9uYXJ5KG9iaikge1xuICAgICAgICAgICAgb2JqLl9fID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZGVsZXRlIG9iai5fXztcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pKFJlZmxlY3QgfHwgKFJlZmxlY3QgPSB7fSkpO1xuIiwiaW1wb3J0IFwicmVmbGVjdC1tZXRhZGF0YVwiO1xyXG5cclxubmFtZXNwYWNlIFVuaVR5cGUge1xyXG4gICAgZXhwb3J0IHR5cGUgTmF2aWdhdGVPcHRpb25zID0ge1xyXG4gICAgICAgIHF1ZXJ5OiB7XHJcbiAgICAgICAgICAgIFtrZXk6IHN0cmluZ106IGFueVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGV4cG9ydCB0eXBlIEV2ZW50TmFtZSA9IHN0cmluZ1xyXG4gICAgZXhwb3J0IHR5cGUgRXZlbnRDYWxsQmFjayA9IChyZXN1bHQ6IGFueSkgPT4gdm9pZFxyXG59XHJcbmV4cG9ydCBjb25zdCBST1VURVJfTUVUQURBVEEgPSAncm91dGVyQ29udHJvbGxlcic7XHJcbmV4cG9ydCBjb25zdCBSb3V0ZXIgPSAoaWQ6IHN0cmluZyk6IENsYXNzRGVjb3JhdG9yID0+IHtcclxuICAgIHJldHVybiAodGFyZ2V0OiBhbnkpID0+IHtcclxuICAgICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFJPVVRFUl9NRVRBREFUQSwgaWQsIHRhcmdldCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNvbnN0IFN3aXRjaFRhYiA9IGZ1bmN0aW9uICgpOiBNZXRob2REZWNvcmF0b3Ige1xyXG4gICAgcmV0dXJuICh0YXJnZXQsIHByb3BOYW1lLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcclxuICAgICAgICBjb25zdCBtZXRob2QgPSBkZXNjcmlwdG9yLnZhbHVlO1xyXG4gICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAoLi4ucGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5jYWxsKHRoaXMsIC4uLnBhcmFtcyk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY29uc3QgVW5pID0ge1xyXG4gICAgLi4udW5pLFxyXG4gICAgJG9uKGV2ZW50TmFtZTogVW5pVHlwZS5FdmVudE5hbWUsIGNhbGxiYWNrOiBVbmlUeXBlLkV2ZW50Q2FsbEJhY2spIHtcclxuICAgICAgICByZXR1cm4gdW5pLiRvbihldmVudE5hbWUsIGNhbGxiYWNrKTtcclxuICAgIH0sXHJcbiAgICAkb25jZShldmVudE5hbWU6IFVuaVR5cGUuRXZlbnROYW1lLCBjYWxsYmFjazogVW5pVHlwZS5FdmVudENhbGxCYWNrKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuaS4kb25jZShldmVudE5hbWUsIGNhbGxiYWNrKTtcclxuICAgIH0sXHJcbiAgICAkZW1pdChldmVudE5hbWU6IFVuaVR5cGUuRXZlbnROYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuaS4kZW1pdChldmVudE5hbWUpO1xyXG4gICAgfSxcclxuICAgICRvZmYoZXZlbnROYW1lPzogVW5pVHlwZS5FdmVudE5hbWUgfCBVbmlUeXBlLkV2ZW50TmFtZVtdIHwgdW5kZWZpbmVkLCBjYWxsYmFjaz86IFVuaVR5cGUuRXZlbnRDYWxsQmFjayB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiB1bmkuJG9mZihldmVudE5hbWUsIGNhbGxiYWNrKTtcclxuICAgIH0sXHJcbiAgICBjcmVhdGVJbm5lckF1ZGlvQ29udGV4dCgpIHtcclxuICAgICAgICByZXR1cm4gdW5pLmNyZWF0ZUlubmVyQXVkaW9Db250ZXh0KCk7XHJcbiAgICB9LFxyXG4gICAgLy8gXHTojrflj5bor63oqIBcclxuICAgIGdldExvY2FsZSgpIHtcclxuICAgICAgICByZXR1cm4gdW5pLmdldExvY2FsZSgpO1xyXG4gICAgfSxcclxuICAgIC8vIFx06K6+572u6K+t6KiAXHJcbiAgICBzZXRMb2NhbGUobG9jYWxlOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gdW5pLnNldExvY2FsZShsb2NhbGUpO1xyXG4gICAgfSxcclxuICAgIC8vIOWIh+aNoumAiemhueWNoemhtemdolxyXG4gICAgc3dpdGNoVGFiKHVybDogc3RyaW5nLCBjb21wbGV0ZSA9IChyZXN1bHQ6IGFueSkgPT4ge1xyXG4gICAgfSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoc3VjY2VzcywgZmFpbCkgPT4ge1xyXG4gICAgICAgICAgICB1bmkuc3dpdGNoVGFiKHtcclxuICAgICAgICAgICAgICAgIHVybCxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MsXHJcbiAgICAgICAgICAgICAgICBmYWlsLFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiDph43lrprlkJHlvZPliY3pobVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwg6Lev5b6EXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMg5pu05aSa6YCJ6aG5XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICByZWRpcmVjdFRvKHVybDogc3RyaW5nLCBvcHRpb25zPzogVW5pVHlwZS5OYXZpZ2F0ZU9wdGlvbnMpIHtcclxuICAgICAgICB1cmwgPSB1cmwgKyBPYmplY3Qua2V5cyhvcHRpb25zPy5xdWVyeSA/PyB7fSkucmVkdWNlKChwcmV2LCBrZXkpID0+IGAke3ByZXZ9JiR7a2V5fT0ke29wdGlvbnM/LnF1ZXJ5W2tleV19YCwgXCJcIikucmVwbGFjZSgvXiYvLCBcIj9cIik7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoc3VjY2VzcywgZmFpbCkgPT4ge1xyXG4gICAgICAgICAgICB1bmkucmVkaXJlY3RUbyh7XHJcbiAgICAgICAgICAgICAgICB1cmwsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgZmFpbFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOWvvOiIquWIsOS4i+S4gOmhtVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCDot6/lvoRcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyDmm7TlpJrpgInpoblcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIG5hdmlnYXRlVG8odXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBVbmlUeXBlLk5hdmlnYXRlT3B0aW9ucykge1xyXG4gICAgICAgIHVybCA9IHVybCArIE9iamVjdC5rZXlzKG9wdGlvbnM/LnF1ZXJ5ID8/IHt9KS5yZWR1Y2UoKHByZXYsIGtleSkgPT4gYCR7cHJldn0mJHtrZXl9PSR7b3B0aW9ucz8ucXVlcnlba2V5XX1gLCBcIlwiKS5yZXBsYWNlKC9eJi8sIFwiP1wiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChzdWNjZXNzLCBmYWlsKSA9PiB7XHJcbiAgICAgICAgICAgIHVuaS5uYXZpZ2F0ZVRvKHtcclxuICAgICAgICAgICAgICAgIHVybCxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MsXHJcbiAgICAgICAgICAgICAgICBmYWlsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog6aKE5Yqg6L296aG16Z2iXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIOi3r+W+hFxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGNvbXBsZXRlIOWujOaIkOWQjueahOWbnuiwg1xyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHJlbG9hZFBhZ2UodXJsOiBzdHJpbmcsIGNvbXBsZXRlID0gKCkgPT4ge1xyXG4gICAgfSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoc3VjY2VzcywgZmFpbCkgPT4ge1xyXG4gICAgICAgICAgICB1bmkucHJlbG9hZFBhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgdXJsLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzcyxcclxuICAgICAgICAgICAgICAgIGZhaWwsXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICByZXF1ZXN0KG9wdGlvbnM6IFVuaU5hbWVzcGFjZS5SZXF1ZXN0T3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoc3VjY2VzcywgZmFpbCkgPT4ge1xyXG4gICAgICAgICAgICB1bmkucmVxdWVzdCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IG9wdGlvbnMudXJsLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogb3B0aW9ucy5kYXRhID8/IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogb3B0aW9ucy5kYXRhVHlwZSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogb3B0aW9ucy5tZXRob2QsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgZmFpbFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBzaG93VG9hc3QodGl0bGU6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiB1bmkuc2hvd1RvYXN0KHtcclxuICAgICAgICAgICAgdGl0bGVcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOWkhOeQhuacrOWcsOWtmOWCqO+8iOW8guatpe+8iVxyXG4gICAgICogQHBhcmFtcyB7c3RyaW5nfSBrZXkg6ZSu5ZCNXHJcbiAgICAgKiBAcGFyYW1zIHtzdHJpbmc9fSBkYXRhIOmUruWAvFxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0g5qC55o2u5a6e6ZmF5pON5L2c6L+U5Zue57uT5p6cXHJcbiAgICAgKi9cclxuICAgIHN0b3JhZ2Uoa2V5OiBzdHJpbmcsIGRhdGE/OiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoc3VjY2VzcywgZmFpbCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgdW5pLnJlbW92ZVN0b3JhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgIGZhaWxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHVuaS5zZXRTdG9yYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgIGZhaWxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdW5pLmdldFN0b3JhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgIGZhaWxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiDlpITnkIbmnKzlnLDlrZjlgqjvvIjlkIzmraXvvIlcclxuICAgICAqIEBwYXJhbXMge3N0cmluZ30ga2V5IOmUruWQjVxyXG4gICAgICogQHBhcmFtcyB7c3RyaW5nfSBkYXRhIOmUruWAvFxyXG4gICAgICogQHJldHVybnMg5qC55o2u5a6e6ZmF5pON5L2c6L+U5Zue57uT5p6cXHJcbiAgICAgKi9cclxuICAgIHN0b3JhZ2VTeW5jKGtleTogc3RyaW5nLCBkYXRhPzogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKGRhdGEgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuaS5yZW1vdmVTdG9yYWdlU3luYyhrZXkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5pLnNldFN0b3JhZ2VTeW5jKGtleSwgZGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuaS5nZXRTdG9yYWdlU3luYyhrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIOS4iuS8oOaWh+S7tlxyXG4gICAgICogQHBhcmFtIG9wdGlvbnMge29iamVjdH0g5LiK5Lyg5paH5Lu26YCJ6aG5XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHVwbG9hZEZpbGUob3B0aW9uczogVW5pTmFtZXNwYWNlLlVwbG9hZEZpbGVPcHRpb24pIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHN1Y2Nlc3MsIGZhaWwpID0+IHtcclxuICAgICAgICAgICAgdW5pLnVwbG9hZEZpbGUoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiBvcHRpb25zLnVybCxcclxuICAgICAgICAgICAgICAgIGZpbGVUeXBlOiBvcHRpb25zLmZpbGVUeXBlLFxyXG4gICAgICAgICAgICAgICAgZmlsZXM6IG9wdGlvbnMuZmlsZXMsXHJcbiAgICAgICAgICAgICAgICBmaWxlUGF0aDogb3B0aW9ucy5maWxlUGF0aCxcclxuICAgICAgICAgICAgICAgIGZvcm1EYXRhOiBvcHRpb25zLmZvcm1EYXRhLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogb3B0aW9ucy5uYW1lIHx8IFwiZmlsZVwiLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzcyxcclxuICAgICAgICAgICAgICAgIGZhaWxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiDkuIrkvKDlm77niYdcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwg5LiK5Lyg5Zyw5Z2AXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5PFVwbG9hZEZpbGVPcHRpb25GaWxlcz59IGZpbGVzIOS4iuS8oOeahOaWh+S7tlxyXG4gICAgICovXHJcbiAgICBhc3luYyB1cGxvYWRJbWFnZSh1cmw6IHN0cmluZywgZmlsZXM6IEFycmF5PFVuaU5hbWVzcGFjZS5VcGxvYWRGaWxlT3B0aW9uRmlsZXM+KSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IFVuaS51cGxvYWRGaWxlKHtcclxuICAgICAgICAgICAgdXJsLFxyXG4gICAgICAgICAgICBmaWxlVHlwZTogXCJpbWFnZVwiLFxyXG4gICAgICAgICAgICBmaWxlcyxcclxuICAgICAgICAgICAgbmFtZTogXCJpbWFnZVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVuaTsiLCI8dGVtcGxhdGUgbGFuZz1cInB1Z1wiPlxyXG52aWV3LmNvbnRhaW5lci51LWZsZXgudS1jb2wtdG9wLnUtcm93LWJldHdlZW4oOmNsYXNzPVwicHJvcHMuZGlyZWN0aW9uXCIpXHJcbiAgICBzbG90LmhlYWRlcihuYW1lPVwiaGVhZGVyXCIpXHJcbiAgICBzbG90Lm1haW4obmFtZT1cIm1haW5cIilcclxuICAgIHNsb3QuZm9vdGVyKG5hbWU9XCJmb290ZXJcIilcclxuPC90ZW1wbGF0ZT5cclxuPHN0eWxlIHNjb3BlZCBsYW5nPVwic2Fzc1wiPlxyXG4uY29udGFpbmVyXHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93XHJcbiAgICAmLmNvbFxyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW5cclxuPC9zdHlsZT5cclxuPHNjcmlwdCBsYW5nPVwidHNcIiBzZXR1cD5cclxuICAgIGludGVyZmFjZSBQcm9wcyB7XHJcbiAgICAgICAgZGlyZWN0aW9uPzogc3RyaW5nXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcHJvcHMgPSB3aXRoRGVmYXVsdHMoZGVmaW5lUHJvcHM8UHJvcHM+KCksIHtcclxuICAgICAgICBkaXJlY3Rpb246IFwiXCJcclxuICAgIH0pO1xyXG48L3NjcmlwdD5cclxuXHJcbjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIG5hbWU6IFwiQ29udGFpbmVyXCJcclxufVxyXG48L3NjcmlwdD4iLCI8dGVtcGxhdGUgbGFuZz1cInB1Z1wiPlxyXG5iYXNlLWNvbnRhaW5lci5jb250YWluZXJcclxuXHR0ZW1wbGF0ZSh2LXNsb3Q6aGVhZGVyKVxyXG5cdFx0LmFmZml4XHJcblx0XHRcdC5yb3cubmF2LXdhcnBwZXJcclxuXHRcdFx0XHQubWFpbi10aXRsZSg6c3Bhbj1cIjEyXCIpXHJcblx0XHRcdFx0XHRidXR0b24obGluayxAdGFwPVwidG9nZ2xlUm9vbUZpbHRlclZpZXcodHJ1ZSlcIilcclxuXHRcdFx0XHRcdFx0dGV4dC50ZXh0LmJvbGQge3skdChcImdsb2JhbE5hbWVcIil9fVxyXG5cdFx0XHRcdFx0XHQuaWNvblxyXG5cdFx0XHRcdFx0XHRcdC5pY29uLWFycm93LWRvd25cclxuXHRcdFx0XHQuY29sLmZhc3QtdG9vbCg6c3Bhbj1cIjEyXCIpXHJcblx0XHRcdFx0XHQucm93XHJcblx0XHRcdFx0XHRcdC5jb2woOnNwYW49XCI4XCIpXHJcblx0XHRcdFx0XHRcdFx0YnV0dG9uLmZhc3QtdG9vbC1idG4oQHRhcD1cImhhbmRsZUZhc3RUb29sKDApXCIpXHJcblx0XHRcdFx0XHRcdFx0XHQuaWNvbi1wbHVzXHJcblx0XHQucm9vbS1maWx0ZXJcclxuXHRcdFx0dS1hY3Rpb24tc2hlZXQoOmxpc3Q9XCIkc3RvcmUuc3RhdGUucm9vbS5yb29tVHlwZUxpc3RcIix2LW1vZGVsPVwiZmlsdGVyLmlzU2hvd1Jvb21GaWx0ZXJcIilcclxuXHRcdFx0LmRyYXdlclxyXG5cdFx0XHRcdC50aXRsZSB7eyR0KCdyb29tTGlzdC5yb29tVHlwZScpfX1cclxuXHRcdFx0XHQuZGVmYXVsdFxyXG5cdFx0XHRcdFx0LnJvdy5yb29tLXR5cGUtaXRlbVxyXG5cdFx0XHRcdFx0XHQuY29sKDpzcGFuPSc4Jyx2LWZvcj1cInR5cCBpbiAkc3RvcmUuc3RhdGUucm9vbS5yb29tVHlwZUxpc3RcIilcclxuXHRcdFx0XHRcdFx0XHRidXR0b24oQHRhcD1cInNlbGVjdEZpbHRlVHlwZSh0eXAudmFsdWUpXCIsOmNsYXNzPVwiZmlsdGVyLnRlbXBTZWxlY3RlZFR5cGUgPT09IHR5cC52YWx1ZSA/ICcgYmctYnJhbmQtY29sb3InIDogJyBiZy1kYXJrLWZpbGwnXCIpIHt7dHlwLm5hbWV9fVxyXG5cdFx0XHRcdC5mb290ZXJcclxuXHRcdFx0XHRcdGJ1dHRvbih0eXBlPVwicHJpbWFyeVwiLGNpcmNsZSxAdGFwPVwiY29uZmlybUZpbHRlclwiKSB7eyR0KFwiY29uZmlybVwiKX19XHJcblx0dGVtcGxhdGUodi1zbG90Om1haW4pXHJcblx0XHR2aWV3LmNvbnRlbnRcclxuXHRcdFx0bmF2aWdhdG9yLmxpbmsoQHRhcD1cInNob3dTaWduSW5WaWV3KCd1c2VyJylcIikge3skdChcInNpZ25JblRpcFwiKX19XHJcblx0XHRcdHN3aXBlci5hZC1jb250YWluZXIoY2lyY3VsYXIsYXV0b3BsYXk9XCJ0cnVlXCIsaW5kaWNhdG9yLWRvdHM9XCJ0cnVlXCIsOmluZGljYXRvci1hY3RpdmUtY29sb3I9XCIkc3RvcmUuc3RhdGUubWFpbkNvbG9yXCIpXHJcblx0XHRcdFx0c3dpcGVyLWl0ZW0uYWQtaXRlbSh2LWZvcj1cIihpLCBhZEluZGV4KSBpbiAkc3RvcmUuc3RhdGUuYWQubGlzdFwiLDprZXk9XCJpLmltYWdlXCIsQHRhcD1cImFkRXZlbnQoYWRJbmRleClcIilcclxuXHRcdFx0XHRcdG5hdmlnYXRvci5hZC1saW5rXHJcblx0XHRcdFx0XHRcdGltYWdlLmFkLWltYWdlKDpzcmM9XCJpLmltYWdlXCIsbW9kZT1cIndpZHRoRml4XCIpXHJcblx0XHRcdHZpZXcucm9vbS1saXN0XHJcblx0XHRcdFx0dmlldy5yb29tLWl0ZW0odi1mb3I9XCJyIGluICRzdG9yZS5zdGF0ZS5yb29tLmxpc3RcIixAdGFwPVwic2hvd1Jvb21CeUlkKHIuaWQpXCIpXHJcblx0XHRcdFx0XHR0ZXh0LnJvb20tdGl0bGUge3tyLnRpdGxlfX1cclxuXHRcdFx0LmVtcHR5LnN0YXR1cyh2LXNob3c9XCIkc3RvcmUuc3RhdGUucm9vbS5saXN0Lmxlbmd0aCA9PT0gMCAmJiAkc3RvcmUuZ2V0dGVyc1sncm9vbS9pc0VuZCddXCIpIHt7JHQoXCJyb29tTGlzdC5pc0VtcHR5XCIpfX1cclxuXHR0ZW1wbGF0ZS5mb290ZXIodi1zbG90OmZvb3Rlcix2LXNob3c9XCJmYWxzZVwiKSB7eyR0KFwicGFnZUJvdHRvbVRpcFwiKX19XHJcbjwvdGVtcGxhdGU+XHJcbjxzdHlsZSBsYW5nPVwic2Fzc1wiPlxyXG5cdEB1c2UgXCIuLi8uLi9zdGF0aWMvc3R5bGUvcmVjb3JkXCJcclxuXHJcblx0LmNvbnRhaW5lclxyXG5cdFx0bWF4LXdpZHRoOiAxMDAlXHJcblx0XHQubWFpblxyXG5cdFx0XHRwYWRkaW5nOiAxMHJweFxyXG5cdFx0LmFkLWNvbnRhaW5lclxyXG5cdFx0XHRib3JkZXItcmFkaXVzOiA0MHJweFxyXG5cdFx0XHRvdmVyZmxvdzogaGlkZGVuXHJcblx0XHRcdC5hZC1pdGVtXHJcblx0XHRcdFx0bGluZS1oZWlnaHQ6IDMwMHJweFxyXG5cdFx0XHRcdC5hZC1saW5rLFxyXG5cdFx0XHRcdC5hZC1pbWFnZVxyXG5cdFx0XHRcdFx0ZGlzcGxheTogYmxvY2tcclxuXHRcdFx0XHRcdHdpZHRoOiA3NTBycHhcclxuPC9zdHlsZT5cclxuPHNjcmlwdCBsYW5nPVwidHNcIiBzZXR1cD5cclxuaW1wb3J0IHtyZWYsIHJlYWN0aXZlLCBjb21wdXRlZCwgb25Nb3VudGVkLCBnZXRDdXJyZW50SW5zdGFuY2V9IGZyb20gXCJ2dWVcIjtcclxuaW1wb3J0IHt1c2VTdG9yZX0gZnJvbSBcInZ1ZXhcIjtcclxuLy8gaW1wb3J0IHt1c2VBcHBTdG9yZX0gZnJvbSBcIi4uLy4uL3N0b3JlXCI7XHJcbmltcG9ydCB7dXNlSTE4bn0gZnJvbSBcInZ1ZS1pMThuXCI7XHJcbmltcG9ydCBVbmkgZnJvbSBcIkAvdXRpbHMvdW5pXCI7XHJcblxyXG5jb25zdCBzdG9yZSA9IHVzZVN0b3JlKClcclxuLy8gY29uc3Qgc3RvcmUgPSB1c2VBcHBTdG9yZSgpXHJcbmNvbnN0IHt0fSA9IHVzZUkxOG4oKVxyXG5cclxuZnVuY3Rpb24gc2hvd1NpZ25JblZpZXcodHlwZTogc3RyaW5nID0gXCJ1c2VyXCIpIHtcclxuXHRVbmkubmF2aWdhdGVUbyhcIi9wYWdlcy91c2VyL3NpZ25JblwiLCB7XHJcblx0XHRxdWVyeToge1xyXG5cdFx0XHR0eXBlXHJcblx0XHR9XHJcblx0fSlcclxufVxyXG5cclxuLy8gY29uc3QgbWFpbkNvbG9yID0gcmVmKFwiIzE1MTUxNVwiKVxyXG4vLyBVbmkuc2hvd1RvYXN0KG1haW5Db2xvci52YWx1ZSlcclxuY29uc3QgaW5zID0gZ2V0Q3VycmVudEluc3RhbmNlKClcdC8vXHR1c2UgdG8gZ2V0IGRhdGEgaW4gc2V0dXBcclxuY29uc3QgcGFnZURhdGEgPSByZWFjdGl2ZSh7XHJcblx0aXNMb2FkaW5nOiBmYWxzZVxyXG59KVxyXG5cclxub25Nb3VudGVkKCgpID0+IHtcclxuXHQvLyBpbnM/LmRhdGEuaXNMb2FkaW5nXHJcblx0cGFnZURhdGEuaXNMb2FkaW5nICE9PSB0cnVlICYmIHN0b3JlLnN0YXRlLnJvb20ubGlzdC5sZW5ndGggPT09IDAgJiYgc3RvcmUuZGlzcGF0Y2goXCJyb29tL2dldE5leHRQYWdlXCIpXHJcbn0pXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVTY3JvbGxUb0JvdHRvbSgpIHtcclxuXHRfX2ZfXygnbG9nJywnYXQgcGFnZXMvY2hhdC9yb29tTGlzdC52dWU6ODgnLFwiaGFuZGxlU2Nyb2xsVG9Cb3R0b21cIilcclxufVxyXG5cclxuY29uc3QgZmlsdGVyID0gcmVhY3RpdmUoe1xyXG5cdGlzU2hvd1Jvb21GaWx0ZXI6IGZhbHNlLFxyXG5cdHRlbXBTZWxlY3RlZFR5cGU6IDAsXHJcbn0pXHJcbmNvbnN0IGZhc3RUb29sTGlzdCA9IGNvbXB1dGVkKCgpID0+IFtdKVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlUm9vbUZpbHRlclZpZXcoaXNTaG93PzogYm9vbGVhbikge1xyXG5cdGZpbHRlci5pc1Nob3dSb29tRmlsdGVyID0gaXNTaG93ID8/ICFmaWx0ZXIuaXNTaG93Um9vbUZpbHRlclxyXG59XHJcblxyXG5mdW5jdGlvbiBzZWxlY3RGaWx0ZVR5cGUodHlwZTogbnVtYmVyKSB7XHJcblx0ZmlsdGVyLnRlbXBTZWxlY3RlZFR5cGUgPSB0eXBlXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbmZpcm1GaWx0ZXIoKSB7XHJcblx0dG9nZ2xlUm9vbUZpbHRlclZpZXcoZmFsc2UpXHJcblx0c3RvcmUuY29tbWl0KHtcclxuXHRcdHR5cGU6IFwicm9vbS9yZXNldFJvb21MaXN0XCJcclxuXHR9KVxyXG5cdHN0b3JlLmRpc3BhdGNoKFwicm9vbS9nZXROZXh0UGFnZVwiLCB7XHJcblx0XHR0eXBlOiBmaWx0ZXIudGVtcFNlbGVjdGVkVHlwZVxyXG5cdH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dSb29tQnlJZCgpIHtcclxuXHRzaG93U2lnbkluVmlldygpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkRXZlbnQoYWRJbmRleDogbnVtYmVyKSB7XHJcblx0VW5pLnN3aXRjaFRhYihcIi9wYWdlcy9jaGF0L2NoYXRMaXN0XCIpXHJcbn1cclxuXHJcbmNvbnN0IGFkZFJvb20gPSByZWFjdGl2ZSh7XHJcblx0aWNvbjogXCJQbHVzXCIsXHJcblx0dmFsdWU6IDMsXHJcblx0bGlzdDogW1xyXG5cdFx0e1xyXG5cdFx0XHRpY29uOiBcIkFkZFVzZXJcIlxyXG5cdFx0fVxyXG5cdF1cclxufSlcclxuXHJcbjwvc2NyaXB0PlxyXG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxyXG5cdGltcG9ydCBCYXNlQ29udGFpbmVyIGZyb20gXCJAL2NvbXBvbmVudHMvQ29udGFpbmVyLnZ1ZVwiXHJcblx0ZXhwb3J0IGRlZmF1bHQge1xyXG5cdFx0Y29tcG9uZXRzOiB7XHJcblx0XHRcdFwiYmFzZS1jb250YWluZXJcIjogQmFzZUNvbnRhaW5lclxyXG5cdFx0fVxyXG5cdH1cclxuPC9zY3JpcHQ+IiwiPHRlbXBsYXRlIGxhbmc9XCJwdWdcIj5cclxudmlldy5jb250YWluZXJcclxuICB0ZXh0IOW9k+WJjeeUtemHj+S4ujp7e2JhdHRlcnlDYXBhY2l0eX19JSzor7fms6jmhI/nlLXph4/kvb/nlKjmg4XlhrVcclxuICB0ZXh0KGNsYXNzPVwidGV4dFwiLEB0YXA9XCJhZEV2ZW50XCIpIHt7JHQoXCJnbG9iYWxOYW1lXCIpfX1cclxuPC90ZW1wbGF0ZT5cclxuPHNjcmlwdCBsYW5nPVwidHNcIiBzZXR1cD5cclxuaW1wb3J0IHtnZXRCYXR0ZXJ5Q2FwYWNpdHl9IGZyb20gXCJAL3VuaV9tb2R1bGVzL2xvdGF3YXktZ2V0YmF0dGVyeWluZm9cIlxyXG5pbXBvcnQgeyBvbk1vdW50ZWQsIHJlZiB9IGZyb20gXCJ2dWVcIlxuXHJcbmZ1bmN0aW9uIGFkRXZlbnQoKSB7XHJcbiAgX19mX18oJ2xvZycsJ2F0IHBhZ2VzL2NoYXQvY2hhdExpc3QudnVlOjExJyxcImFkRXZlbnRcIilcclxufVxyXG5cclxuY29uc3QgYmF0dGVyeUNhcGFjaXR5ID0gcmVmKC0xKVxyXG5cclxub25Nb3VudGVkKCgpID0+IHtcclxuXHRiYXR0ZXJ5Q2FwYWNpdHkudmFsdWUgPSBnZXRCYXR0ZXJ5Q2FwYWNpdHkoKS5sZXZlbFxyXG59KVxyXG48L3NjcmlwdD5cclxuIiwiPHRlbXBsYXRlIGxhbmc9XCJwdWdcIj5cclxudmlldy5hdWRpbyg6c3JjPVwicHJvcHMuYXVkaW9cIixAdGFwPVwicGxheVwiKSBTaG93IGEgc291bmQgdGFwZSBiYXIsIHRhcCB0byBwbGF5IHJlY29yZGVkIHNvdW5kO1xyXG48L3RlbXBsYXRlPlxyXG48c2NyaXB0IGxhbmc9XCJ0c1wiIHNldHVwPlxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gICAgYXVkaW86IHN0cmluZ1xyXG4gICAgbGVuZ3RoPzogbnVtYmVyXHJcbn1cclxuXHJcbmNvbnN0IHByb3BzID0gd2l0aERlZmF1bHRzKGRlZmluZVByb3BzPFByb3BzPigpLCB7XHJcbiAgICAgICAgYXVkaW86IFwiXCIsXHJcbiAgICAgICAgbGVuZ3RoOiAwXHJcbiAgICB9KVxyXG4gICAgLCBlbWl0cyA9IGRlZmluZUVtaXRzKFtcInBsYXlcIiwgXCJwYXVzZVwiLCBcInN0b3BcIl0pXHJcbjtcclxuPC9zY3JpcHQ+XHJcbjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbiAgICBpbXBvcnQgVW5pIGZyb20gXCIuLi91dGlscy91bmlcIjtcclxuICAgIFxyXG4gICAgZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgICAgIG5hbWU6IFwiYXVkaW9UYXBlXCIsXHJcbiAgICAgICAgZGF0YSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGF1ZGlvQ29udGV4dDogVW5pLmNyZWF0ZUlubmVyQXVkaW9Db250ZXh0KCksXHJcbiAgICAgICAgICAgICAgICBpc1BsYXlpbmc6IGZhbHNlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgICAgIHBsYXkoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvQ29udGV4dC5zcmMgPSBwcm9wcy5hdWRpbztcclxuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9Db250ZXh0LnBsYXkoKTtcclxuICAgICAgICAgICAgICAgIGVtaXRzKFwicGxheVwiLCBwcm9wcy5hdWRpbyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBhdXNlKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb0NvbnRleHQucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgIGVtaXRzKFwicGF1c2VcIiwgcHJvcHMuYXVkaW8pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdG9wKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb0NvbnRleHQuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgZW1pdHMoXCJzdG9wXCIsIHByb3BzLmF1ZGlvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbjwvc2NyaXB0PiIsIjx0ZW1wbGF0ZSBsYW5nPVwicHVnXCI+XHJcbmVsLWNvbnRhaW5lci5jb250YWluZXJcclxuICAgIGF1ZGlvLXRhcGUoYXVkaW89XCJcIixAcGxheT1cInBsYXlcIixAcGF1c2U9XCJwYXVzZVwiLEBzdG9wPVwic3RvcFwiKSDov5nlsLHmmK9cclxuPC90ZW1wbGF0ZT5cclxuPHNjcmlwdCBsYW5nPVwidHNcIj5cclxuICAgIGltcG9ydCBBdWRpb1RhcGUgZnJvbSBcIkAvY29tcG9uZW50cy9BdWRpb1RhcGUudnVlXCJcclxuXHJcbiAgICBleHBvcnQgZGVmYXVsdCB7XHJcbiAgICAgICAgY29tcG9uZW50czoge1xyXG4gICAgICAgICAgICBBdWRpb1RhcGVcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1ldGhvZHM6IHtcclxuICAgICAgICAgICAgcGxheSgpIHtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBhdXNlKCkge1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3RvcCgpIHtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuPC9zY3JpcHQ+IiwiPHRlbXBsYXRlIGxhbmc9XCJwdWdcIj5cclxudmlld1xyXG5cdHRleHQg6L+Z5piv5o6I5p2D55m75b2V6aG16Z2iXG48L3RlbXBsYXRlPlxuPHN0eWxlPlxuXG48L3N0eWxlPlxuPHNjcmlwdCBsYW5nPVwidHNcIiBzZXR1cD5cblx0XG48L3NjcmlwdD5cclxuPHNjcmlwdD5cclxuZXhwb3J0IGRlZmF1bHQge31cclxuPC9zY3JpcHQ+IiwiPHRlbXBsYXRlPlxyXG5cdDx2aWV3PueUqOaIt+S4reW/gzwvdmlldz5cclxuPC90ZW1wbGF0ZT5cclxuPHNjcmlwdCBsYW5nPVwidHNcIiBzZXR1cD5cclxuaW1wb3J0IHt1c2VJMThufSBmcm9tIFwidnVlLWkxOG5cIjtcclxuXHJcbmNvbnN0IHtsb2NhbGV9ID0gdXNlSTE4bigpLFxyXG4gICAgY2hhbmdlTGFuZ3VhZ2UgPSAobGFuZzogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGxvY2FsZS52YWx1ZSA9IGxhbmc7XHJcbiAgICB9XHJcbjtcclxuPC9zY3JpcHQ+XHJcbjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbmltcG9ydCBVbmkgZnJvbSBcIi4uLy4uL3V0aWxzL3VuaVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIG1ldGhvZHM6IHtcclxuICAgIHVwbG9hZEF2YXRhcihmaWxlczogRmlsZSB8IEZpbGVbXSkge1xyXG4gICAgICBVbmkudXBsb2FkSW1hZ2UoXCJcIiwgZmlsZXMgYXMgRmlsZVtdKS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgX19mX18oJ2xvZycsJ2F0IHBhZ2VzL3VzZXIvdXNlci52dWU6MjAnLHJlcyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG48L3NjcmlwdD4iLCI8dGVtcGxhdGUgbGFuZz1cInB1Z1wiPlxyXG53ZWItdmlldy53ZWItdmlldyg6c3JjPVwicHJvcHMudXJsXCIpXHJcbjwvdGVtcGxhdGU+XHJcbjxzdHlsZSBsYW5nPVwic2Fzc1wiPlxyXG4gICAgLndlYi12aWV3XHJcbiAgICAgICAgLy8gb3ZlcmZsb3c6IGhpZGRlblxyXG48L3N0eWxlPlxyXG48c2NyaXB0IGxhbmc9XCJ0c1wiIHNldHVwPlxyXG5pbXBvcnQge29uTW91bnRlZH0gZnJvbSBcInZ1ZVwiO1xyXG5cclxub25Nb3VudGVkKCgpID0+IHtcclxuXHJcbn0pO1xyXG48L3NjcmlwdD5cclxuPHNjcmlwdCBsYW5nPVwidHNcIj5cclxuaW1wb3J0IHtvbkxvYWR9IGZyb20gXCJ2dWVcIlxyXG4vLyAgaW4gdGhlIHdlYnZpZXcgdXJsIHBhZ2VcclxuLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignVW5pQXBwSlNCcmlkZ2VSZWFkeScsIGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgdW5pLnBvc3RNZXNzYWdlKHtcclxuLy8gICAgICAgICBkYXRhOiB7XHJcbi8vICAgICAgICAgICAgIGFjdGlvbjogJ21lc3NhZ2UnXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vIH0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgZGF0YSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmw6IFwiXCJcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIG9uTG9hZChvcHRpb25zOiBhbnkpIHtcclxuICAgICAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsO1xyXG4gICAgfVxyXG59O1xyXG48L3NjcmlwdD4iLCIvKipcclxuICogQVBQ5YaF6YOo6YCa55So6YWN572uXHJcbiAqIEBkZXNjcmlwdGlvbiDmoLnmja7kuI3lkIzlrqLmiLfov5vooYzphY3nva7jgIHlj6/mm7TmlrBcclxuICogKi9cclxuY29uc3QgaW5pdENvbmZpZyA9IHtcclxuICAgIEVOVklST05NRU5UOiBcInByb1wiLCAgLy8gIOW9k+WJjeS4uuWPkeW4g+eOr+Wig++8jOWwhuS8muS9v+eUqOabtOaWsOajgOa1i+OAgeWQr+eUqOW3suaJk+WMheeahOacrOWcsOmhtemdolxyXG4gICAgLy8gRU5WSVJPTk1FTlQ6ICdkZXYnLCAvLyAg5b2T5YmN5Li65byA5Y+R546v5aKD77yM5bCG5Lya5YGc55So5pu05paw5qOA5rWL77yM5L+d5oyB5q+P5qyh5ZCv5Yqo5Li656ys5LiA5qyh5ZCv5Yqo77yI5byV5a+85Zu+5Lya5oC75piv5pi+56S677yJ44CB5pys5Zyw6aG16Z2i5bCG6YeN5a6a5ZCR5Yiwd2VicGFja+W8gOWPkeacjeWKoeWZqOeahOi3r+W+hOS4ilxyXG4gICAgLy8gREVCVUc6IGZhbHNlLCAgICAvLyAg5byA5YWz6LCD6K+V5qih5byPXHJcbiAgICBERUJVRzogdHJ1ZSwgICAgLy8gIOW8gOWFs+iwg+ivleaooeW8j++8iOS8muWcqOaOp+WItuWPsOi+k+WHuu+8jOacquWujOWWhO+8iVxyXG4gICAgSE9TVF9ERVY6IFwiaHR0cDovLzE5Mi4xNjguNDQuMjI5OjEwMDEwXCIsICAgIC8vICDlvIDlj5Hln5/lkI3vvIzlvZNFTlZJUk9OTUVOVOeahOWAvOS4umRlduaXtuWwhuS9v+eUqOatpOWfn+WQjeS9nOS4uumhtemdouOAgeaOpeWPo+eahOWJjee8gFxyXG4gICAgSE9TVF9QUk86IFwiaHR0cHM6Ly93d3cudXJsLm5ldFwiLCAgIC8vIOWPkeW4g+Wfn+WQje+8jOW9k0VOVklST05NRU5U55qE5YC85Li6cHJv5pe25bCG5L2/55So5q2k5Z+f5ZCN5L2c5Li66aG16Z2i44CB5o6l5Y+j55qE5YmN57yAXHJcbiAgICBNT0NLOiBcIlwiLCAgIC8vIE1PQ0vlnLDlnYDvvIzmqKHmi5/mjqXlj6Pov5Tlm57mlbDmja7ln5/lkI3liY3nvIDvvIzmlL7nqbrnnYDkuI3lkK/nlKjvvIzku4XlnKhFTlZJUk9OTUVOVOeahOWAvOS4umRlduaXtuaJjeacieaViFxyXG4gICAgY2hlY2tBcHBVcGRhdGVEZWxheTogMjQgKiA2MCAqIDYwICogMTAwMCwgICAvLyAg5qOA5p+l5pu05paw6Ze06ZqU5pe26Ze077yM5Y2V5L2N5q+r56eS77yI6buY6K6k5LiA5aSp77yJXHJcbiAgICBCT09UX1NIT1dfVElNRTogMzAwMCAgLy8gIOWQr+WKqOW5v+WRiuWbvuWBnOeVmeaXtumXtFxyXG4gICAgLCBHT09EU19TQUxFU19OVU06IDggICAgLy8gIOeMnOS9oOWWnOasouaooeWdl+aYvuekuueahOWVhuWTgeaVsOmHj1xyXG4gICAgLCBQQUdFX05VTTogMjAgICAgICAgICAvLyAg5YiG6aG15q+P6aG15pWw6YePXHJcbiAgICAsIFJFVFJZX1RJTUU6IDMgICAgLy8gIOmDqOWIhuW/hemcgOeahOWbvueJh+WKoOi9veWksei0peOAgeaOpeWPo+i/lOWbnuWHuumUmeS/oeaBr+aXtueahOmHjeivleasoeaVsFxyXG4gICAgLCBET1VCTEVfQ0xJQ0tfVElNRTogMzAwICAgIC8vICDlj4zlh7vml7bpl7TvvIjmr6vnp5LvvIlcclxuICAgIC8vICDpgInpobnljaHpobXmlbDmja7mm7TmlrBcclxuICAgICwgVklFV19VUERBVEU6IHtcclxuICAgICAgICBNSU5fREVMQVk6IDEwMDAgKiAyLCAgICAvLyAg5pyA55+t5pu05paw6Ze06ZqU5pe26Ze077yI5q+r56eS77yJXHJcbiAgICAgICAgTUFYX0RFTEFZOiAxMDAwICogNSAgICAvLyAg5pyA6ZW/5pu05paw6Ze06ZqU5pe26Ze077yI5q+r56eS77yJXHJcbiAgICB9LFxyXG5cdHZhbGlkaXR5VGltZTogMTAwMCxcdC8vXHTmjqXlj6PmlbDmja7mnInmlYjml7bpl7RcclxuICAgIC8vICDmjqjpgIHmtojmga9cclxuICAgIHB1c2hNc2dDb25maWc6IHtcclxuICAgICAgICBERUZfVElUTEU6IFwi5o6o6YCB5raI5oGvXCIgICAgLy8gIOm7mOiupOagh+mimFxyXG4gICAgICAgICwgREVGX0NPTlRFTlQ6IFwi5oKo5pyJ5LiA5p2h5pyq6K+75raI5oGvXCIgLy8gIOm7mOiupOWGheWuuVxyXG4gICAgfSxcclxuICAgIGxhbmd1YWdlOiBcInpoXCIgIC8vICDor63oqIDnsbvlnotcclxuICAgICwgbWFpbkNvbG9yOiBcIiNhNGI4ZWJcIiAgLy8gIOS4u+minOiJslxyXG5cdCwgc3RhdHVzQmFyQmFja2dyb3VuZDogXCIjZjg0MzRjXCJcdC8vXHTnirbmgIHmoI/og4zmma/popzoibJcclxuICAgICwgZXRoUHJvdmlkZXI6IFwiaHR0cDovL2xvY2FsaG9zdDo3NTQ1XCIgIC8vICDku6XlpKrlnYrnvZHnu5xwcm92aWRlclxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgaW5pdENvbmZpZzsiLCIvKipcclxuICogVGFrZXMgdGhlIHByb3BlcnRpZXMgb24gb2JqZWN0IGZyb20gcGFyYW1ldGVyIHNvdXJjZSBhbmQgYWRkcyB0aGVtIHRvIHRoZSBvYmplY3RcclxuICogcGFyYW1ldGVyIHRhcmdldFxyXG4gKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0ICBPYmplY3QgdG8gaGF2ZSBwcm9wZXJ0aWVzIGNvcGllZCBvbnRvIGZyb20geVxyXG4gKiBAcGFyYW0ge29iamVjdH0gc291cmNlICBPYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIHRvIGJlIGNvcGllZCB0byB4XHJcbiAqL1xyXG5mdW5jdGlvbiBhZGRQcm9wZXJ0aWVzVG9PYmplY3QodGFyZ2V0LCBzb3VyY2UpIHtcclxuICAgIGZvciAobGV0IGsgb2YgT2JqZWN0LmtleXMoc291cmNlIHx8IHt9KSkge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGssIHtcclxuICAgICAgICAgICAgZ2V0OiAoKSA9PiBzb3VyY2Vba11cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIG5hbWVzcGFjZWQgbmFtZSBvZiB0aGUgbW9kdWxlIHRvIGJlIHVzZWQgYXMgYSBzdG9yZSBnZXR0ZXJcclxuICogQHBhcmFtIG1vZHVsZVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TW9kdWxlTmFtZShtb2R1bGUpIHtcclxuICAgIGlmICghbW9kdWxlLl92bWRNb2R1bGVOYW1lKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFUlJfR0VUX01PRFVMRV9OQU1FIDogQ291bGQgbm90IGdldCBtb2R1bGUgYWNjZXNzb3IuXG4gICAgICBNYWtlIHN1cmUgeW91ciBtb2R1bGUgaGFzIG5hbWUsIHdlIGNhbid0IG1ha2UgYWNjZXNzb3JzIGZvciB1bm5hbWVkIG1vZHVsZXNcbiAgICAgIGkuZS4gQE1vZHVsZSh7IG5hbWU6ICdzb21ldGhpbmcnIH0pYCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYHZ1ZXhNb2R1bGVEZWNvcmF0b3JzLyR7bW9kdWxlLl92bWRNb2R1bGVOYW1lfWA7XHJcbn1cblxuY2xhc3MgVnVleE1vZHVsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihtb2R1bGUpIHtcclxuICAgICAgICB0aGlzLmFjdGlvbnMgPSBtb2R1bGUuYWN0aW9ucztcclxuICAgICAgICB0aGlzLm11dGF0aW9ucyA9IG1vZHVsZS5tdXRhdGlvbnM7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG1vZHVsZS5zdGF0ZTtcclxuICAgICAgICB0aGlzLmdldHRlcnMgPSBtb2R1bGUuZ2V0dGVycztcclxuICAgICAgICB0aGlzLm5hbWVzcGFjZWQgPSBtb2R1bGUubmFtZXNwYWNlZDtcclxuICAgICAgICB0aGlzLm1vZHVsZXMgPSBtb2R1bGUubW9kdWxlcztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRNb2R1bGUobW9kdWxlQ2xhc3MsIHN0b3JlKSB7XHJcbiAgICBjb25zdCBtb2R1bGVOYW1lID0gZ2V0TW9kdWxlTmFtZShtb2R1bGVDbGFzcyk7XHJcbiAgICBpZiAoc3RvcmUgJiYgc3RvcmUuZ2V0dGVyc1ttb2R1bGVOYW1lXSkge1xyXG4gICAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzW21vZHVsZU5hbWVdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobW9kdWxlQ2xhc3MuX3N0YXRpY3MpIHtcclxuICAgICAgICByZXR1cm4gbW9kdWxlQ2xhc3MuX3N0YXRpY3M7XHJcbiAgICB9XHJcbiAgICBjb25zdCBnZW5TdGF0aWMgPSBtb2R1bGVDbGFzcy5fZ2VuU3RhdGljO1xyXG4gICAgaWYgKCFnZW5TdGF0aWMpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVSUl9HRVRfTU9EVUxFX05PX1NUQVRJQ1MgOiBDb3VsZCBub3QgZ2V0IG1vZHVsZSBhY2Nlc3Nvci5cbiAgICAgIE1ha2Ugc3VyZSB5b3VyIG1vZHVsZSBoYXMgbmFtZSwgd2UgY2FuJ3QgbWFrZSBhY2Nlc3NvcnMgZm9yIHVubmFtZWQgbW9kdWxlc1xuICAgICAgaS5lLiBATW9kdWxlKHsgbmFtZTogJ3NvbWV0aGluZycgfSlgKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHN0b3JlTW9kdWxlID0gZ2VuU3RhdGljKHN0b3JlKTtcclxuICAgIGlmIChzdG9yZSkge1xyXG4gICAgICAgIHN0b3JlLmdldHRlcnNbbW9kdWxlTmFtZV0gPSBzdG9yZU1vZHVsZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG1vZHVsZUNsYXNzLl9zdGF0aWNzID0gc3RvcmVNb2R1bGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RvcmVNb2R1bGU7XHJcbn1cblxuY29uc3QgcmVzZXJ2ZWRLZXlzID0gWydhY3Rpb25zJywgJ2dldHRlcnMnLCAnbXV0YXRpb25zJywgJ21vZHVsZXMnLCAnc3RhdGUnLCAnbmFtZXNwYWNlZCcsICdjb21taXQnXTtcclxuZnVuY3Rpb24gc3RhdGVGYWN0b3J5KG1vZHVsZSkge1xyXG4gICAgY29uc3Qgc3RhdGUgPSBuZXcgbW9kdWxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcih7fSk7XHJcbiAgICBjb25zdCBzID0ge307XHJcbiAgICBPYmplY3Qua2V5cyhzdGF0ZSkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc2VydmVkS2V5cy5pbmRleE9mKGtleSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGVba2V5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRVJSX1JFU0VSVkVEX1NUQVRFX0tFWV9VU0VEOiBZb3UgY2Fubm90IHVzZSB0aGUgZm9sbG93aW5nXG4gICAgICAgIFsnYWN0aW9ucycsICdnZXR0ZXJzJywgJ211dGF0aW9ucycsICdtb2R1bGVzJywgJ3N0YXRlJywgJ25hbWVzcGFjZWQnLCAnY29tbWl0J11cbiAgICAgICAgYXMgZmllbGRzIGluIHlvdXIgbW9kdWxlLiBUaGVzZSBhcmUgcmVzZXJ2ZWQgYXMgdGhleSBoYXZlIHNwZWNpYWwgcHVycG9zZSBpbiBWdWV4YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RhdGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0YXRlW2tleV0gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHNba2V5XSA9IHN0YXRlW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBzO1xyXG59XG5cbmZ1bmN0aW9uIHN0YXRpY1N0YXRlR2VuZXJhdG9yKG1vZHVsZSwgbW9kT3B0LCBzdGF0aWNzKSB7XHJcbiAgICBjb25zdCBzdGF0ZSA9IG1vZE9wdC5zdGF0ZUZhY3RvcnkgPyBtb2R1bGUuc3RhdGUoKSA6IG1vZHVsZS5zdGF0ZTtcclxuICAgIE9iamVjdC5rZXlzKHN0YXRlKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICBpZiAoc3RhdGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAvLyBJZiBub3QgdW5kZWZpbmVkIG9yIGZ1bmN0aW9uIG1lYW5zIGl0IGlzIGEgc3RhdGUgdmFsdWVcclxuICAgICAgICAgICAgaWYgKFsndW5kZWZpbmVkJywgJ2Z1bmN0aW9uJ10uaW5kZXhPZih0eXBlb2Ygc3RhdGVba2V5XSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3RhdGljcywga2V5LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gbW9kT3B0Lm5hbWUuc3BsaXQoJy8nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBzdGF0aWNzLnN0b3JlLnN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBzZWdtZW50IG9mIHBhdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhW3NlZ21lbnRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBzdGF0aWNHZXR0ZXJHZW5lcmF0b3IobW9kdWxlLCBtb2RPcHQsIHN0YXRpY3MpIHtcclxuICAgIE9iamVjdC5rZXlzKG1vZHVsZS5nZXR0ZXJzKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICBpZiAobW9kdWxlLm5hbWVzcGFjZWQpIHtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0YXRpY3MsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0aWNzLnN0b3JlLmdldHRlcnNbYCR7bW9kT3B0Lm5hbWV9LyR7a2V5fWBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdGF0aWNzLCBrZXksIHtcclxuICAgICAgICAgICAgICAgIGdldCgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGljcy5zdG9yZS5nZXR0ZXJzW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHN0YXRpY011dGF0aW9uR2VuZXJhdG9yKG1vZHVsZSwgbW9kT3B0LCBzdGF0aWNzKSB7XHJcbiAgICBPYmplY3Qua2V5cyhtb2R1bGUubXV0YXRpb25zKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICBpZiAobW9kdWxlLm5hbWVzcGFjZWQpIHtcclxuICAgICAgICAgICAgc3RhdGljc1trZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRpY3Muc3RvcmUuY29tbWl0KGAke21vZE9wdC5uYW1lfS8ke2tleX1gLCAuLi5hcmdzKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHN0YXRpY3Nba2V5XSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0aWNzLnN0b3JlLmNvbW1pdChrZXksIC4uLmFyZ3MpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHN0YXRpY0FjdGlvbkdlbmVyYXRvcnMobW9kdWxlLCBtb2RPcHQsIHN0YXRpY3MpIHtcclxuICAgIE9iamVjdC5rZXlzKG1vZHVsZS5hY3Rpb25zKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICBpZiAobW9kdWxlLm5hbWVzcGFjZWQpIHtcclxuICAgICAgICAgICAgc3RhdGljc1trZXldID0gYXN5bmMgZnVuY3Rpb24gKC4uLmFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0aWNzLnN0b3JlLmRpc3BhdGNoKGAke21vZE9wdC5uYW1lfS8ke2tleX1gLCAuLi5hcmdzKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHN0YXRpY3Nba2V5XSA9IGFzeW5jIGZ1bmN0aW9uICguLi5hcmdzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGljcy5zdG9yZS5kaXNwYXRjaChrZXksIC4uLmFyZ3MpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyRHluYW1pY01vZHVsZShtb2R1bGUsIG1vZE9wdCkge1xyXG4gICAgaWYgKCFtb2RPcHQubmFtZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTmFtZSBvZiBtb2R1bGUgbm90IHByb3ZpZGVkIGluIGRlY29yYXRvciBvcHRpb25zJyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIW1vZE9wdC5zdG9yZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU3RvcmUgbm90IHByb3ZpZGVkIGluIGRlY29yYXRvciBvcHRpb25zIHdoZW4gdXNpbmcgZHluYW1pYyBvcHRpb24nKTtcclxuICAgIH1cclxuICAgIG1vZE9wdC5zdG9yZS5yZWdpc3Rlck1vZHVsZShtb2RPcHQubmFtZSwgLy8gVE9ETzogSGFuZGxlIG5lc3RlZCBtb2R1bGVzIHRvbyBpbiBmdXR1cmVcclxuICAgIG1vZHVsZSwgeyBwcmVzZXJ2ZVN0YXRlOiBtb2RPcHQucHJlc2VydmVTdGF0ZSB8fCBmYWxzZSB9KTtcclxufVxyXG5mdW5jdGlvbiBhZGRHZXR0ZXJzVG9Nb2R1bGUodGFyZ2V0TW9kdWxlLCBzcmNNb2R1bGUpIHtcclxuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNyY01vZHVsZS5wcm90b3R5cGUpLmZvckVhY2goKGZ1bmNOYW1lKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc3JjTW9kdWxlLnByb3RvdHlwZSwgZnVuY05hbWUpO1xyXG4gICAgICAgIGlmIChkZXNjcmlwdG9yLmdldCAmJiB0YXJnZXRNb2R1bGUuZ2V0dGVycykge1xyXG4gICAgICAgICAgICB0YXJnZXRNb2R1bGUuZ2V0dGVyc1tmdW5jTmFtZV0gPSBmdW5jdGlvbiAoc3RhdGUsIGdldHRlcnMsIHJvb3RTdGF0ZSwgcm9vdEdldHRlcnMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRoaXNPYmogPSB7IGNvbnRleHQ6IHsgc3RhdGUsIGdldHRlcnMsIHJvb3RTdGF0ZSwgcm9vdEdldHRlcnMgfSB9O1xyXG4gICAgICAgICAgICAgICAgYWRkUHJvcGVydGllc1RvT2JqZWN0KHRoaXNPYmosIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgIGFkZFByb3BlcnRpZXNUb09iamVjdCh0aGlzT2JqLCBnZXR0ZXJzKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdvdCA9IGRlc2NyaXB0b3IuZ2V0LmNhbGwodGhpc09iaik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ290O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIG1vZHVsZURlY29yYXRvckZhY3RvcnkobW9kdWxlT3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IGNvbnN0cnVjdG9yO1xyXG4gICAgICAgIGNvbnN0IHN0YXRlRmFjdG9yeSQxID0gKCkgPT4gc3RhdGVGYWN0b3J5KG1vZHVsZSk7XHJcbiAgICAgICAgaWYgKCFtb2R1bGUuc3RhdGUpIHtcclxuICAgICAgICAgICAgbW9kdWxlLnN0YXRlID0gbW9kdWxlT3B0aW9ucyAmJiBtb2R1bGVPcHRpb25zLnN0YXRlRmFjdG9yeSA/IHN0YXRlRmFjdG9yeSQxIDogc3RhdGVGYWN0b3J5JDEoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFtb2R1bGUuZ2V0dGVycykge1xyXG4gICAgICAgICAgICBtb2R1bGUuZ2V0dGVycyA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW1vZHVsZS5uYW1lc3BhY2VkKSB7XHJcbiAgICAgICAgICAgIG1vZHVsZS5uYW1lc3BhY2VkID0gbW9kdWxlT3B0aW9ucyAmJiBtb2R1bGVPcHRpb25zLm5hbWVzcGFjZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBwYXJlbnRNb2R1bGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YobW9kdWxlKTtcclxuICAgICAgICB3aGlsZSAocGFyZW50TW9kdWxlLm5hbWUgIT09ICdWdWV4TW9kdWxlJyAmJiBwYXJlbnRNb2R1bGUubmFtZSAhPT0gJycpIHtcclxuICAgICAgICAgICAgYWRkR2V0dGVyc1RvTW9kdWxlKG1vZHVsZSwgcGFyZW50TW9kdWxlKTtcclxuICAgICAgICAgICAgcGFyZW50TW9kdWxlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmVudE1vZHVsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFkZEdldHRlcnNUb01vZHVsZShtb2R1bGUsIG1vZHVsZSk7XHJcbiAgICAgICAgY29uc3QgbW9kT3B0ID0gbW9kdWxlT3B0aW9ucztcclxuICAgICAgICBpZiAobW9kT3B0Lm5hbWUpIHtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnN0cnVjdG9yLCAnX2dlblN0YXRpYycsIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAoc3RvcmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RhdGljcyA9IHsgc3RvcmU6IHN0b3JlIHx8IG1vZE9wdC5zdG9yZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhdGljcy5zdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVSUl9TVE9SRV9OT1RfUFJPVklERUQ6IFRvIHVzZSBnZXRNb2R1bGUoKSwgZWl0aGVyIHRoZSBtb2R1bGVcbiAgICAgICAgICAgIHNob3VsZCBiZSBkZWNvcmF0ZWQgd2l0aCBzdG9yZSBpbiBkZWNvcmF0b3IsIGkuZS4gQE1vZHVsZSh7c3RvcmU6IHN0b3JlfSkgb3JcbiAgICAgICAgICAgIHN0b3JlIHNob3VsZCBiZSBwYXNzZWQgd2hlbiBjYWxsaW5nIGdldE1vZHVsZSgpLCBpLmUuIGdldE1vZHVsZShNeU1vZHVsZSwgdGhpcy4kc3RvcmUpYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vID09PT09PT09PT09ICBGb3Igc3RhdGljcyA9PT09PT09PT09PT09PVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIC0tLS0tLSBzdGF0ZSAtLS0tLS0tXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljU3RhdGVHZW5lcmF0b3IobW9kdWxlLCBtb2RPcHQsIHN0YXRpY3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0gZ2V0dGVycyAtLS0tLS0tXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsZS5nZXR0ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0dldHRlckdlbmVyYXRvcihtb2R1bGUsIG1vZE9wdCwgc3RhdGljcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tIG11dGF0aW9ucyAtLS0tLS0tLVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2R1bGUubXV0YXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY011dGF0aW9uR2VuZXJhdG9yKG1vZHVsZSwgbW9kT3B0LCBzdGF0aWNzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0gYWN0aW9ucyAtLS0tLS0tLS1cclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9kdWxlLmFjdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQWN0aW9uR2VuZXJhdG9ycyhtb2R1bGUsIG1vZE9wdCwgc3RhdGljcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0aWNzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnN0cnVjdG9yLCAnX3ZtZE1vZHVsZU5hbWUnLCB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogbW9kT3B0Lm5hbWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtb2RPcHQuZHluYW1pYykge1xyXG4gICAgICAgICAgICByZWdpc3RlckR5bmFtaWNNb2R1bGUobW9kdWxlLCBtb2RPcHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIE1vZHVsZShtb2RPck9wdCkge1xyXG4gICAgaWYgKHR5cGVvZiBtb2RPck9wdCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogQE1vZHVsZSBkZWNvcmF0b3IgY2FsbGVkIHdpdGhvdXQgb3B0aW9ucyAoZGlyZWN0bHkgb24gdGhlIGNsYXNzIGRlZmluaXRpb24pXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbW9kdWxlRGVjb3JhdG9yRmFjdG9yeSh7fSkobW9kT3JPcHQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBATW9kdWxlKHsuLi59KSBkZWNvcmF0b3IgY2FsbGVkIHdpdGggb3B0aW9uc1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJldHVybiBtb2R1bGVEZWNvcmF0b3JGYWN0b3J5KG1vZE9yT3B0KTtcclxuICAgIH1cclxufVxuXG5jb25zdCBjb25maWcgPSB7fTtcblxuZnVuY3Rpb24gYWN0aW9uRGVjb3JhdG9yRmFjdG9yeShwYXJhbXMpIHtcclxuICAgIGNvbnN0IHsgY29tbWl0ID0gdW5kZWZpbmVkLCByYXdFcnJvciA9ICEhY29uZmlnLnJhd0Vycm9yLCByb290ID0gZmFsc2UgfSA9IHBhcmFtcyB8fCB7fTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcclxuICAgICAgICBjb25zdCBtb2R1bGUgPSB0YXJnZXQuY29uc3RydWN0b3I7XHJcbiAgICAgICAgaWYgKCFtb2R1bGUuaGFzT3duUHJvcGVydHkoJ2FjdGlvbnMnKSkge1xyXG4gICAgICAgICAgICBtb2R1bGUuYWN0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG1vZHVsZS5hY3Rpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYWN0aW9uRnVuY3Rpb24gPSBkZXNjcmlwdG9yLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIChjb250ZXh0LCBwYXlsb2FkKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYWN0aW9uUGF5bG9hZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kdWxlLl9nZW5TdGF0aWMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2R1bGVOYW1lID0gZ2V0TW9kdWxlTmFtZShtb2R1bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZHVsZUFjY2Vzc29yID0gY29udGV4dC5yb290R2V0dGVyc1ttb2R1bGVOYW1lXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNvbnRleHQucm9vdEdldHRlcnNbbW9kdWxlTmFtZV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBnZXRNb2R1bGUobW9kdWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVBY2Nlc3Nvci5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25QYXlsb2FkID0gYXdhaXQgYWN0aW9uRnVuY3Rpb24uY2FsbChtb2R1bGVBY2Nlc3NvciwgcGF5bG9hZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGlzT2JqID0geyBjb250ZXh0IH07XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkUHJvcGVydGllc1RvT2JqZWN0KHRoaXNPYmosIGNvbnRleHQuc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZFByb3BlcnRpZXNUb09iamVjdCh0aGlzT2JqLCBjb250ZXh0LmdldHRlcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblBheWxvYWQgPSBhd2FpdCBhY3Rpb25GdW5jdGlvbi5jYWxsKHRoaXNPYmosIHBheWxvYWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbW1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KGNvbW1pdCwgYWN0aW9uUGF5bG9hZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aW9uUGF5bG9hZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmF3RXJyb3JcclxuICAgICAgICAgICAgICAgICAgICA/IGVcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBFcnJvcignRVJSX0FDVElPTl9BQ0NFU1NfVU5ERUZJTkVEOiBBcmUgeW91IHRyeWluZyB0byBhY2Nlc3MgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0aGlzLnNvbWVNdXRhdGlvbigpIG9yIHRoaXMuc29tZUdldHRlciBpbnNpZGUgYW4gQEFjdGlvbj8gXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdUaGF0IHdvcmtzIG9ubHkgaW4gZHluYW1pYyBtb2R1bGVzLiBcXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ0lmIG5vdCBkeW5hbWljIHVzZSB0aGlzLmNvbnRleHQuY29tbWl0KFwibXV0YXRpb25OYW1lXCIsIHBheWxvYWQpICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnYW5kIHRoaXMuY29udGV4dC5nZXR0ZXJzW1wiZ2V0dGVyTmFtZVwiXScgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvcihgQ291bGQgbm90IHBlcmZvcm0gYWN0aW9uICR7a2V5LnRvU3RyaW5nKCl9YCkuc3RhY2sgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBtb2R1bGUuYWN0aW9uc1trZXldID0gcm9vdCA/IHsgcm9vdCwgaGFuZGxlcjogYWN0aW9uIH0gOiBhY3Rpb247XHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBUaGUgQEFjdGlvbiBkZWNvcmF0b3IgdHVybnMgYW4gYXN5bmMgZnVuY3Rpb24gaW50byBhbiBWdWV4IGFjdGlvblxyXG4gKlxyXG4gKiBAcGFyYW0gdGFyZ2V0T3JQYXJhbXMgdGhlIG1vZHVsZSBjbGFzc1xyXG4gKiBAcGFyYW0ga2V5IG5hbWUgb2YgdGhlIGFjdGlvblxyXG4gKiBAcGFyYW0gZGVzY3JpcHRvciB0aGUgYWN0aW9uIGZ1bmN0aW9uIGRlc2NyaXB0b3JcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5mdW5jdGlvbiBBY3Rpb24odGFyZ2V0T3JQYXJhbXMsIGtleSwgZGVzY3JpcHRvcikge1xyXG4gICAgaWYgKCFrZXkgJiYgIWRlc2NyaXB0b3IpIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGNhc2Ugd2hlbiBgdGFyZ2V0T3JQYXJhbXNgIGlzIHBhcmFtcy5cclxuICAgICAgICAgKiBpLmUuIHdoZW4gdXNlZCBhcyAtXHJcbiAgICAgICAgICogPHByZT5cclxuICAgICAgICAgICAgQEFjdGlvbih7Y29tbWl0OiAnaW5jckNvdW50J30pXHJcbiAgICAgICAgICAgIGFzeW5jIGdldENvdW50RGVsdGEoKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIDVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAqIDwvcHJlPlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJldHVybiBhY3Rpb25EZWNvcmF0b3JGYWN0b3J5KHRhcmdldE9yUGFyYW1zKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogVGhpcyBpcyB0aGUgY2FzZSB3aGVuIEBBY3Rpb24gaXMgY2FsbGVkIG9uIGFjdGlvbiBmdW5jdGlvblxyXG4gICAgICAgICAqIHdpdGhvdXQgYW55IHBhcmFtc1xyXG4gICAgICAgICAqIDxwcmU+XHJcbiAgICAgICAgICogICBAQWN0aW9uXHJcbiAgICAgICAgICogICBhc3luYyBkb1NvbWV0aGluZygpIHtcclxuICAgICAgICAgKiAgICAuLi5cclxuICAgICAgICAgKiAgIH1cclxuICAgICAgICAgKiA8L3ByZT5cclxuICAgICAgICAgKi9cclxuICAgICAgICBhY3Rpb25EZWNvcmF0b3JGYWN0b3J5KCkodGFyZ2V0T3JQYXJhbXMsIGtleSwgZGVzY3JpcHRvcik7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gTXV0YXRpb24odGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcclxuICAgIGNvbnN0IG1vZHVsZSA9IHRhcmdldC5jb25zdHJ1Y3RvcjtcclxuICAgIGlmICghbW9kdWxlLmhhc093blByb3BlcnR5KCdtdXRhdGlvbnMnKSkge1xyXG4gICAgICAgIG1vZHVsZS5tdXRhdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBtb2R1bGUubXV0YXRpb25zKTtcclxuICAgIH1cclxuICAgIGNvbnN0IG11dGF0aW9uRnVuY3Rpb24gPSBkZXNjcmlwdG9yLnZhbHVlO1xyXG4gICAgY29uc3QgbXV0YXRpb24gPSBmdW5jdGlvbiAoc3RhdGUsIHBheWxvYWQpIHtcclxuICAgICAgICBtdXRhdGlvbkZ1bmN0aW9uLmNhbGwoc3RhdGUsIHBheWxvYWQpO1xyXG4gICAgfTtcclxuICAgIG1vZHVsZS5tdXRhdGlvbnNba2V5XSA9IG11dGF0aW9uO1xyXG59XG5cbmZ1bmN0aW9uIG11dGF0aW9uQWN0aW9uRGVjb3JhdG9yRmFjdG9yeShwYXJhbXMpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcclxuICAgICAgICBjb25zdCBtb2R1bGUgPSB0YXJnZXQuY29uc3RydWN0b3I7XHJcbiAgICAgICAgaWYgKCFtb2R1bGUuaGFzT3duUHJvcGVydHkoJ211dGF0aW9ucycpKSB7XHJcbiAgICAgICAgICAgIG1vZHVsZS5tdXRhdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBtb2R1bGUubXV0YXRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFtb2R1bGUuaGFzT3duUHJvcGVydHkoJ2FjdGlvbnMnKSkge1xyXG4gICAgICAgICAgICBtb2R1bGUuYWN0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG1vZHVsZS5hY3Rpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbXV0YWN0RnVuY3Rpb24gPSBkZXNjcmlwdG9yLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIChjb250ZXh0LCBwYXlsb2FkKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aGlzT2JqID0geyBjb250ZXh0IH07XHJcbiAgICAgICAgICAgICAgICBhZGRQcm9wZXJ0aWVzVG9PYmplY3QodGhpc09iaiwgY29udGV4dC5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICBhZGRQcm9wZXJ0aWVzVG9PYmplY3QodGhpc09iaiwgY29udGV4dC5nZXR0ZXJzKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvblBheWxvYWQgPSBhd2FpdCBtdXRhY3RGdW5jdGlvbi5jYWxsKHRoaXNPYmosIHBheWxvYWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvblBheWxvYWQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdChrZXksIGFjdGlvblBheWxvYWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLnJhd0Vycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBwZXJmb3JtIGFjdGlvbiAnICsga2V5LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBtdXRhdGlvbiA9IGZ1bmN0aW9uIChzdGF0ZSwgcGF5bG9hZCkge1xyXG4gICAgICAgICAgICBpZiAoIXBhcmFtcy5tdXRhdGUpIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtcy5tdXRhdGUgPSBPYmplY3Qua2V5cyhwYXlsb2FkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBzdGF0ZUl0ZW0gb2YgcGFyYW1zLm11dGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmhhc093blByb3BlcnR5KHN0YXRlSXRlbSkgJiYgcGF5bG9hZC5oYXNPd25Qcm9wZXJ0eShzdGF0ZUl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVbc3RhdGVJdGVtXSA9IHBheWxvYWRbc3RhdGVJdGVtXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRVJSX01VVEFURV9QQVJBTVNfTk9UX0lOX1BBWUxPQURcbiAgICAgICAgICBJbiBATXV0YXRpb25BY3Rpb24sIG11dGF0ZTogWydhJywgJ2InLCAuLi5dIGFycmF5IGtleXMgbXVzdFxuICAgICAgICAgIG1hdGNoIHdpdGggcmV0dXJuIHR5cGUgPSB7YToge30sIGI6IHt9LCAuLi59IGFuZCBtdXN0XG4gICAgICAgICAgYWxzbyBiZSBpbiBzdGF0ZS5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbW9kdWxlLmFjdGlvbnNba2V5XSA9IHBhcmFtcy5yb290ID8geyByb290OiB0cnVlLCBoYW5kbGVyOiBhY3Rpb24gfSA6IGFjdGlvbjtcclxuICAgICAgICBtb2R1bGUubXV0YXRpb25zW2tleV0gPSBtdXRhdGlvbjtcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIFRoZSBATXV0YXRpb25BY3Rpb24gZGVjb3JhdG9yIHR1cm5zIHRoaXMgaW50byBhbiBhY3Rpb24gdGhhdCBmdXJ0aGVyIGNhbGxzIGEgbXV0YXRpb25cclxuICogQm90aCB0aGUgYWN0aW9uIGFuZCB0aGUgbXV0YXRpb24gYXJlIGdlbmVyYXRlZCBmb3IgeW91XHJcbiAqXHJcbiAqIEBwYXJhbSBwYXJhbXNPclRhcmdldCB0aGUgcGFyYW1zIG9yIHRoZSB0YXJnZXQgY2xhc3NcclxuICogQHBhcmFtIGtleSB0aGUgbmFtZSBvZiB0aGUgZnVuY3Rpb25cclxuICogQHBhcmFtIGRlc2NyaXB0b3IgdGhlIGZ1bmN0aW9uIGJvZHlcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5mdW5jdGlvbiBNdXRhdGlvbkFjdGlvbihwYXJhbXNPclRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XHJcbiAgICBpZiAoIWtleSAmJiAhZGVzY3JpcHRvcikge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogVGhpcyBpcyB0aGUgY2FzZSB3aGVuIGBwYXJhbXNPclRhcmdldGAgaXMgcGFyYW1zLlxyXG4gICAgICAgICAqIGkuZS4gd2hlbiB1c2VkIGFzIC1cclxuICAgICAgICAgKiA8cHJlPlxyXG4gICAgICAgICAgICBATXV0YXRpb25BY3Rpb24oe211dGF0ZTogWydpbmNyQ291bnQnXX0pXHJcbiAgICAgICAgICAgIGFzeW5jIGdldENvdW50RGVsdGEoKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHtpbmNyQ291bnQ6IDV9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgKiA8L3ByZT5cclxuICAgICAgICAgKi9cclxuICAgICAgICByZXR1cm4gbXV0YXRpb25BY3Rpb25EZWNvcmF0b3JGYWN0b3J5KHBhcmFtc09yVGFyZ2V0KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogVGhpcyBpcyB0aGUgY2FzZSB3aGVuIGBwYXJhbXNPclRhcmdldGAgaXMgdGFyZ2V0LlxyXG4gICAgICAgICAqIGkuZS4gd2hlbiB1c2VkIGFzIC1cclxuICAgICAgICAgKiA8cHJlPlxyXG4gICAgICAgICAgICBATXV0YXRpb25BY3Rpb25cclxuICAgICAgICAgICAgYXN5bmMgZ2V0Q291bnREZWx0YSgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4ge2luY3JDb3VudDogNX1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAqIDwvcHJlPlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG11dGF0aW9uQWN0aW9uRGVjb3JhdG9yRmFjdG9yeSh7fSkocGFyYW1zT3JUYXJnZXQsIGtleSwgZGVzY3JpcHRvcik7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgQWN0aW9uLCBNb2R1bGUsIE11dGF0aW9uLCBNdXRhdGlvbkFjdGlvbiwgVnVleE1vZHVsZSwgY29uZmlnLCBnZXRNb2R1bGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIiwiaW1wb3J0IGluaXRDb25maWcgZnJvbSBcIi4uL2NvbmZpZy9pbml0X2NvbmZpZ1wiO1xyXG5cclxuY2xhc3MgTG9nZ2VyIHtcclxuXHJcbiAgICBpc09uOiBib29sZWFuXHJcblxyXG4gICAgY29uc3RydWN0b3IoaXNPbiA9IGluaXRDb25maWcuREVCVUcpIHtcclxuICAgICAgICB0aGlzLmlzT24gPSBpc09uO1xyXG4gICAgfVxyXG5cclxuICAgIG91dHB1dChtZXNzYWdlOiBhbnksIGZvcmNlPzogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiAoZm9yY2UgfHwgdGhpcy5pc09uKSAmJiBjb25zb2xlLmxvZyhtZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBwYXJhbUNoZWNrZXIodGFyZ2V0OiBhbnksIHByb3BOYW1lOiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikge1xyXG4gICAgICAgIGNvbnN0IG1ldGhvZHMgPSBkZXNjcmlwdG9yLnZhbHVlO1xyXG5cclxuICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKGRlc2M6IHN0cmluZywgLi4ucGFyYW1zOiBhbnlbXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWV0aG9kcy5jYWxsKHRoaXMsIGRlc2MgfHwgXCJMb2dnZXJcIiwgLi4ucGFyYW1zKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIEBMb2dnZXIucGFyYW1DaGVja2VyXHJcbiAgICBzdGF0aWMgc2ltcGxlKGRlc2M/OiBzdHJpbmcsIGZvcmNlPzogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoZm9yY2UpO1xyXG5cclxuICAgICAgICAvLyBsb2dnZXIub3V0cHV0KFwi5ZCv55SoIGxvZ2dlci5zaW1wbGUg4oCU4oCUXCIgKyBkZXNjKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcE5hbWU6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZHMgPSBkZXNjcmlwdG9yLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgLy8gbG9nZ2VyLm91dHB1dChcInNldCDigJTigJRcIiArIGRlc2MpO1xyXG4gICAgICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKC4uLnBhcmFtczogYW55W10pIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5vdXRwdXQoXCLosIPnlKgg4oCU4oCUXCIgKyBkZXNjKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWV0aG9kcy5jYWxsKHRoaXMsIC4uLnBhcmFtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIEBMb2dnZXIucGFyYW1DaGVja2VyXHJcbiAgICBzdGF0aWMgZGV0YWlsKGRlc2M/OiBzdHJpbmcsIGZvcmNlPzogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoZm9yY2UpO1xyXG5cclxuICAgICAgICAvLyBsb2dnZXIub3V0cHV0KFwi5ZCv55SoIGxvZ2dlci5kZXRhaWwg4oCU4oCUXCIgKyBkZXNjKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQ6IGFueSwgcHJvcE5hbWU6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZHMgPSBkZXNjcmlwdG9yLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgLy8gbG9nZ2VyLm91dHB1dChcIuWumuS5iSBcIiArIHRhcmdldC5uYW1lICsgXCIuXCIgKyBwcm9wTmFtZSArIFwiIOKAlOKAlFwiICsgZGVzYyk7XHJcbiAgICAgICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAoLi4ucGFyYW1zOiBhbnlbXSkge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLm91dHB1dChcIuiwg+eUqCBcIiArICh0YXJnZXQubmFtZSB8fCB0YXJnZXQuY29uc3RydWN0b3IubmFtZSkgKyBcIi5cIiArIHByb3BOYW1lICsgXCIgd2l0aCBwYXJhbXM6XCIgKyBKU09OLnN0cmluZ2lmeShwYXJhbXMpICsgXCIg4oCU4oCUXCIgKyBkZXNjKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWV0aG9kcy5jYWxsKHRoaXMsIC4uLnBhcmFtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyOyIsImltcG9ydCBVbmkgZnJvbSAnLi4vdXRpbHMvdW5pJztcclxuaW1wb3J0IGluaXRDb25maWcgZnJvbSBcIi4uL2NvbmZpZy9pbml0X2NvbmZpZ1wiO1xyXG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi91dGlscy9sb2dnZXJcIjtcclxuXHJcbmludGVyZmFjZSBJRlByb3ZpZGVyIHtcclxuICAgIHJlcXVlc3Q6ICguLi5wYXJhbXM6IGFueSkgPT4ge31cclxufVxyXG5cclxuaW50ZXJmYWNlIEJhc2VQcm92aWRlck9wdGlvbnMgZXh0ZW5kcyBPYmplY3Qge1xyXG4gICAgSE9TVD86IHN0cmluZ1xyXG4gICAgSE9TVF9BUEk/OiBzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIFN0b3JlVmFsdWUgZXh0ZW5kcyBPYmplY3Qge1xyXG4gICAgdXBkYXRlVGltZTogbnVtYmVyXHJcbiAgICBkYXRhOiBvYmplY3RcclxufVxyXG5cclxuaW50ZXJmYWNlIENvbnZlcnRPYmplY3QgZXh0ZW5kcyBPYmplY3Qge1xyXG4gICAgW3Byb3A6IHN0cmluZ106IGFueVxyXG59XHJcblxyXG5pbnRlcmZhY2UgQ29udmVydEFycmF5IGV4dGVuZHMgQXJyYXk8Q29udmVydEFycmF5IHwgQ29udmVydE9iamVjdD4ge1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQXR0ckFycmF5IGV4dGVuZHMgQXJyYXk8c3RyaW5nIHwgQXR0ckFycmF5PiB7XHJcblxyXG59XHJcblxyXG5pbnRlcmZhY2UgUmVxdWVzdEhlYWRlciBleHRlbmRzIE9iamVjdCB7XHJcbiAgICBhY2Nlc3NUb2tlbj86IHN0cmluZ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUmVzcG9uc2VEYXRhIGV4dGVuZHMgT2JqZWN0IHtcclxuICAgIHN0YXR1cz86IG51bWJlclxyXG59XHJcblxyXG4vLyAg6aKE6K6+6buY6K6k5Y+C5pWwXHJcbmNvbnN0IHVzZURlZmF1bHRQYXJhbSA9ICguLi5kZWZhdWx0UGFyYW1zOiBhbnlbXSkgPT4ge1xyXG4gICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcE5hbWU6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWV0aG9kID0gZGVzY3JpcHRvci52YWx1ZTtcclxuXHJcbiAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uICguLi5yZWFsUGFyYW1zOiBhbnlbXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWV0aG9kLmNhbGwodGhpcywgLi4uKGRlZmF1bHRQYXJhbXMubGVuZ3RoID4gcmVhbFBhcmFtcy5sZW5ndGggPyBkZWZhdWx0UGFyYW1zIDogcmVhbFBhcmFtcykubWFwKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlZiA9IGRlZmF1bHRQYXJhbXNbaW5kZXhdXHJcbiAgICAgICAgICAgICAgICAgICAgLCByZWFsID0gcmVhbFBhcmFtc1tpbmRleF1cclxuICAgICAgICAgICAgICAgIDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGVmPy5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0ICYmIHJlYWw/LmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhkZWYpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhbFtrZXldID0gcmVhbFtrZXldID8/IGRlZltrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZWFsID8/IGRlZjtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICog6YCC6YWN6KOF6aWw5ZmoXHJcbiAqIEBwYXJhbSBhZGFwdGVyIHtmdW5jdGlvbn0g6YCC6YWN5ZmoXHJcbiAqL1xyXG5jb25zdCB1c2VBZGFwdGVyID0gKGFkYXB0ZXI6IChyZXN1bHQyOiBhbnkpID0+IGFueSkgPT4ge1xyXG4gICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcE5hbWU6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWV0aG9kID0gZGVzY3JpcHRvci52YWx1ZTtcclxuXHJcbiAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uICguLi5wYXJhbXM6IGFueVtdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtZXRob2QuY2FsbCh0aGlzLCAuLi5wYXJhbXMpLnRoZW4oYWRhcHRlcik7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIFByb3ZpZGVyKHRhcmdldDogYW55KSB7XHJcbiAgICBjb25zdCBjYWxsYmFjayA9IHRhcmdldC52YWx1ZTtcclxuXHJcbiAgICB0YXJnZXQudmFsdWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOS4muWKoeaOpeWPo+acjeWKoeWwgeijhVxyXG4gKi9cclxuQFByb3ZpZGVyXHJcbmNsYXNzIEJhc2VQcm92aWRlciBpbXBsZW1lbnRzIElGUHJvdmlkZXIge1xyXG5cclxuICAgIEhPU1Q6IHN0cmluZ1xyXG4gICAgSE9TVF9BUEk6IHN0cmluZ1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBCYXNlUHJvdmlkZXJPcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5IT1NUID0gb3B0aW9ucz8uSE9TVCA/PyBcIlwiO1xyXG4gICAgICAgIHRoaXMuSE9TVF9BUEkgPSBvcHRpb25zPy5IT1NUX0FQSSA/PyB0aGlzLkhPU1Q7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnvJPlrZjoo4XppbDlmahcclxuICAgICAqIEBwYXJhbSBzdG9yZU5hbWUge3N0cmluZ30g5a2Y5YKo5ZCN56ew77yI6buY6K6k5L2/55So57G75ZCNK+aWueazleWQje+8iVxyXG4gICAgICogQHBhcmFtIHNhdmVUaW1lIHtudW1iZXJ9IOWtmOWCqOacieaViOacn++8jOavq+enkuS4uuWNleS9jVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgdXNlQ2FjaGUoc3RvcmVOYW1lPzogc3RyaW5nLCBzYXZlVGltZSA9IGluaXRDb25maWcudmFsaWRpdHlUaW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQ6IGFueSwgcHJvcE5hbWU6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IGRlc2NyaXB0b3IudmFsdWU7XHJcblxyXG4gICAgICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKC4uLnBhcmFtczogYW55W10pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWxTdG9yZU5hbWUgPSBzdG9yZU5hbWUgPz8gKHRhcmdldC5uYW1lIHx8IHRhcmdldC5jb25zdHJ1Y3Rvci5uYW1lKSArIFwiLlwiICsgcHJvcE5hbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJhc2VQcm92aWRlci5nZXREYXRhKHJlYWxTdG9yZU5hbWUpLnRoZW4ocmVzID0+IHJlcz8udGltZSAmJiByZXMudGltZSA+ICtuZXcgRGF0ZSgpID8gcmVzLmRhdGEgOiBQcm9taXNlLnJlamVjdChcIuaVsOaNruW3sui/h+acn1wiKSkuY2F0Y2goZXJyID0+IG1ldGhvZC5jYWxsKHRoaXMsIC4uLnBhcmFtcykudGhlbigoZGF0YTogYW55KSA9PiBCYXNlUHJvdmlkZXIuc2F2ZURhdGEocmVhbFN0b3JlTmFtZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IHNhdmVUaW1lID8gK25ldyBEYXRlKCkgKyBzYXZlVGltZSA6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihlID0+IGRhdGEpKSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXREYXRhKHN0b3JlTmFtZTogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuXHJcbiAgICAgICAgcmV0dXJuIFVuaS5zdG9yYWdlKHN0b3JlTmFtZSkudGhlbihzdHJEYXRhID0+IHtcclxuICAgICAgICAgICAgaWYgKHN0ckRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzdG9yZVZhbHVlOiBzdHJpbmcgfCBTdG9yZVZhbHVlID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3JlVmFsdWUgPSBKU09OLnBhcnNlKHN0ckRhdGEpIGFzIFN0b3JlVmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmVWYWx1ZSA/IFByb21pc2UucmVzb2x2ZSgoc3RvcmVWYWx1ZSBhcyBTdG9yZVZhbHVlKS5kYXRhKSA6IFByb21pc2UucmVqZWN0KFwiXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiTm8gZGF0YVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2F2ZURhdGEoc3RvcmVOYW1lOiBzdHJpbmcsIGRhdGE6IFN0b3JlVmFsdWVbXCJkYXRhXCJdKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBVbmkuc3RvcmFnZShzdG9yZU5hbWUsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIChuZXcgTG9nZ2VyKCkpLm91dHB1dChcIuWtmOWCqOaVsOaNruWHuumUmTpcIiArIEpTT04uc3RyaW5naWZ5KGUpKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOi9rOWMlue9keWdgO+8iOe8uuWwkeWfn+WQjeaXtua3u+WKoO+8iVxyXG4gICAgICogQHBhcmFtIHVybCAoU3RyaW5nKSDpnIDopoHovazljJbnmoTlnLDlnYBcclxuICAgICAqIEByZXR1cm4gdXJsIChTdHJpbmcpIOi9rOWMluWQjueahOWcsOWdgFxyXG4gICAgICovXHJcbiAgICBjb252ZXJ0VXJsKHVybDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoL15cXC8vLnRlc3QodXJsKSkge1xyXG4gICAgICAgICAgICB1cmwgPSB0aGlzLkhPU1QgKyB1cmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1cmw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlnKjmlbDmja7pm4bkuK3ovazljJbnvZHlnYBcclxuICAgICAqIEBwYXJhbSBkYXRhIHtPYmplY3R8QXJyYXl9IOaVsOaNrumbhlxyXG4gICAgICogQHBhcmFtIGF0dHJzIHtBcnJheXxTdHJpbmd9IOimgeajgOafpeeahOWxnuaAp+WQjVxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fEFycmF5fSDov5Tlm57nmoTmlbDmja7pm4ZcclxuICAgICAqL1xyXG4gICAgY29udmVydERhdGFVcmwoZGF0YTogQ29udmVydEFycmF5IHwgQ29udmVydE9iamVjdCwgYXR0cnM6IEF0dHJBcnJheSB8IHN0cmluZyA9IFsnc3JjJywgJ3VybCddKTogdHlwZW9mIGRhdGEge1xyXG4gICAgICAgIGlmICghYXR0cnMpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwi5rKh5pyJ6K6+572u6ZyA6KaB6L2s5o2i55qE5a2X5q61XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGF0dHJzID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGF0dHJzID0gW2F0dHJzIGFzIHN0cmluZ107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkgJiYgZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZGF0YSA9IGRhdGEubWFwKGl0ZW0gPT4gdGhpcy5jb252ZXJ0RGF0YVVybChpdGVtLCBhdHRycykpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIChhdHRycyBhcyBBdHRyQXJyYXkpLmZvckVhY2goYXR0ciA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXR0ciBpbnN0YW5jZW9mIEFycmF5ICYmIGF0dHIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RBdHRyID0gYXR0clswXSBhcyBzdHJpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIChkYXRhIGFzIENvbnZlcnRPYmplY3QpW2ZpcnN0QXR0cl0gJiYgKChkYXRhIGFzIENvbnZlcnRPYmplY3QpW2ZpcnN0QXR0cl0gPSB0aGlzLmNvbnZlcnREYXRhVXJsKChkYXRhIGFzIENvbnZlcnRPYmplY3QpW2ZpcnN0QXR0cl0sIGF0dHIuc2xpY2UoMSkpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKGRhdGEgYXMgQ29udmVydE9iamVjdClbYXR0ciBhcyBzdHJpbmddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKGRhdGEgYXMgQ29udmVydE9iamVjdClbYXR0ciBhcyBzdHJpbmddID0gdGhpcy5jb252ZXJ0VXJsKChkYXRhIGFzIENvbnZlcnRPYmplY3QpW2F0dHIgYXMgc3RyaW5nXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpgJrnlKjmjqXlj6PlsIHoo4XliqDlr4bvvIjkuJrliqHvvIzlvILmraXniYjmnKzvvIlcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhcGlOYW1lIOaOpeWPo+WQjeensFxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEg6K+35rGC5Y+C5pWwL+aVsOaNrlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZCDor7fmsYLnsbvlnotcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhVHlwZSDlk43lupTmlbDmja7moLzlvI9cclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYXRoUGFyYW0g6Lev55Sx5Y+C5pWwXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gaGVhZGVyIOivt+axguWktOmDqOS/oeaBr1xyXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0g5piv5ZCm5oiQ5YqfXHJcbiAgICAgKi9cclxuICAgIHJlcXVlc3QoYXBpTmFtZTogc3RyaW5nLCBkYXRhID0ge30sIG1ldGhvZCA9IFwiUE9TVFwiLCBkYXRhVHlwZSA9IFwianNvblwiLCBwYXRoUGFyYW0gPSB7fSwgaGVhZGVyOiBSZXF1ZXN0SGVhZGVyID0ge30pIHtcclxuICAgICAgICByZXR1cm4gVW5pLnJlcXVlc3Qoe1xyXG4gICAgICAgICAgICBoZWFkZXIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kIGFzIGFueSxcclxuICAgICAgICAgICAgdXJsOiB0aGlzLmdldEFwaVVybChhcGlOYW1lKSxcclxuICAgICAgICAgICAgZGF0YVR5cGUsXHJcbiAgICAgICAgICAgIGRhdGFcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOafpeivouaOpeWPo+i3r+W+hFxyXG4gICAgICogQHBhcmFtIGFwaU5hbWUge1N0cmluZ30g5o6l5Y+j5ZCN56ewXHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IOaOpeWPo+i3r+W+hFxyXG4gICAgICovXHJcbiAgICBnZXRBcGlVcmwoYXBpTmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKGFwaU5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIC9eaHR0cFtzXT86XFwvXFwvLy50ZXN0KGFwaU5hbWUpID8gYXBpTmFtZSA6IHRoaXMuSE9TVF9BUEkgKyBhcGlOYW1lO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIChuZXcgTG9nZ2VyKCkpLm91dHB1dChcIuaJvuS4jeWIsOWQjeensOWvueW6lOeahOaOpeWPo+i3r+W+hFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHtCYXNlUHJvdmlkZXIsIEJhc2VQcm92aWRlck9wdGlvbnMsIHVzZURlZmF1bHRQYXJhbSwgdXNlQWRhcHRlcn07IiwiaW1wb3J0IHtCYXNlUHJvdmlkZXIsIEJhc2VQcm92aWRlck9wdGlvbnMsIHVzZURlZmF1bHRQYXJhbSwgdXNlQWRhcHRlcn0gZnJvbSBcIi4vYmFzZVwiO1xyXG5cclxubmFtZXNwYWNlIE5TQ2hhdCB7XHJcblxyXG4gICAgaW50ZXJmYWNlIFJvb21MaXN0UGFyYW1zIGV4dGVuZHMgT2JqZWN0IHtcclxuICAgICAgICBwYWdlTnVtYmVyPzogbnVtYmVyXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFByb3ZpZGVyIGV4dGVuZHMgQmFzZVByb3ZpZGVyIHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocGFyYW1zPzogQmFzZVByb3ZpZGVyT3B0aW9ucykge1xyXG4gICAgICAgICAgICBzdXBlcihwYXJhbXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQHVzZURlZmF1bHRQYXJhbSh7XHJcbiAgICAgICAgICAgIHBhZ2VOdW1iZXI6IDFcclxuICAgICAgICB9KVxyXG4gICAgICAgIGdldFJvb21CeVBhZ2VJbmRleChvcHRpb25zOiBSb29tTGlzdFBhcmFtcykge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgIGxpc3Q6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwidGVzdDFcIlxyXG4gICAgICAgICAgICAgICAgfSx7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwidGVzdDJcIlxyXG4gICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE5TQ2hhdDsiLCJpbXBvcnQge01vZHVsZSwgVnVleE1vZHVsZSwgTXV0YXRpb24sIEFjdGlvbiwgTXV0YXRpb25BY3Rpb259IGZyb20gXCJ2dWV4LW1vZHVsZS1kZWNvcmF0b3JzXCI7XHJcbmltcG9ydCBOU0NoYXQgZnJvbSBcIi4uLy4uL3Byb3ZpZGVyL2NoYXRcIjtcclxuXHJcbmNvbnN0IHByb3ZpZGVyQ2hhdCA9IG5ldyBOU0NoYXQuUHJvdmlkZXIoKTtcclxuXHJcbmludGVyZmFjZSBQZW9wbGUge1xyXG4gICAgYXZhdGFyOiBzdHJpbmdcclxuICAgIHRhZ3M6IHN0cmluZ1tdXHJcbn1cclxuXHJcbmludGVyZmFjZSBSb29tSW5mbyB7XHJcbiAgICBpZDogbnVtYmVyXHJcbiAgICB0aXRsZTogc3RyaW5nXHJcbiAgICBzdGFydFRpbWU6IERhdGVcclxuICAgIG93bmVyOiB7XHJcbiAgICAgICAgbmlja25hbWU6IHN0cmluZ1xyXG4gICAgICAgIGF2YXRhcjogc3RyaW5nXHJcbiAgICAgICAgc2V4OiBudW1iZXJcclxuICAgIH1cclxuICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgYmFja2dyb3VuZDogc3RyaW5nXHJcbiAgICBwZW9wbGU6IFBlb3BsZVtdXHJcbn1cclxuXHJcbnR5cGUgUm9vbXMgPSBSb29tSW5mb1tdXHJcblxyXG5lbnVtIFJvb21UeXBlIHtcclxuICAgIExvb2sgPSAxLFxyXG4gICAgQ2hhdCA9IDIsXHJcbiAgICBMaXN0ZW4gPSAzLFxyXG4gICAgUGxheSA9IDRcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdGF0ZXMge1xyXG4gICAgZmlsdGVyOiB7XHJcbiAgICAgICAgcm9vbVR5cGVFbnVtOiBSb29tVHlwZVxyXG4gICAgfVxyXG4gICAgbGlzdDogUm9vbXNcclxufVxyXG5cclxuQE1vZHVsZSh7XHJcbiAgICBuYW1lc3BhY2VkOiB0cnVlXHJcbn0pXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvb20gZXh0ZW5kcyBWdWV4TW9kdWxlPFN0YXRlcz4ge1xyXG5cclxuICAgIGZpbHRlciA9IHtcclxuICAgICAgICByb29tVHlwZUVudW06IFJvb21UeXBlXHJcbiAgICB9O1xyXG4gICAgbGlzdDogUm9vbXMgPSBbXTtcclxuICAgIHBhZ2VOdW1iZXIgPSAwO1xyXG4gICAgcGFnZVRvdGFsID0gSW5maW5pdHk7XHJcbiAgICBjdXJyZW50SWQgPSAwO1xyXG5cclxuICAgIGdldCBpc0VuZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYWdlTnVtYmVyID09PSB0aGlzLnBhZ2VUb3RhbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcm9vbVR5cGVMaXN0KCkge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMuZmlsdGVyLnJvb21UeXBlRW51bSk7XHJcbiAgICB9XHJcblxyXG4gICAgQE11dGF0aW9uXHJcbiAgICB1cGRhdGVQYWdlTnVtYmVyKGxpc3Q6IFJvb21zKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlTnVtYmVyKys7XHJcbiAgICAgICAgdGhpcy5saXN0LnB1c2goLi4ubGlzdCk7XHJcbiAgICB9XHJcblxyXG4gICAgQE11dGF0aW9uXHJcbiAgICByZXNldFJvb21MaXN0KCkge1xyXG4gICAgICAgIHRoaXMubGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMucGFnZU51bWJlciA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgQEFjdGlvbih7XHJcbiAgICAgICAgY29tbWl0OiBcInVwZGF0ZVBhZ2VOdW1iZXJcIlxyXG4gICAgfSlcclxuICAgIGFzeW5jIGdldE5leHRQYWdlKCkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb3ZpZGVyQ2hhdC5nZXRSb29tQnlQYWdlSW5kZXgoe1xyXG4gICAgICAgICAgICBwYWdlTnVtYmVyOiB0aGlzLnBhZ2VOdW1iZXIgKyAxXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQubGlzdDtcclxuICAgIH1cclxuXHJcbiAgICBATXV0YXRpb25BY3Rpb24oe1xyXG4gICAgICAgIG11dGF0ZTogW1wicGFnZU51bWJlclwiLCBcImxpc3RcIl1cclxuICAgIH0pXHJcbiAgICBhc3luYyBfZ2V0TmV4dFBhZ2UoKSB7XHJcbiAgICAgICAgY29uc3QgcGFnZU51bWJlciA9IHRoaXMucGFnZU51bWJlciArIDEsXHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHByb3ZpZGVyQ2hhdC5nZXRSb29tQnlQYWdlSW5kZXgoe1xyXG4gICAgICAgICAgICAgICAgcGFnZU51bWJlcjogcGFnZU51bWJlclxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcGFnZU51bWJlcixcclxuICAgICAgICAgICAgbGlzdDogcmVzdWx0Lmxpc3RcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQge01vZHVsZSwgVnVleE1vZHVsZX0gZnJvbSBcInZ1ZXgtbW9kdWxlLWRlY29yYXRvcnNcIjtcclxuXHJcbkBNb2R1bGUoe1xyXG4gICAgbmFtZXNwYWNlZDogdHJ1ZVxyXG59KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VyIGV4dGVuZHMgVnVleE1vZHVsZSB7XHJcblxyXG4gICAgaXNTaWduSW4gPSBmYWxzZVxyXG5cclxufTsiLCJpbXBvcnQge2NyZWF0ZVN0b3JlLCBNb2R1bGUsIFN0b3JlLCB1c2VTdG9yZX0gZnJvbSBcInZ1ZXhcIjtcclxuaW1wb3J0IGluaXRDb25maWcgZnJvbSBcIi4uL2NvbmZpZy9pbml0X2NvbmZpZ1wiO1xyXG5pbXBvcnQgcm9vbSwge1N0YXRlcyBhcyBSb29tU3RhdGVzfSBmcm9tIFwiLi9tb2R1bGVzL3Jvb21cIjtcclxuaW1wb3J0IHVzZXIgZnJvbSBcIi4vbW9kdWxlcy91c2VyXCI7XHJcbi8vIOi/meenjeaWueW8j+W+iOWlveeahOWwhm1vZHVsZXPkuK3nmoTmiYDmnInmlofku7blhajpg6jlr7zlh7rvvIzov5nmoLfku6XlkI7kv67mlLltb2R1bGVz5LiN55So5YaN5Zyo5q2k5aSE6L+b6KGM5re75Yqg5a+85Ye6XHJcbi8vIGNvbnN0IG1vZHVsZXNGaWxlczogUmVjb3JkPHN0cmluZywgeyBkZWZhdWx0OiBNb2R1bGU8c3RyaW5nLCBhbnk+IH0+ID0gaW1wb3J0Lm1ldGEuZ2xvYihcIi4vbW9kdWxlcy8qLlt0cyxqc11cIiwge1xyXG4vLyAgICAgZWFnZXI6IHRydWVcclxuLy8gfSk7XHJcbi8vIGxldCBtb2R1bGVzID0gW107XHJcbi8vIE9iamVjdC5rZXlzKG1vZHVsZXNGaWxlcykuZm9yRWFjaChwYXRoID0+IHtcclxuLy8gICAgIG1vZHVsZXNbcGF0aC5yZXBsYWNlKC9eXFwuXFwvbW9kdWxlc1xcLyguKilcXC5cXHcrJC8sICckMScpXSA9IG1vZHVsZXNGaWxlc1twYXRoXT8uZGVmYXVsdDtcclxuLy8gfSk7XHJcblxyXG5pbnRlcmZhY2UgR2xvYmFsU3RhdGVzIHtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB1c2VBcHBTdG9yZSA9ICgpOiBTdG9yZTxSb29tU3RhdGVzPiA9PiB7XHJcbiAgICByZXR1cm4gdXNlU3RvcmUoKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3RvcmUoe1xyXG4gICAgc3RhdGU6IHtcclxuICAgICAgICBtYWluQ29sb3I6IGluaXRDb25maWcubWFpbkNvbG9yLFxyXG4gICAgICAgIGFkOiB7XHJcbiAgICAgICAgICAgIGxpc3Q6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlOiBcIi9zdGF0aWMvaW1hZ2UvYWQtMS5qcGdcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlOiBcIi9zdGF0aWMvaW1hZ2UvYWQtMi5qcGdcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGdldHRlcnM6IHt9LFxyXG4gICAgbXV0YXRpb25zOiB7fSxcclxuICAgIGFjdGlvbnM6IHt9LFxyXG4gICAgbW9kdWxlczoge1xyXG4gICAgICAgIHJvb20sXHJcbiAgICAgICAgdXNlclxyXG4gICAgICAgIC8vIC4uLm1vZHVsZXNcclxuICAgIH1cclxufSk7IiwiaW1wb3J0IGNvbmZpZ0NuIGZyb20gXCIuL3poLUhhbnMuanNvblwiO1xyXG5pbXBvcnQgY29uZmlnRW4gZnJvbSBcIi4vZW4uanNvblwiO1xyXG4vLyBpbXBvcnQgZWxlbWVudFpoQ04gZnJvbSBcImVsZW1lbnQtcGx1cy9lcy9sb2NhbGUvbGFuZy96aC1jblwiO1xyXG4vLyBpbXBvcnQgZWxlbWVudEVuIGZyb20gXCJlbGVtZW50LXBsdXMvZXMvbG9jYWxlL2xhbmcvZW5cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIFwiemgtSGFuc1wiOiB7XHJcbiAgICAgICAgLy8gLi4uZWxlbWVudFpoQ04sXHJcbiAgICAgICAgLi4uY29uZmlnQ25cclxuICAgIH0sXHJcbiAgICBcImVuXCI6IHtcclxuICAgICAgICAvLyAuLi5lbGVtZW50RW4sXHJcbiAgICAgICAgLi4uY29uZmlnRW5cclxuICAgIH1cclxufTsiLCJleHBvcnQgZGVmYXVsdCB7XHJcblx0ZGF0YSgpIHtcclxuXHRcdHJldHVybiB7fVxyXG5cdH0sXHJcblx0b25Mb2FkKCkge1xyXG5cdFx0Ly8gZ2V0UmVjdOaMgui9veWIsCR15LiK77yM5Zug5Li66L+Z5pa55rOV6ZyA6KaB5L2/55SoaW4odGhpcynvvIzmiYDku6Xml6Dms5XmiorlroPni6znq4vmiJDkuIDkuKrljZXni6znmoTmlofku7blr7zlh7pcclxuXHRcdHRoaXMuJHUuZ2V0UmVjdCA9IHRoaXMuJHVHZXRSZWN0XHJcblx0fSxcclxuXHRtZXRob2RzOiB7XHJcblx0XHQvLyDmn6Xor6LoioLngrnkv6Hmga9cclxuXHRcdC8vIOebruWJjeatpOaWueazleWcqOaUr+S7mOWuneWwj+eoi+W6j+S4reaXoOazleiOt+WPlue7hOS7tui3n+aOpeeCueeahOWwuuWvuO+8jOS4uuaUr+S7mOWuneeahGJ1ZygyMDIwLTA3LTIxKVxyXG5cdFx0Ly8g6Kej5Yaz5Yqe5rOV5Li65Zyo57uE5Lu25qC56YOo5YaN5aWX5LiA5Liq5rKh5pyJ5Lu75L2V5L2c55So55qEdmlld+WFg+e0oFxyXG5cdFx0JHVHZXRSZWN0KHNlbGVjdG9yLCBhbGwpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG5cdFx0XHRcdHVuaS5jcmVhdGVTZWxlY3RvclF1ZXJ5KCkuXHJcblx0XHRcdFx0aW4odGhpcylbYWxsID8gJ3NlbGVjdEFsbCcgOiAnc2VsZWN0J10oc2VsZWN0b3IpXHJcblx0XHRcdFx0XHQuYm91bmRpbmdDbGllbnRSZWN0KHJlY3QgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoYWxsICYmIEFycmF5LmlzQXJyYXkocmVjdCkgJiYgcmVjdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKHJlY3QpXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKCFhbGwgJiYgcmVjdCkge1xyXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUocmVjdClcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdC5leGVjKClcclxuXHRcdFx0fSlcclxuXHRcdH0sXHJcblx0XHRnZXRQYXJlbnREYXRhKHBhcmVudE5hbWUgPSAnJykge1xyXG5cdFx0XHQvLyDpgb/lhY3lnKhjcmVhdGVk5Lit5Y675a6a5LmJcGFyZW505Y+Y6YePXHJcblx0XHRcdGlmKCF0aGlzLnBhcmVudCkgdGhpcy5wYXJlbnQgPSBmYWxzZTtcclxuXHRcdFx0Ly8g6L+Z6YeM55qE5pys6LSo5Y6f55CG5piv77yM6YCa6L+H6I635Y+W54i257uE5Lu25a6e5L6LKOS5n+WNs3UtcmFkaW8tZ3JvdXDnmoR0aGlzKVxyXG5cdFx0XHQvLyDlsIbniLbnu4Tku7Z0aGlz5Lit5a+55bqU55qE5Y+C5pWw77yM6LWL5YC857uZ5pys57uE5Lu2KHUtcmFkaW/nmoR0aGlzKeeahHBhcmVudERhdGHlr7nosaHkuK3lr7nlupTnmoTlsZ7mgKdcclxuXHRcdFx0Ly8g5LmL5omA5Lul6ZyA6KaB6L+Z5LmI5YGa77yM5piv5Zug5Li65omA5pyJ56uv5Lit77yM5aS05p2h5bCP56iL5bqP5LiN5pSv5oyB6YCa6L+HdGhpcy5wYXJlbnQueHh45Y6755uR5ZCs54i257uE5Lu25Y+C5pWw55qE5Y+Y5YyWXHJcblx0XHRcdHRoaXMucGFyZW50ID0gdGhpcy4kdS4kcGFyZW50LmNhbGwodGhpcywgcGFyZW50TmFtZSk7XHJcblx0XHRcdGlmKHRoaXMucGFyZW50KSB7XHJcblx0XHRcdFx0Ly8g5Y6G6YGNcGFyZW50RGF0YeS4reeahOWxnuaAp++8jOWwhnBhcmVudOS4reeahOWQjOWQjeWxnuaAp+i1i+WAvOe7mXBhcmVudERhdGFcclxuXHRcdFx0XHRPYmplY3Qua2V5cyh0aGlzLnBhcmVudERhdGEpLm1hcChrZXkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wYXJlbnREYXRhW2tleV0gPSB0aGlzLnBhcmVudFtrZXldO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdC8vICNpZmRlZiBWVUUzXHJcblx0XHRcdFx0dGhpcy5wYXJlbnREYXRhLnZhbHVlID0gdGhpcy5wYXJlbnQubW9kZWxWYWx1ZTtcclxuXHRcdFx0XHQvLyAjZW5kaWZcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdC8vIOmYu+atouS6i+S7tuWGkuazoVxyXG5cdFx0cHJldmVudEV2ZW50KGUpIHtcclxuXHRcdFx0ZSAmJiBlLnN0b3BQcm9wYWdhdGlvbiAmJiBlLnN0b3BQcm9wYWdhdGlvbigpXHJcblx0XHR9XHJcblx0fSxcclxuXHRvblJlYWNoQm90dG9tKCkge1xyXG5cdFx0dW5pLiRlbWl0KCd1T25SZWFjaEJvdHRvbScpXHJcblx0fSxcclxuICAvLyAjaWZuZGVmIFZVRTNcclxuICBiZWZvcmVEZXN0cm95KCkge1xyXG4gICAgLy8g5Yik5pat5b2T5YmN6aG16Z2i5piv5ZCm5a2Y5ZyocGFyZW505ZKMY2hsZHJlbu+8jOS4gOiIrOWcqGNoZWNrYm945ZKMY2hlY2tib3gtZ3JvdXDniLblrZDogZTliqjnmoTlnLrmma/kvJrmnInmraTmg4XlhrVcclxuICAgIC8vIOe7hOS7tumUgOavgeaXtu+8jOenu+mZpOWtkOe7hOS7tuWcqOeItue7hOS7tmNoaWxkcmVu5pWw57uE5Lit55qE5a6e5L6L77yM6YeK5pS+6LWE5rqQ77yM6YG/5YWN5pWw5o2u5re35LmxXHJcbiAgICBpZih0aGlzLnBhcmVudCAmJiB1bmkuJHUudGVzdC5hcnJheSh0aGlzLnBhcmVudC5jaGlsZHJlbikpIHtcclxuICAgIFx0Ly8g57uE5Lu26ZSA5q+B5pe277yM56e76Zmk54i257uE5Lu25Lit55qEY2hpbGRyZW7mlbDnu4TkuK3lr7nlupTnmoTlrp7kvotcclxuICAgIFx0Y29uc3QgY2hpbGRyZW5MaXN0ID0gdGhpcy5wYXJlbnQuY2hpbGRyZW5cclxuICAgIFx0Y2hpbGRyZW5MaXN0Lm1hcCgoY2hpbGQsIGluZGV4KSA9PiB7XHJcbiAgICBcdFx0Ly8g5aaC5p6c55u4562J77yM5YiZ56e76ZmkXHJcbiAgICBcdFx0aWYoY2hpbGQgPT09IHRoaXMpIHtcclxuICAgIFx0XHRcdGNoaWxkcmVuTGlzdC5zcGxpY2UoaW5kZXgsIDEpXHJcbiAgICBcdFx0fVxyXG4gICAgXHR9KVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8gI2VuZGlmXHJcbiAgXHJcbiAgLy8gI2lmZGVmIFZVRTNcclxuICBiZWZvcmVVbm1vdW50KCkge1xyXG4gICAgLy8g5Yik5pat5b2T5YmN6aG16Z2i5piv5ZCm5a2Y5ZyocGFyZW505ZKMY2hsZHJlbu+8jOS4gOiIrOWcqGNoZWNrYm945ZKMY2hlY2tib3gtZ3JvdXDniLblrZDogZTliqjnmoTlnLrmma/kvJrmnInmraTmg4XlhrVcclxuICAgIC8vIOe7hOS7tumUgOavgeaXtu+8jOenu+mZpOWtkOe7hOS7tuWcqOeItue7hOS7tmNoaWxkcmVu5pWw57uE5Lit55qE5a6e5L6L77yM6YeK5pS+6LWE5rqQ77yM6YG/5YWN5pWw5o2u5re35LmxXHJcbiAgICBpZih0aGlzLnBhcmVudCAmJiB1bmkuJHUudGVzdC5hcnJheSh0aGlzLnBhcmVudC5jaGlsZHJlbikpIHtcclxuICAgIFx0Ly8g57uE5Lu26ZSA5q+B5pe277yM56e76Zmk54i257uE5Lu25Lit55qEY2hpbGRyZW7mlbDnu4TkuK3lr7nlupTnmoTlrp7kvotcclxuICAgIFx0Y29uc3QgY2hpbGRyZW5MaXN0ID0gdGhpcy5wYXJlbnQuY2hpbGRyZW5cclxuICAgIFx0Y2hpbGRyZW5MaXN0Lm1hcCgoY2hpbGQsIGluZGV4KSA9PiB7XHJcbiAgICBcdFx0Ly8g5aaC5p6c55u4562J77yM5YiZ56e76ZmkXHJcbiAgICBcdFx0aWYoY2hpbGQgPT09IHRoaXMpIHtcclxuICAgIFx0XHRcdGNoaWxkcmVuTGlzdC5zcGxpY2UoaW5kZXgsIDEpXHJcbiAgICBcdFx0fVxyXG4gICAgXHR9KVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8gI2VuZGlmXHJcbn1cclxuIiwiLy8g5Yik5patYXJy5piv5ZCm5Li65LiA5Liq5pWw57uE77yM6L+U5Zue5LiA5LiqYm9vbOWAvFxyXG5mdW5jdGlvbiBpc0FycmF5IChhcnIpIHtcclxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcclxufVxyXG5cclxuLy8g5rex5bqm5YWL6ZqGXHJcbmZ1bmN0aW9uIGRlZXBDbG9uZSAob2JqKSB7XHJcblx0Ly8g5a+55bi46KeB55qE4oCc6Z2e4oCd5YC877yM55u05o6l6L+U5Zue5Y6f5p2l5YC8XHJcblx0aWYoW251bGwsIHVuZGVmaW5lZCwgTmFOLCBmYWxzZV0uaW5jbHVkZXMob2JqKSkgcmV0dXJuIG9iajtcclxuICAgIGlmKHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG9iaiAhPT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0Ly/ljp/lp4vnsbvlnovnm7TmjqXov5Tlm55cclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG4gICAgdmFyIG8gPSBpc0FycmF5KG9iaikgPyBbXSA6IHt9O1xyXG4gICAgZm9yKGxldCBpIGluIG9iaikge1xyXG4gICAgICAgIGlmKG9iai5oYXNPd25Qcm9wZXJ0eShpKSl7XHJcbiAgICAgICAgICAgIG9baV0gPSB0eXBlb2Ygb2JqW2ldID09PSBcIm9iamVjdFwiID8gZGVlcENsb25lKG9ialtpXSkgOiBvYmpbaV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG87XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRlZXBDbG9uZTtcclxuIiwiaW1wb3J0IGRlZXBDbG9uZSBmcm9tIFwiLi9kZWVwQ2xvbmVcIjtcclxuXHJcbi8vIEpT5a+56LGh5rex5bqm5ZCI5bm2XHJcbmZ1bmN0aW9uIGRlZXBNZXJnZSh0YXJnZXQgPSB7fSwgc291cmNlID0ge30pIHtcclxuXHR0YXJnZXQgPSBkZWVwQ2xvbmUodGFyZ2V0KTtcclxuXHRpZiAodHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHJldHVybiBmYWxzZTtcclxuXHRmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xyXG5cdFx0aWYgKCFzb3VyY2UuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xyXG5cdFx0aWYgKHByb3AgaW4gdGFyZ2V0KSB7XHJcblx0XHRcdGlmICh0eXBlb2YgdGFyZ2V0W3Byb3BdICE9PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRcdHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAodHlwZW9mIHNvdXJjZVtwcm9wXSAhPT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHRcdHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYgKHRhcmdldFtwcm9wXS5jb25jYXQgJiYgc291cmNlW3Byb3BdLmNvbmNhdCkge1xyXG5cdFx0XHRcdFx0XHR0YXJnZXRbcHJvcF0gPSB0YXJnZXRbcHJvcF0uY29uY2F0KHNvdXJjZVtwcm9wXSk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHR0YXJnZXRbcHJvcF0gPSBkZWVwTWVyZ2UodGFyZ2V0W3Byb3BdLCBzb3VyY2VbcHJvcF0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gdGFyZ2V0O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkZWVwTWVyZ2U7IiwiLyoqXHJcbiAqIOmqjOivgeeUteWtkOmCrueuseagvOW8j1xyXG4gKi9cclxuZnVuY3Rpb24gZW1haWwodmFsdWUpIHtcclxuXHRyZXR1cm4gL15cXHcrKCgtXFx3Kyl8KFxcLlxcdyspKSpcXEBbQS1aYS16MC05XSsoKFxcLnwtKVtBLVphLXowLTldKykqXFwuW0EtWmEtejAtOV0rJC8udGVzdCh2YWx1ZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDpqozor4HmiYvmnLrmoLzlvI9cclxuICovXHJcbmZ1bmN0aW9uIG1vYmlsZSh2YWx1ZSkge1xyXG5cdHJldHVybiAvXjFbMjM0NTY3ODldXFxkezl9JC8udGVzdCh2YWx1ZSlcclxufVxyXG5cclxuLyoqXHJcbiAqIOmqjOivgVVSTOagvOW8j1xyXG4gKi9cclxuZnVuY3Rpb24gdXJsKHZhbHVlKSB7XHJcblx0cmV0dXJuIC9odHRwKHMpPzpcXC9cXC8oW1xcdy1dK1xcLikrW1xcdy1dKyhcXC9bXFx3LS5cXC8/JSY9XSopPy8udGVzdCh2YWx1ZSlcclxufVxyXG5cclxuLyoqXHJcbiAqIOmqjOivgeaXpeacn+agvOW8j1xyXG4gKi9cclxuZnVuY3Rpb24gZGF0ZSh2YWx1ZSkge1xyXG5cdHJldHVybiAhL0ludmFsaWR8TmFOLy50ZXN0KG5ldyBEYXRlKHZhbHVlKS50b1N0cmluZygpKVxyXG59XHJcblxyXG4vKipcclxuICog6aqM6K+BSVNP57G75Z6L55qE5pel5pyf5qC85byPXHJcbiAqL1xyXG5mdW5jdGlvbiBkYXRlSVNPKHZhbHVlKSB7XHJcblx0cmV0dXJuIC9eXFxkezR9W1xcL1xcLV0oMD9bMS05XXwxWzAxMl0pW1xcL1xcLV0oMD9bMS05XXxbMTJdWzAtOV18M1swMV0pJC8udGVzdCh2YWx1ZSlcclxufVxyXG5cclxuLyoqXHJcbiAqIOmqjOivgeWNgei/m+WItuaVsOWtl1xyXG4gKi9cclxuZnVuY3Rpb24gbnVtYmVyKHZhbHVlKSB7XHJcblx0cmV0dXJuIC9eKD86LT9cXGQrfC0/XFxkezEsM30oPzosXFxkezN9KSspPyg/OlxcLlxcZCspPyQvLnRlc3QodmFsdWUpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDpqozor4HmlbTmlbBcclxuICovXHJcbmZ1bmN0aW9uIGRpZ2l0cyh2YWx1ZSkge1xyXG5cdHJldHVybiAvXlxcZCskLy50ZXN0KHZhbHVlKVxyXG59XHJcblxyXG4vKipcclxuICog6aqM6K+B6Lqr5Lu96K+B5Y+356CBXHJcbiAqL1xyXG5mdW5jdGlvbiBpZENhcmQodmFsdWUpIHtcclxuXHRyZXR1cm4gL15bMS05XVxcZHs1fVsxLTldXFxkezN9KCgwXFxkKXwoMVswLTJdKSkoKFswfDF8Ml1cXGQpfDNbMC0xXSlcXGR7M30oWzAtOV18WCkkLy50ZXN0KFxyXG5cdFx0dmFsdWUpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmmK/lkKbovabniYzlj7dcclxuICovXHJcbmZ1bmN0aW9uIGNhck5vKHZhbHVlKSB7XHJcblx0Ly8g5paw6IO95rqQ6L2m54mMXHJcblx0Y29uc3QgeHJlZyA9IC9eW+S6rOa0peayqua4neWGgOixq+S6kei+vem7kea5mOealumygeaWsOiLj+a1mei1o+mEguahgueUmOaZi+iSmemZleWQiemXvei0teeypOmdkuiXj+W3neWugeeQvOS9v+mihkEtWl17MX1bQS1aXXsxfSgoWzAtOV17NX1bREZdJCl8KFtERl1bQS1ISi1OUC1aMC05XVswLTldezR9JCkpLztcclxuXHQvLyDml6fovabniYxcclxuXHRjb25zdCBjcmVnID0gL15b5Lqs5rSl5rKq5rid5YaA6LGr5LqR6L696buR5rmY55qW6bKB5paw6IuP5rWZ6LWj6YSC5qGC55SY5pmL6JKZ6ZmV5ZCJ6Ze96LS157Kk6Z2S6JeP5bed5a6B55C85L2/6aKGQS1aXXsxfVtBLVpdezF9W0EtSEotTlAtWjAtOV17NH1bQS1ISi1OUC1aMC055oyC5a2m6K2m5riv5r6zXXsxfSQvO1xyXG5cdGlmICh2YWx1ZS5sZW5ndGggPT09IDcpIHtcclxuXHRcdHJldHVybiBjcmVnLnRlc3QodmFsdWUpO1xyXG5cdH0gZWxzZSBpZiAodmFsdWUubGVuZ3RoID09PSA4KSB7XHJcblx0XHRyZXR1cm4geHJlZy50ZXN0KHZhbHVlKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOmHkeminSzlj6rlhYHorrgy5L2N5bCP5pWwXHJcbiAqL1xyXG5mdW5jdGlvbiBhbW91bnQodmFsdWUpIHtcclxuXHQvL+mHkemine+8jOWPquWFgeiuuOS/neeVmeS4pOS9jeWwj+aVsFxyXG5cdHJldHVybiAvXlsxLTldXFxkKigsXFxkezN9KSooXFwuXFxkezEsMn0pPyR8XjBcXC5cXGR7MSwyfSQvLnRlc3QodmFsdWUpO1xyXG59XHJcblxyXG4vKipcclxuICog5Lit5paHXHJcbiAqL1xyXG5mdW5jdGlvbiBjaGluZXNlKHZhbHVlKSB7XHJcblx0bGV0IHJlZyA9IC9eW1xcdTRlMDAtXFx1OWZhNV0rJC9naTtcclxuXHRyZXR1cm4gcmVnLnRlc3QodmFsdWUpO1xyXG59XHJcblxyXG4vKipcclxuICog5Y+q6IO96L6T5YWl5a2X5q+NXHJcbiAqL1xyXG5mdW5jdGlvbiBsZXR0ZXIodmFsdWUpIHtcclxuXHRyZXR1cm4gL15bYS16QS1aXSokLy50ZXN0KHZhbHVlKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWPquiDveaYr+Wtl+avjeaIluiAheaVsOWtl1xyXG4gKi9cclxuZnVuY3Rpb24gZW5Pck51bSh2YWx1ZSkge1xyXG5cdC8v6Iux5paH5oiW6ICF5pWw5a2XXHJcblx0bGV0IHJlZyA9IC9eWzAtOWEtekEtWl0qJC9nO1xyXG5cdHJldHVybiByZWcudGVzdCh2YWx1ZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDpqozor4HmmK/lkKbljIXlkKvmn5DkuKrlgLxcclxuICovXHJcbmZ1bmN0aW9uIGNvbnRhaW5zKHZhbHVlLCBwYXJhbSkge1xyXG5cdHJldHVybiB2YWx1ZS5pbmRleE9mKHBhcmFtKSA+PSAwXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDpqozor4HkuIDkuKrlgLzojIPlm7RbbWluLCBtYXhdXHJcbiAqL1xyXG5mdW5jdGlvbiByYW5nZSh2YWx1ZSwgcGFyYW0pIHtcclxuXHRyZXR1cm4gdmFsdWUgPj0gcGFyYW1bMF0gJiYgdmFsdWUgPD0gcGFyYW1bMV1cclxufVxyXG5cclxuLyoqXHJcbiAqIOmqjOivgeS4gOS4qumVv+W6puiMg+WbtFttaW4sIG1heF1cclxuICovXHJcbmZ1bmN0aW9uIHJhbmdlTGVuZ3RoKHZhbHVlLCBwYXJhbSkge1xyXG5cdHJldHVybiB2YWx1ZS5sZW5ndGggPj0gcGFyYW1bMF0gJiYgdmFsdWUubGVuZ3RoIDw9IHBhcmFtWzFdXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmmK/lkKblm7rlrprnlLXor51cclxuICovXHJcbmZ1bmN0aW9uIGxhbmRsaW5lKHZhbHVlKSB7XHJcblx0bGV0IHJlZyA9IC9eXFxkezMsNH0tXFxkezcsOH0oLVxcZHszLDR9KT8kLztcclxuXHRyZXR1cm4gcmVnLnRlc3QodmFsdWUpO1xyXG59XHJcblxyXG4vKipcclxuICog5Yik5pat5piv5ZCm5Li656m6XHJcbiAqL1xyXG5mdW5jdGlvbiBlbXB0eSh2YWx1ZSkge1xyXG5cdHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XHJcblx0XHRjYXNlICd1bmRlZmluZWQnOlxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdGNhc2UgJ3N0cmluZyc6XHJcblx0XHRcdGlmICh2YWx1ZS5yZXBsYWNlKC8oXlsgXFx0XFxuXFxyXSopfChbIFxcdFxcblxccl0qJCkvZywgJycpLmxlbmd0aCA9PSAwKSByZXR1cm4gdHJ1ZTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdib29sZWFuJzpcclxuXHRcdFx0aWYgKCF2YWx1ZSkgcmV0dXJuIHRydWU7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnbnVtYmVyJzpcclxuXHRcdFx0aWYgKDAgPT09IHZhbHVlIHx8IGlzTmFOKHZhbHVlKSkgcmV0dXJuIHRydWU7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnb2JqZWN0JzpcclxuXHRcdFx0aWYgKG51bGwgPT09IHZhbHVlIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XHJcblx0XHRcdGZvciAodmFyIGkgaW4gdmFsdWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cdHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOaYr+WQpmpzb27lrZfnrKbkuLJcclxuICovXHJcbmZ1bmN0aW9uIGpzb25TdHJpbmcodmFsdWUpIHtcclxuXHRpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHR2YXIgb2JqID0gSlNPTi5wYXJzZSh2YWx1ZSk7XHJcblx0XHRcdGlmICh0eXBlb2Ygb2JqID09ICdvYmplY3QnICYmIG9iaikge1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDmmK/lkKbmlbDnu4RcclxuICovXHJcbmZ1bmN0aW9uIGFycmF5KHZhbHVlKSB7XHJcblx0aWYgKHR5cGVvZiBBcnJheS5pc0FycmF5ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBBcnJheV1cIjtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmmK/lkKblr7nosaFcclxuICovXHJcbmZ1bmN0aW9uIG9iamVjdCh2YWx1ZSkge1xyXG5cdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBPYmplY3RdJztcclxufVxyXG5cclxuLyoqXHJcbiAqIOaYr+WQpuefreS/oemqjOivgeeggVxyXG4gKi9cclxuZnVuY3Rpb24gY29kZSh2YWx1ZSwgbGVuID0gNikge1xyXG5cdHJldHVybiBuZXcgUmVnRXhwKGBeXFxcXGR7JHtsZW59fSRgKS50ZXN0KHZhbHVlKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuXHRlbWFpbCxcclxuXHRtb2JpbGUsXHJcblx0dXJsLFxyXG5cdGRhdGUsXHJcblx0ZGF0ZUlTTyxcclxuXHRudW1iZXIsXHJcblx0ZGlnaXRzLFxyXG5cdGlkQ2FyZCxcclxuXHRjYXJObyxcclxuXHRhbW91bnQsXHJcblx0Y2hpbmVzZSxcclxuXHRsZXR0ZXIsXHJcblx0ZW5Pck51bSxcclxuXHRjb250YWlucyxcclxuXHRyYW5nZSxcclxuXHRyYW5nZUxlbmd0aCxcclxuXHRlbXB0eSxcclxuXHRpc0VtcHR5OiBlbXB0eSxcclxuXHRqc29uU3RyaW5nLFxyXG5cdGxhbmRsaW5lLFxyXG5cdG9iamVjdCxcclxuXHRhcnJheSxcclxuXHRjb2RlXHJcbn1cclxuIiwiaW1wb3J0IGRlZXBNZXJnZSBmcm9tIFwiLi4vZnVuY3Rpb24vZGVlcE1lcmdlXCI7XHJcbmltcG9ydCB2YWxpZGF0ZSBmcm9tIFwiLi4vZnVuY3Rpb24vdGVzdFwiO1xyXG5jbGFzcyBSZXF1ZXN0IHtcclxuXHQvLyDorr7nva7lhajlsYDpu5jorqTphY3nva5cclxuXHRzZXRDb25maWcoY3VzdG9tQ29uZmlnKSB7XHJcblx0XHQvLyDmt7HluqblkIjlubblr7nosaHvvIzlkKbliJnkvJrpgKDmiJDlr7nosaHmt7HlsYLlsZ7mgKfkuKLlpLFcclxuXHRcdHRoaXMuY29uZmlnID0gZGVlcE1lcmdlKHRoaXMuY29uZmlnLCBjdXN0b21Db25maWcpO1xyXG5cdH1cclxuXHJcblx0Ly8g5Li76KaB6K+35rGC6YOo5YiGXHJcblx0cmVxdWVzdChvcHRpb25zID0ge30pIHtcclxuXHRcdC8vIOajgOafpeivt+axguaLpuaIqlxyXG5cdFx0aWYgKHRoaXMuaW50ZXJjZXB0b3IucmVxdWVzdCAmJiB0eXBlb2YgdGhpcy5pbnRlcmNlcHRvci5yZXF1ZXN0ID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdGxldCB0bXBDb25maWcgPSB7fTtcclxuXHRcdFx0bGV0IGludGVyY2VwdG9yUmVxdWVzdCA9IHRoaXMuaW50ZXJjZXB0b3IucmVxdWVzdChvcHRpb25zKTtcclxuXHRcdFx0aWYgKGludGVyY2VwdG9yUmVxdWVzdCA9PT0gZmFsc2UpIHtcclxuXHRcdFx0XHQvLyDov5Tlm57kuIDkuKrlpITkuo5wZW5kaW5n54q25oCB5Lit55qEUHJvbWlzZe+8jOadpeWPlua2iOWOn3Byb21pc2XvvIzpgb/lhY3ov5vlhaV0aGVuKCnlm57osINcclxuXHRcdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKCk9Pnt9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLm9wdGlvbnMgPSBpbnRlcmNlcHRvclJlcXVlc3Q7XHJcblx0XHR9XHJcblx0XHRvcHRpb25zLmRhdGFUeXBlID0gb3B0aW9ucy5kYXRhVHlwZSB8fCB0aGlzLmNvbmZpZy5kYXRhVHlwZTtcclxuXHRcdG9wdGlvbnMucmVzcG9uc2VUeXBlID0gb3B0aW9ucy5yZXNwb25zZVR5cGUgfHwgdGhpcy5jb25maWcucmVzcG9uc2VUeXBlO1xyXG5cdFx0b3B0aW9ucy51cmwgPSBvcHRpb25zLnVybCB8fCAnJztcclxuXHRcdG9wdGlvbnMucGFyYW1zID0gb3B0aW9ucy5wYXJhbXMgfHwge307XHJcblx0XHRvcHRpb25zLmhlYWRlciA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29uZmlnLmhlYWRlciwgb3B0aW9ucy5oZWFkZXIpO1xyXG5cdFx0b3B0aW9ucy5tZXRob2QgPSBvcHRpb25zLm1ldGhvZCB8fCB0aGlzLmNvbmZpZy5tZXRob2Q7XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0b3B0aW9ucy5jb21wbGV0ZSA9IChyZXNwb25zZSkgPT4ge1xyXG5cdFx0XHRcdC8vIOivt+axgui/lOWbnuWQju+8jOmakOiXj2xvYWRpbmco5aaC5p6c6K+35rGC6L+U5Zue5b+r55qE6K+d77yM5Y+v6IO95Lya5rKh5pyJbG9hZGluZylcclxuXHRcdFx0XHR1bmkuaGlkZUxvYWRpbmcoKTtcclxuXHRcdFx0XHQvLyDmuIXpmaTlrprml7blmajvvIzlpoLmnpzor7fmsYLlm57mnaXkuobvvIzlsLHml6DpnIBsb2FkaW5nXHJcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuY29uZmlnLnRpbWVyKTtcclxuXHRcdFx0XHR0aGlzLmNvbmZpZy50aW1lciA9IG51bGw7XHJcblx0XHRcdFx0Ly8g5Yik5pat55So5oi35a+55oum5oiq6L+U5Zue5pWw5o2u55qE6KaB5rGC77yM5aaC5p6cb3JpZ2luYWxEYXRh5Li6dHJ1Ze+8jOi/lOWbnuaJgOacieeahOaVsOaNrihyZXNwb25zZSnliLDmi6bmiKrlmajvvIzlkKbliJnlj6rov5Tlm55yZXNwb25zZS5kYXRhXHJcblx0XHRcdFx0aWYodGhpcy5jb25maWcub3JpZ2luYWxEYXRhKSB7XHJcblx0XHRcdFx0XHQvLyDliKTmlq3mmK/lkKblrZjlnKjmi6bmiKrlmahcclxuXHRcdFx0XHRcdGlmICh0aGlzLmludGVyY2VwdG9yLnJlc3BvbnNlICYmIHR5cGVvZiB0aGlzLmludGVyY2VwdG9yLnJlc3BvbnNlID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0XHRcdGxldCByZXNJbnRlcmNlcHRvcnMgPSB0aGlzLmludGVyY2VwdG9yLnJlc3BvbnNlKHJlc3BvbnNlKTtcclxuXHRcdFx0XHRcdFx0Ly8g5aaC5p6c5oum5oiq5Zmo5LiN6L+U5ZueZmFsc2XvvIzlsLHlsIbmi6bmiKrlmajov5Tlm57nmoTlhoXlrrnnu5l0aGlzLiR1LnBvc3TnmoR0aGVu5Zue6LCDXHJcblx0XHRcdFx0XHRcdGlmIChyZXNJbnRlcmNlcHRvcnMgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShyZXNJbnRlcmNlcHRvcnMpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdC8vIOWmguaenOaLpuaIquWZqOi/lOWbnmZhbHNl77yM5oSP5ZGz552A5oum5oiq5Zmo5a6a5LmJ6ICF6K6k5Li66L+U5Zue5pyJ6Zeu6aKY77yM55u05o6l5o6l5YWlY2F0Y2jlm57osINcclxuXHRcdFx0XHRcdFx0XHRyZWplY3QocmVzcG9uc2UpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHQvLyDlpoLmnpzopoHmsYLov5Tlm57ljp/lp4vmlbDmja7vvIzlsLHnrpfmsqHmnInmi6bmiKrlmajvvIzkuZ/ov5Tlm57mnIDljp/lp4vnmoTmlbDmja5cclxuXHRcdFx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID09IDIwMCkge1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5pbnRlcmNlcHRvci5yZXNwb25zZSAmJiB0eXBlb2YgdGhpcy5pbnRlcmNlcHRvci5yZXNwb25zZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0XHRcdGxldCByZXNJbnRlcmNlcHRvcnMgPSB0aGlzLmludGVyY2VwdG9yLnJlc3BvbnNlKHJlc3BvbnNlLmRhdGEpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChyZXNJbnRlcmNlcHRvcnMgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKHJlc0ludGVyY2VwdG9ycyk7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJlamVjdChyZXNwb25zZS5kYXRhKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8g5aaC5p6c5LiN5piv6L+U5Zue5Y6f5aeL5pWw5o2uKG9yaWdpbmFsRGF0YT1mYWxzZSnvvIzkuJTmsqHmnInmi6bmiKrlmajnmoTmg4XlhrXkuIvvvIzov5Tlm57nuq/mlbDmja7nu5l0aGVu5Zue6LCDXHJcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Ly8g5LiN6L+U5Zue5Y6f5aeL5pWw5o2u55qE5oOF5Ya15LiL77yM5pyN5Yqh5Zmo54q25oCB56CB5LiN5Li6MjAw77yMbW9kYWzlvLnmoYbmj5DnpLpcclxuXHRcdFx0XHRcdFx0Ly8gaWYocmVzcG9uc2UuZXJyTXNnKSB7XHJcblx0XHRcdFx0XHRcdC8vIFx0dW5pLnNob3dNb2RhbCh7XHJcblx0XHRcdFx0XHRcdC8vIFx0XHR0aXRsZTogcmVzcG9uc2UuZXJyTXNnXHJcblx0XHRcdFx0XHRcdC8vIFx0fSk7XHJcblx0XHRcdFx0XHRcdC8vIH1cclxuXHRcdFx0XHRcdFx0cmVqZWN0KHJlc3BvbnNlKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8g5Yik5pat55So5oi35Lyg6YCS55qEVVJM5piv5ZCmL+W8gOWktCzlpoLmnpzkuI3mmK8s5Yqg5LiKL++8jOi/memHjOS9v+eUqOS6hnVWaWV355qEdGVzdC5qc+mqjOivgeW6k+eahHVybCgp5pa55rOVXHJcblx0XHRcdG9wdGlvbnMudXJsID0gdmFsaWRhdGUudXJsKG9wdGlvbnMudXJsKSA/IG9wdGlvbnMudXJsIDogKHRoaXMuY29uZmlnLmJhc2VVcmwgKyAob3B0aW9ucy51cmwuaW5kZXhPZignLycpID09IDAgP1xyXG5cdFx0XHRcdG9wdGlvbnMudXJsIDogJy8nICsgb3B0aW9ucy51cmwpKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIOaYr+WQpuaYvuekumxvYWRpbmdcclxuXHRcdFx0Ly8g5Yqg5LiA5Liq5piv5ZCm5bey5pyJdGltZXLlrprml7blmajnmoTliKTmlq3vvIzlkKbliJnmnInkuKTkuKrlkIzml7bor7fmsYLnmoTml7blgJnvvIzlkI7ogIXkvJrmuIXpmaTliY3ogIXnmoTlrprml7blmahpZFxyXG5cdFx0XHQvLyDogIzmsqHmnInmuIXpmaTliY3ogIXnmoTlrprml7blmajvvIzlr7zoh7TliY3ogIXotoXml7bvvIzkuIDnm7TmmL7npLpsb2FkaW5nXHJcblx0XHRcdGlmKHRoaXMuY29uZmlnLnNob3dMb2FkaW5nICYmICF0aGlzLmNvbmZpZy50aW1lcikge1xyXG5cdFx0XHRcdHRoaXMuY29uZmlnLnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHR1bmkuc2hvd0xvYWRpbmcoe1xyXG5cdFx0XHRcdFx0XHR0aXRsZTogdGhpcy5jb25maWcubG9hZGluZ1RleHQsXHJcblx0XHRcdFx0XHRcdG1hc2s6IHRoaXMuY29uZmlnLmxvYWRpbmdNYXNrXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0dGhpcy5jb25maWcudGltZXIgPSBudWxsO1xyXG5cdFx0XHRcdH0sIHRoaXMuY29uZmlnLmxvYWRpbmdUaW1lKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR1bmkucmVxdWVzdChvcHRpb25zKTtcclxuXHRcdH0pXHJcblx0XHQvLyAuY2F0Y2gocmVzID0+IHtcclxuXHRcdC8vIFx0Ly8g5aaC5p6c6L+U5ZuecmVqZWN0KCnvvIzkuI3orqnlhbbov5vlhaV0aGlzLiR1LnBvc3QoKS50aGVuKCkuY2F0Y2goKeWQjumdoueahGNhdGN0KClcclxuXHRcdC8vIFx0Ly8g5Zug5Li65b6I5aSa5Lq66YO95Lya5b+Y5LqG5YaZ5ZCO6Z2i55qEY2F0Y2goKe+8jOWvvOiHtOaKpemUmeaNleiOt+S4jeWIsGNhdGNoXHJcblx0XHQvLyBcdHJldHVybiBuZXcgUHJvbWlzZSgoKT0+e30pO1xyXG5cdFx0Ly8gfSlcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5jb25maWcgPSB7XHJcblx0XHRcdGJhc2VVcmw6ICcnLCAvLyDor7fmsYLnmoTmoLnln5/lkI1cclxuXHRcdFx0Ly8g6buY6K6k55qE6K+35rGC5aS0XHJcblx0XHRcdGhlYWRlcjoge30sXHJcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHQvLyDorr7nva7kuLpqc29u77yM6L+U5Zue5ZCOdW5pLnJlcXVlc3TkvJrlr7nmlbDmja7ov5vooYzkuIDmrKFKU09OLnBhcnNlXHJcblx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdC8vIOatpOWPguaVsOaXoOmcgOWkhOeQhu+8jOWboOS4ujUr5ZKM5pSv5LuY5a6d5bCP56iL5bqP5LiN5pSv5oyB77yM6buY6K6k5Li6dGV4dOWNs+WPr1xyXG5cdFx0XHRyZXNwb25zZVR5cGU6ICd0ZXh0JyxcclxuXHRcdFx0c2hvd0xvYWRpbmc6IHRydWUsIC8vIOaYr+WQpuaYvuekuuivt+axguS4reeahGxvYWRpbmdcclxuXHRcdFx0bG9hZGluZ1RleHQ6ICfor7fmsYLkuK0uLi4nLFxyXG5cdFx0XHRsb2FkaW5nVGltZTogODAwLCAvLyDlnKjmraTml7bpl7TlhoXvvIzor7fmsYLov5jmsqHlm57mnaXnmoTor53vvIzlsLHmmL7npLrliqDovb3kuK3liqjnlLvvvIzljZXkvY1tc1xyXG5cdFx0XHR0aW1lcjogbnVsbCwgLy8g5a6a5pe25ZmoXHJcblx0XHRcdG9yaWdpbmFsRGF0YTogZmFsc2UsIC8vIOaYr+WQpuWcqOaLpuaIquWZqOS4rei/lOWbnuacjeWKoeerr+eahOWOn+Wni+aVsOaNru+8jOingeaWh+aho+ivtOaYjlxyXG5cdFx0XHRsb2FkaW5nTWFzazogdHJ1ZSwgLy8g5bGV56S6bG9hZGluZ+eahOaXtuWAme+8jOaYr+WQpue7meS4gOS4qumAj+aYjueahOiSmeWxgu+8jOmYsuatouinpuaRuOepv+mAj1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0Ly8g5oum5oiq5ZmoXHJcblx0XHR0aGlzLmludGVyY2VwdG9yID0ge1xyXG5cdFx0XHQvLyDor7fmsYLliY3nmoTmi6bmiKpcclxuXHRcdFx0cmVxdWVzdDogbnVsbCxcclxuXHRcdFx0Ly8g6K+35rGC5ZCO55qE5oum5oiqXHJcblx0XHRcdHJlc3BvbnNlOiBudWxsXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZ2V06K+35rGCXHJcblx0XHR0aGlzLmdldCA9ICh1cmwsIGRhdGEgPSB7fSwgaGVhZGVyID0ge30pID0+IHtcclxuXHRcdFx0cmV0dXJuIHRoaXMucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHR1cmwsXHJcblx0XHRcdFx0aGVhZGVyLFxyXG5cdFx0XHRcdGRhdGFcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHJcblx0XHQvLyBwb3N06K+35rGCXHJcblx0XHR0aGlzLnBvc3QgPSAodXJsLCBkYXRhID0ge30sIGhlYWRlciA9IHt9KSA9PiB7XHJcblx0XHRcdHJldHVybiB0aGlzLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdHVybCxcclxuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0XHRoZWFkZXIsXHJcblx0XHRcdFx0ZGF0YVxyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBwdXTor7fmsYLvvIzkuI3mlK/mjIHmlK/ku5jlrp3lsI/nqIvluo8oSFgyLjYuMTUpXHJcblx0XHR0aGlzLnB1dCA9ICh1cmwsIGRhdGEgPSB7fSwgaGVhZGVyID0ge30pID0+IHtcclxuXHRcdFx0cmV0dXJuIHRoaXMucmVxdWVzdCh7XHJcblx0XHRcdFx0dXJsLFxyXG5cdFx0XHRcdG1ldGhvZDogJ1BVVCcsXHJcblx0XHRcdFx0aGVhZGVyLFxyXG5cdFx0XHRcdGRhdGFcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gZGVsZXRl6K+35rGC77yM5LiN5pSv5oyB5pSv5LuY5a6d5ZKM5aS05p2h5bCP56iL5bqPKEhYMi42LjE1KVxyXG5cdFx0dGhpcy5kZWxldGUgPSAodXJsLCBkYXRhID0ge30sIGhlYWRlciA9IHt9KSA9PiB7XHJcblx0XHRcdHJldHVybiB0aGlzLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdHVybCxcclxuXHRcdFx0XHRtZXRob2Q6ICdERUxFVEUnLFxyXG5cdFx0XHRcdGhlYWRlcixcclxuXHRcdFx0XHRkYXRhXHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblx0fVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBSZXF1ZXN0XHJcbiIsIi8qKlxyXG4gKiDlr7nosaHovax1cmzlj4LmlbBcclxuICogQHBhcmFtIHsqfSBkYXRhLOWvueixoVxyXG4gKiBAcGFyYW0geyp9IGlzUHJlZml4LOaYr+WQpuiHquWKqOWKoOS4ilwiP1wiXHJcbiAqL1xyXG5mdW5jdGlvbiBxdWVyeVBhcmFtcyhkYXRhID0ge30sIGlzUHJlZml4ID0gdHJ1ZSwgYXJyYXlGb3JtYXQgPSAnYnJhY2tldHMnKSB7XHJcblx0bGV0IHByZWZpeCA9IGlzUHJlZml4ID8gJz8nIDogJydcclxuXHRsZXQgX3Jlc3VsdCA9IFtdXHJcblx0aWYgKFsnaW5kaWNlcycsICdicmFja2V0cycsICdyZXBlYXQnLCAnY29tbWEnXS5pbmRleE9mKGFycmF5Rm9ybWF0KSA9PSAtMSkgYXJyYXlGb3JtYXQgPSAnYnJhY2tldHMnO1xyXG5cdGZvciAobGV0IGtleSBpbiBkYXRhKSB7XHJcblx0XHRsZXQgdmFsdWUgPSBkYXRhW2tleV1cclxuXHRcdC8vIOWOu+aOieS4uuepuueahOWPguaVsFxyXG5cdFx0aWYgKFsnJywgdW5kZWZpbmVkLCBudWxsXS5pbmRleE9mKHZhbHVlKSA+PSAwKSB7XHJcblx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0fVxyXG5cdFx0Ly8g5aaC5p6c5YC85Li65pWw57uE77yM5Y+m6KGM5aSE55CGXHJcblx0XHRpZiAodmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcblx0XHRcdC8vIGUuZy4ge2lkczogWzEsIDIsIDNdfVxyXG5cdFx0XHRzd2l0Y2ggKGFycmF5Rm9ybWF0KSB7XHJcblx0XHRcdFx0Y2FzZSAnaW5kaWNlcyc6XHJcblx0XHRcdFx0XHQvLyDnu5Pmnpw6IGlkc1swXT0xJmlkc1sxXT0yJmlkc1syXT0zXHJcblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdF9yZXN1bHQucHVzaChrZXkgKyAnWycgKyBpICsgJ109JyArIHZhbHVlW2ldKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAnYnJhY2tldHMnOlxyXG5cdFx0XHRcdFx0Ly8g57uT5p6cOiBpZHNbXT0xJmlkc1tdPTImaWRzW109M1xyXG5cdFx0XHRcdFx0dmFsdWUuZm9yRWFjaChfdmFsdWUgPT4ge1xyXG5cdFx0XHRcdFx0XHRfcmVzdWx0LnB1c2goa2V5ICsgJ1tdPScgKyBfdmFsdWUpXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAncmVwZWF0JzpcclxuXHRcdFx0XHRcdC8vIOe7k+aenDogaWRzPTEmaWRzPTImaWRzPTNcclxuXHRcdFx0XHRcdHZhbHVlLmZvckVhY2goX3ZhbHVlID0+IHtcclxuXHRcdFx0XHRcdFx0X3Jlc3VsdC5wdXNoKGtleSArICc9JyArIF92YWx1ZSlcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICdjb21tYSc6XHJcblx0XHRcdFx0XHQvLyDnu5Pmnpw6IGlkcz0xLDIsM1xyXG5cdFx0XHRcdFx0bGV0IGNvbW1hU3RyID0gXCJcIjtcclxuXHRcdFx0XHRcdHZhbHVlLmZvckVhY2goX3ZhbHVlID0+IHtcclxuXHRcdFx0XHRcdFx0Y29tbWFTdHIgKz0gKGNvbW1hU3RyID8gXCIsXCIgOiBcIlwiKSArIF92YWx1ZTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRfcmVzdWx0LnB1c2goa2V5ICsgJz0nICsgY29tbWFTdHIpXHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0dmFsdWUuZm9yRWFjaChfdmFsdWUgPT4ge1xyXG5cdFx0XHRcdFx0XHRfcmVzdWx0LnB1c2goa2V5ICsgJ1tdPScgKyBfdmFsdWUpXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRfcmVzdWx0LnB1c2goa2V5ICsgJz0nICsgdmFsdWUpXHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBfcmVzdWx0Lmxlbmd0aCA/IHByZWZpeCArIF9yZXN1bHQuam9pbignJicpIDogJydcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcXVlcnlQYXJhbXM7XHJcbiIsIi8qKlxyXG4gKiDot6/nlLHot7Povazmlrnms5XvvIzor6Xmlrnms5Xnm7jlr7nkuo7nm7TmjqXkvb/nlKh1bmkueHh455qE5aW95aSE5piv5L2/55So5pu05Yqg566A5Y2V5b+r5o23XHJcbiAqIOW5tuS4lOW4puaciei3r+eUseaLpuaIquWKn+iDvVxyXG4gKi9cclxuXHJcbmNsYXNzIFJvdXRlciB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvLyDljp/lp4vlsZ7mgKflrprkuYlcclxuXHRcdHRoaXMuY29uZmlnID0ge1xyXG5cdFx0XHR0eXBlOiAnbmF2aWdhdGVUbycsXHJcblx0XHRcdHVybDogJycsXHJcblx0XHRcdGRlbHRhOiAxLCAvLyBuYXZpZ2F0ZUJhY2vpobXpnaLlkI7pgIDml7Ys5Zue6YCA55qE5bGC5pWwXHJcblx0XHRcdHBhcmFtczoge30sIC8vIOS8oOmAkueahOWPguaVsFxyXG5cdFx0XHRhbmltYXRpb25UeXBlOiAncG9wLWluJywgLy8g56qX5Y+j5Yqo55S7LOWPquWcqEFQUOacieaViFxyXG5cdFx0XHRhbmltYXRpb25EdXJhdGlvbjogMzAwLCAvLyDnqpflj6PliqjnlLvmjIHnu63ml7bpl7Qs5Y2V5L2N5q+r56eSLOWPquWcqEFQUOacieaViFxyXG5cdFx0XHRpbnRlcmNlcHQ6IGZhbHNlLCAvLyDmmK/lkKbpnIDopoHmi6bmiKpcclxuXHRcdH1cclxuXHRcdC8vIOWboOS4unJvdXRl5pa55rOV5piv6ZyA6KaB5a+55aSW6LWL5YC857uZ5Y+m5aSW55qE5a+56LGh5L2/55So77yM5ZCM5pe2cm91dGXlhoXpg6jmnInkvb/nlKh0aGlz77yM5Lya5a+86Ie0cm91dGXlpLHljrvkuIrkuIvmlodcclxuXHRcdC8vIOi/memHjOWcqOaehOmAoOWHveaVsOS4rei/m+ihjHRoaXPnu5HlrppcclxuXHRcdHRoaXMucm91dGUgPSB0aGlzLnJvdXRlLmJpbmQodGhpcylcclxuXHR9XHJcblxyXG5cdC8vIOWIpOaWrXVybOWJjemdouaYr+WQpuaciVwiL1wi77yM5aaC5p6c5rKh5pyJ5YiZ5Yqg5LiK77yM5ZCm5YiZ5peg5rOV6Lez6L2sXHJcblx0YWRkUm9vdFBhdGgodXJsKSB7XHJcblx0XHRyZXR1cm4gdXJsWzBdID09PSAnLycgPyB1cmwgOiBgLyR7dXJsfWBcclxuXHR9XHJcblxyXG5cdC8vIOaVtOWQiOi3r+eUseWPguaVsFxyXG5cdG1peGluUGFyYW0odXJsLCBwYXJhbXMpIHtcclxuXHRcdHVybCA9IHVybCAmJiB0aGlzLmFkZFJvb3RQYXRoKHVybClcclxuXHRcdFxyXG5cdFx0Ly8g5L2/55So5q2j5YiZ5Yy56YWN77yM5Li76KaB5L6d5o2u5piv5Yik5pat5piv5ZCm5pyJXCIvXCIsXCI/XCIsXCI9XCLnrYnvvIzlpoLigJwvcGFnZS9pbmRleC9pbmRleD9uYW1lPW1hcnlcIlxyXG5cdFx0Ly8g5aaC5p6c5pyJdXJs5Lit5pyJZ2V05Y+C5pWw77yM6L2s5o2i5ZCO5peg6ZyA5bim5LiKXCI/XCJcclxuXHRcdGxldCBxdWVyeSA9ICcnXHJcblx0XHRpZiAoLy4qXFwvLipcXD8uKj0uKi8udGVzdCh1cmwpKSB7XHJcblx0XHRcdC8vIG9iamVjdOWvueixoei9rOS4umdldOexu+Wei+eahOWPguaVsFxyXG5cdFx0XHRxdWVyeSA9IHVuaS4kdS5xdWVyeVBhcmFtcyhwYXJhbXMsIGZhbHNlKTtcclxuXHRcdFx0Ly8g5Zug5Li65bey5pyJZ2V05Y+C5pWwLOaJgOS7peWQjumdouaLvOaOpeeahOWPguaVsOmcgOimgeW4puS4ilwiJlwi6ZqU5byAXHJcblx0XHRcdHJldHVybiB1cmwgKz0gXCImXCIgKyBxdWVyeVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8g55u05o6l5ou85o6l5Y+C5pWw77yM5Zug5Li65q2k5aSEdXJs5Lit5rKh5pyJ5ZCO6Z2i55qEcXVlcnnlj4LmlbDvvIzkuZ/lsLHmsqHmnIlcIj8vJlwi5LmL57G755qE56ym5Y+3XHJcblx0XHRcdHF1ZXJ5ID0gdW5pLiR1LnF1ZXJ5UGFyYW1zKHBhcmFtcyk7XHJcblx0XHRcdHJldHVybiB1cmwgKz0gcXVlcnlcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIOWvueWklueahOaWueazleWQjeensFxyXG5cdGFzeW5jIHJvdXRlKG9wdGlvbnMgPSB7fSwgcGFyYW1zID0ge30pIHtcclxuXHRcdC8vIOWQiOW5tueUqOaIt+eahOmFjee9ruWSjOWGhemDqOeahOm7mOiupOmFjee9rlxyXG5cdFx0bGV0IG1lcmdlQ29uZmlnID0ge31cclxuXHJcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdC8vIOWmguaenG9wdGlvbnPkuLrlrZfnrKbkuLLvvIzliJnkuLpyb3V0ZSh1cmwsIHBhcmFtcynnmoTlvaLlvI9cclxuXHRcdFx0bWVyZ2VDb25maWcudXJsID0gdGhpcy5taXhpblBhcmFtKG9wdGlvbnMsIHBhcmFtcylcclxuXHRcdFx0bWVyZ2VDb25maWcudHlwZSA9ICduYXZpZ2F0ZVRvJ1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bWVyZ2VDb25maWcgPSB1bmkuJHUuZGVlcENsb25lKG9wdGlvbnMsIHRoaXMuY29uZmlnKVxyXG5cdFx0XHQvLyDlkKbliJnmraPluLjkvb/nlKhtZXJnZUNvbmZpZ+S4reeahHVybOWSjHBhcmFtc+i/m+ihjOaLvOaOpVxyXG5cdFx0XHRtZXJnZUNvbmZpZy51cmwgPSB0aGlzLm1peGluUGFyYW0ob3B0aW9ucy51cmwsIG9wdGlvbnMucGFyYW1zKVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpZihwYXJhbXMuaW50ZXJjZXB0KSB7XHJcblx0XHRcdHRoaXMuY29uZmlnLmludGVyY2VwdCA9IHBhcmFtcy5pbnRlcmNlcHRcclxuXHRcdH1cclxuXHRcdC8vIHBhcmFtc+WPguaVsOS5n+W4pue7meaLpuaIquWZqFxyXG5cdFx0bWVyZ2VDb25maWcucGFyYW1zID0gcGFyYW1zXHJcblx0XHQvLyDlkIjlubblhoXlpJbpg6jlj4LmlbBcclxuXHRcdG1lcmdlQ29uZmlnID0gdW5pLiR1LmRlZXBNZXJnZSh0aGlzLmNvbmZpZywgbWVyZ2VDb25maWcpXHJcblx0XHQvLyDliKTmlq3nlKjmiLfmmK/lkKblrprkuYnkuobmi6bmiKrlmahcclxuXHRcdGlmICh0eXBlb2YgdW5pLiR1LnJvdXRlSW50ZXJjZXB0ID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdC8vIOWumuS4gOS4qnByb21pc2XvvIzmoLnmja7nlKjmiLfmiafooYxyZXNvbHZlKHRydWUp5oiW6ICFcmVzb2x2ZShmYWxzZSnmnaXlhrPlrprmmK/lkKbov5vooYzot6/nlLHot7PovaxcclxuXHRcdFx0Y29uc3QgaXNOZXh0ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdHVuaS4kdS5yb3V0ZUludGVyY2VwdChtZXJnZUNvbmZpZywgcmVzb2x2ZSlcclxuXHRcdFx0fSlcclxuXHRcdFx0Ly8g5aaC5p6caXNOZXh05Li6dHJ1Ze+8jOWImeaJp+ihjOi3r+eUsei3s+i9rFxyXG5cdFx0XHRpc05leHQgJiYgdGhpcy5vcGVuUGFnZShtZXJnZUNvbmZpZylcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMub3BlblBhZ2UobWVyZ2VDb25maWcpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyDmiafooYzot6/nlLHot7PovaxcclxuXHRvcGVuUGFnZShjb25maWcpIHtcclxuXHRcdC8vIOino+aehOWPguaVsFxyXG5cdFx0Y29uc3Qge1xyXG5cdFx0XHR1cmwsXHJcblx0XHRcdHR5cGUsXHJcblx0XHRcdGRlbHRhLFxyXG5cdFx0XHRhbmltYXRpb25UeXBlLFxyXG5cdFx0XHRhbmltYXRpb25EdXJhdGlvblxyXG5cdFx0fSA9IGNvbmZpZ1xyXG5cdFx0aWYgKGNvbmZpZy50eXBlID09ICduYXZpZ2F0ZVRvJyB8fCBjb25maWcudHlwZSA9PSAndG8nKSB7XHJcblx0XHRcdHVuaS5uYXZpZ2F0ZVRvKHtcclxuXHRcdFx0XHR1cmwsXHJcblx0XHRcdFx0YW5pbWF0aW9uVHlwZSxcclxuXHRcdFx0XHRhbmltYXRpb25EdXJhdGlvblxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGlmIChjb25maWcudHlwZSA9PSAncmVkaXJlY3RUbycgfHwgY29uZmlnLnR5cGUgPT0gJ3JlZGlyZWN0Jykge1xyXG5cdFx0XHR1bmkucmVkaXJlY3RUbyh7XHJcblx0XHRcdFx0dXJsXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGNvbmZpZy50eXBlID09ICdzd2l0Y2hUYWInIHx8IGNvbmZpZy50eXBlID09ICd0YWInKSB7XHJcblx0XHRcdHVuaS5zd2l0Y2hUYWIoe1xyXG5cdFx0XHRcdHVybFxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGlmIChjb25maWcudHlwZSA9PSAncmVMYXVuY2gnIHx8IGNvbmZpZy50eXBlID09ICdsYXVuY2gnKSB7XHJcblx0XHRcdHVuaS5yZUxhdW5jaCh7XHJcblx0XHRcdFx0dXJsXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGNvbmZpZy50eXBlID09ICduYXZpZ2F0ZUJhY2snIHx8IGNvbmZpZy50eXBlID09ICdiYWNrJykge1xyXG5cdFx0XHR1bmkubmF2aWdhdGVCYWNrKHtcclxuXHRcdFx0XHRkZWx0YVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IChuZXcgUm91dGVyKCkpLnJvdXRlIiwiLy8gcGFkU3RhcnQg55qEIHBvbHlmaWxs77yM5Zug5Li65p+Q5Lqb5py65Z6L5oiW5oOF5Ya177yM6L+Y5peg5rOV5pSv5oyBZXM355qEcGFkU3RhcnTvvIzmr5TlpoLnlLXohJHniYjnmoTlvq7kv6HlsI/nqIvluo9cclxuLy8g5omA5Lul6L+Z6YeM5YGa5LiA5Liq5YW85a65cG9seWZpbGznmoTlhbzlrrnlpITnkIZcclxuaWYgKCFTdHJpbmcucHJvdG90eXBlLnBhZFN0YXJ0KSB7XHJcblx0Ly8g5Li65LqG5pa55L6/6KGo56S66L+Z6YeMIGZpbGxTdHJpbmcg55So5LqGRVM2IOeahOm7mOiupOWPguaVsO+8jOS4jeW9seWTjeeQhuino1xyXG5cdFN0cmluZy5wcm90b3R5cGUucGFkU3RhcnQgPSBmdW5jdGlvbihtYXhMZW5ndGgsIGZpbGxTdHJpbmcgPSAnICcpIHtcclxuXHRcdGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZmlsbFN0cmluZykgIT09IFwiW29iamVjdCBTdHJpbmddXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXHJcblx0XHRcdCdmaWxsU3RyaW5nIG11c3QgYmUgU3RyaW5nJylcclxuXHRcdGxldCBzdHIgPSB0aGlzXHJcblx0XHQvLyDov5Tlm54gU3RyaW5nKHN0cikg6L+Z6YeM5piv5Li65LqG5L2/6L+U5Zue55qE5YC85piv5a2X56ym5Liy5a2X6Z2i6YeP77yM5Zyo5o6n5Yi25Y+w5Lit5pu056ym5ZCI55u06KeJXHJcblx0XHRpZiAoc3RyLmxlbmd0aCA+PSBtYXhMZW5ndGgpIHJldHVybiBTdHJpbmcoc3RyKVxyXG5cclxuXHRcdGxldCBmaWxsTGVuZ3RoID0gbWF4TGVuZ3RoIC0gc3RyLmxlbmd0aCxcclxuXHRcdFx0dGltZXMgPSBNYXRoLmNlaWwoZmlsbExlbmd0aCAvIGZpbGxTdHJpbmcubGVuZ3RoKVxyXG5cdFx0d2hpbGUgKHRpbWVzID4+PSAxKSB7XHJcblx0XHRcdGZpbGxTdHJpbmcgKz0gZmlsbFN0cmluZ1xyXG5cdFx0XHRpZiAodGltZXMgPT09IDEpIHtcclxuXHRcdFx0XHRmaWxsU3RyaW5nICs9IGZpbGxTdHJpbmdcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZpbGxTdHJpbmcuc2xpY2UoMCwgZmlsbExlbmd0aCkgKyBzdHI7XHJcblx0fVxyXG59XHJcblxyXG4vLyDlhbbku5bmm7TlpJrmmK/moLzlvI/ljJbmnInlpoLkuIs6XHJcbi8vIHl5eXk6bW06ZGR8eXl5eTptbXx5eXl55bm0bW3mnIhkZOaXpXx5eXl55bm0bW3mnIhkZOaXpSBoaOaXtk1N5YiG562JLOWPr+iHquWumuS5iee7hOWQiFxyXG5mdW5jdGlvbiB0aW1lRm9ybWF0KGRhdGVUaW1lID0gbnVsbCwgZm10ID0gJ3l5eXktbW0tZGQnKSB7XHJcblx0Ly8g5aaC5p6c5Li6bnVsbCzliJnmoLzlvI/ljJblvZPliY3ml7bpl7RcclxuXHRpZiAoIWRhdGVUaW1lKSBkYXRlVGltZSA9IE51bWJlcihuZXcgRGF0ZSgpKTtcclxuXHQvLyDlpoLmnpxkYXRlVGltZemVv+W6puS4ujEw5oiW6ICFMTPvvIzliJnkuLrnp5Llkozmr6vnp5LnmoTml7bpl7TmiLPvvIzlpoLmnpzotoXov4cxM+S9je+8jOWImeS4uuWFtuS7lueahOaXtumXtOagvOW8j1xyXG5cdGlmIChkYXRlVGltZS50b1N0cmluZygpLmxlbmd0aCA9PSAxMCkgZGF0ZVRpbWUgKj0gMTAwMDtcclxuXHRsZXQgZGF0ZSA9IG5ldyBEYXRlKGRhdGVUaW1lKTtcclxuXHRsZXQgcmV0O1xyXG5cdGxldCBvcHQgPSB7XHJcblx0XHRcInkrXCI6IGRhdGUuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpLCAvLyDlubRcclxuXHRcdFwibStcIjogKGRhdGUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCksIC8vIOaciFxyXG5cdFx0XCJkK1wiOiBkYXRlLmdldERhdGUoKS50b1N0cmluZygpLCAvLyDml6VcclxuXHRcdFwiaCtcIjogZGF0ZS5nZXRIb3VycygpLnRvU3RyaW5nKCksIC8vIOaXtlxyXG5cdFx0XCJNK1wiOiBkYXRlLmdldE1pbnV0ZXMoKS50b1N0cmluZygpLCAvLyDliIZcclxuXHRcdFwicytcIjogZGF0ZS5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKSAvLyDnp5JcclxuXHRcdC8vIOacieWFtuS7luagvOW8j+WMluWtl+espumcgOaxguWPr+S7pee7p+e7rea3u+WKoO+8jOW/hemhu+i9rOWMluaIkOWtl+espuS4slxyXG5cdH07XHJcblx0Zm9yIChsZXQgayBpbiBvcHQpIHtcclxuXHRcdHJldCA9IG5ldyBSZWdFeHAoXCIoXCIgKyBrICsgXCIpXCIpLmV4ZWMoZm10KTtcclxuXHRcdGlmIChyZXQpIHtcclxuXHRcdFx0Zm10ID0gZm10LnJlcGxhY2UocmV0WzFdLCAocmV0WzFdLmxlbmd0aCA9PSAxKSA/IChvcHRba10pIDogKG9wdFtrXS5wYWRTdGFydChyZXRbMV0ubGVuZ3RoLCBcIjBcIikpKVxyXG5cdFx0fTtcclxuXHR9O1xyXG5cdHJldHVybiBmbXQ7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHRpbWVGb3JtYXRcclxuIiwiaW1wb3J0IHRpbWVGb3JtYXQgZnJvbSAnLi4vLi4vbGlicy9mdW5jdGlvbi90aW1lRm9ybWF0LmpzJztcclxuXHJcbi8qKlxyXG4gKiDml7bpl7TmiLPovazkuLrlpJrkuYXkuYvliY1cclxuICogQHBhcmFtIFN0cmluZyB0aW1lc3RhbXAg5pe26Ze05oizXHJcbiAqIEBwYXJhbSBTdHJpbmcgfCBCb29sZWFuIGZvcm1hdCDlpoLmnpzkuLrml7bpl7TmoLzlvI/lrZfnrKbkuLLvvIzotoXlh7rkuIDlrprml7bpl7TojIPlm7TvvIzov5Tlm57lm7rlrprnmoTml7bpl7TmoLzlvI/vvJtcclxuICog5aaC5p6c5Li65biD5bCU5YC8ZmFsc2XvvIzml6Dorrrku4DkuYjml7bpl7TvvIzpg73ov5Tlm57lpJrkuYXku6XliY3nmoTmoLzlvI9cclxuICovXHJcbmZ1bmN0aW9uIHRpbWVGcm9tKGRhdGVUaW1lID0gbnVsbCwgZm9ybWF0ID0gJ3l5eXktbW0tZGQnKSB7XHJcblx0Ly8g5aaC5p6c5Li6bnVsbCzliJnmoLzlvI/ljJblvZPliY3ml7bpl7RcclxuXHRpZiAoIWRhdGVUaW1lKSBkYXRlVGltZSA9IE51bWJlcihuZXcgRGF0ZSgpKTtcclxuXHQvLyDlpoLmnpxkYXRlVGltZemVv+W6puS4ujEw5oiW6ICFMTPvvIzliJnkuLrnp5Llkozmr6vnp5LnmoTml7bpl7TmiLPvvIzlpoLmnpzotoXov4cxM+S9je+8jOWImeS4uuWFtuS7lueahOaXtumXtOagvOW8j1xyXG5cdGlmIChkYXRlVGltZS50b1N0cmluZygpLmxlbmd0aCA9PSAxMCkgZGF0ZVRpbWUgKj0gMTAwMDtcclxuXHRsZXQgdGltZXN0YW1wID0gKyBuZXcgRGF0ZShOdW1iZXIoZGF0ZVRpbWUpKTtcclxuXHJcblx0bGV0IHRpbWVyID0gKE51bWJlcihuZXcgRGF0ZSgpKSAtIHRpbWVzdGFtcCkgLyAxMDAwO1xyXG5cdC8vIOWmguaenOWwj+S6jjXliIbpkp8s5YiZ6L+U5ZueXCLliJrliJpcIizlhbbku5bku6XmraTnsbvmjqhcclxuXHRsZXQgdGlwcyA9ICcnO1xyXG5cdHN3aXRjaCAodHJ1ZSkge1xyXG5cdFx0Y2FzZSB0aW1lciA8IDMwMDpcclxuXHRcdFx0dGlwcyA9ICfliJrliJonO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgdGltZXIgPj0gMzAwICYmIHRpbWVyIDwgMzYwMDpcclxuXHRcdFx0dGlwcyA9IHBhcnNlSW50KHRpbWVyIC8gNjApICsgJ+WIhumSn+WJjSc7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSB0aW1lciA+PSAzNjAwICYmIHRpbWVyIDwgODY0MDA6XHJcblx0XHRcdHRpcHMgPSBwYXJzZUludCh0aW1lciAvIDM2MDApICsgJ+Wwj+aXtuWJjSc7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSB0aW1lciA+PSA4NjQwMCAmJiB0aW1lciA8IDI1OTIwMDA6XHJcblx0XHRcdHRpcHMgPSBwYXJzZUludCh0aW1lciAvIDg2NDAwKSArICflpKnliY0nO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGRlZmF1bHQ6XHJcblx0XHRcdC8vIOWmguaenGZvcm1hdOS4umZhbHNl77yM5YiZ5peg6K665LuA5LmI5pe26Ze05oiz77yM6YO95pi+56S6eHjkuYvliY1cclxuXHRcdFx0aWYoZm9ybWF0ID09PSBmYWxzZSkge1xyXG5cdFx0XHRcdGlmKHRpbWVyID49IDI1OTIwMDAgJiYgdGltZXIgPCAzNjUgKiA4NjQwMCkge1xyXG5cdFx0XHRcdFx0dGlwcyA9IHBhcnNlSW50KHRpbWVyIC8gKDg2NDAwICogMzApKSArICfkuKrmnIjliY0nO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0aXBzID0gcGFyc2VJbnQodGltZXIgLyAoODY0MDAgKiAzNjUpKSArICflubTliY0nO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aXBzID0gdGltZUZvcm1hdCh0aW1lc3RhbXAsIGZvcm1hdCk7XHJcblx0XHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIHRpcHM7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHRpbWVGcm9tO1xyXG4iLCIvKipcclxuICog5rGC5Lik5Liq6aKc6Imy5LmL6Ze055qE5riQ5Y+Y5YC8XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdGFydENvbG9yIOW8gOWni+eahOminOiJslxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZW5kQ29sb3Ig57uT5p2f55qE6aKc6ImyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwIOminOiJsuetieWIhueahOS7veminVxyXG4gKiAqL1xyXG5mdW5jdGlvbiBjb2xvckdyYWRpZW50KHN0YXJ0Q29sb3IgPSAncmdiKDAsIDAsIDApJywgZW5kQ29sb3IgPSAncmdiKDI1NSwgMjU1LCAyNTUpJywgc3RlcCA9IDEwKSB7XHJcblx0bGV0IHN0YXJ0UkdCID0gaGV4VG9SZ2Ioc3RhcnRDb2xvciwgZmFsc2UpOyAvL+i9rOaNouS4unJnYuaVsOe7hOaooeW8j1xyXG5cdGxldCBzdGFydFIgPSBzdGFydFJHQlswXTtcclxuXHRsZXQgc3RhcnRHID0gc3RhcnRSR0JbMV07XHJcblx0bGV0IHN0YXJ0QiA9IHN0YXJ0UkdCWzJdO1xyXG5cclxuXHRsZXQgZW5kUkdCID0gaGV4VG9SZ2IoZW5kQ29sb3IsIGZhbHNlKTtcclxuXHRsZXQgZW5kUiA9IGVuZFJHQlswXTtcclxuXHRsZXQgZW5kRyA9IGVuZFJHQlsxXTtcclxuXHRsZXQgZW5kQiA9IGVuZFJHQlsyXTtcclxuXHJcblx0bGV0IHNSID0gKGVuZFIgLSBzdGFydFIpIC8gc3RlcDsgLy/mgLvlt67lgLxcclxuXHRsZXQgc0cgPSAoZW5kRyAtIHN0YXJ0RykgLyBzdGVwO1xyXG5cdGxldCBzQiA9IChlbmRCIC0gc3RhcnRCKSAvIHN0ZXA7XHJcblx0bGV0IGNvbG9yQXJyID0gW107XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdGVwOyBpKyspIHtcclxuXHRcdC8v6K6h566X5q+P5LiA5q2l55qEaGV45YC8IFxyXG5cdFx0bGV0IGhleCA9IHJnYlRvSGV4KCdyZ2IoJyArIE1hdGgucm91bmQoKHNSICogaSArIHN0YXJ0UikpICsgJywnICsgTWF0aC5yb3VuZCgoc0cgKiBpICsgc3RhcnRHKSkgKyAnLCcgKyBNYXRoLnJvdW5kKChzQiAqXHJcblx0XHRcdGkgKyBzdGFydEIpKSArICcpJyk7XHJcblx0XHRjb2xvckFyci5wdXNoKGhleCk7XHJcblx0fVxyXG5cdHJldHVybiBjb2xvckFycjtcclxufVxyXG5cclxuLy8g5bCGaGV46KGo56S65pa55byP6L2s5o2i5Li6cmdi6KGo56S65pa55byPKOi/memHjOi/lOWbnnJnYuaVsOe7hOaooeW8jylcclxuZnVuY3Rpb24gaGV4VG9SZ2Ioc0NvbG9yLCBzdHIgPSB0cnVlKSB7XHJcblx0bGV0IHJlZyA9IC9eIyhbMC05YS1mQS1mXXszfXxbMC05YS1mQS1mXXs2fSkkLztcclxuXHRzQ29sb3IgPSBzQ29sb3IudG9Mb3dlckNhc2UoKTtcclxuXHRpZiAoc0NvbG9yICYmIHJlZy50ZXN0KHNDb2xvcikpIHtcclxuXHRcdGlmIChzQ29sb3IubGVuZ3RoID09PSA0KSB7XHJcblx0XHRcdGxldCBzQ29sb3JOZXcgPSBcIiNcIjtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDE7IGkgPCA0OyBpICs9IDEpIHtcclxuXHRcdFx0XHRzQ29sb3JOZXcgKz0gc0NvbG9yLnNsaWNlKGksIGkgKyAxKS5jb25jYXQoc0NvbG9yLnNsaWNlKGksIGkgKyAxKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c0NvbG9yID0gc0NvbG9yTmV3O1xyXG5cdFx0fVxyXG5cdFx0Ly/lpITnkIblha3kvY3nmoTpopzoibLlgLxcclxuXHRcdGxldCBzQ29sb3JDaGFuZ2UgPSBbXTtcclxuXHRcdGZvciAobGV0IGkgPSAxOyBpIDwgNzsgaSArPSAyKSB7XHJcblx0XHRcdHNDb2xvckNoYW5nZS5wdXNoKHBhcnNlSW50KFwiMHhcIiArIHNDb2xvci5zbGljZShpLCBpICsgMikpKTtcclxuXHRcdH1cclxuXHRcdGlmKCFzdHIpIHtcclxuXHRcdFx0cmV0dXJuIHNDb2xvckNoYW5nZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBgcmdiKCR7c0NvbG9yQ2hhbmdlWzBdfSwke3NDb2xvckNoYW5nZVsxXX0sJHtzQ29sb3JDaGFuZ2VbMl19KWA7XHJcblx0XHR9XHJcblx0fSBlbHNlIGlmICgvXihyZ2J8UkdCKS8udGVzdChzQ29sb3IpKSB7XHJcblx0XHRsZXQgYXJyID0gc0NvbG9yLnJlcGxhY2UoLyg/OlxcKHxcXCl8cmdifFJHQikqL2csIFwiXCIpLnNwbGl0KFwiLFwiKVxyXG5cdFx0cmV0dXJuIGFyci5tYXAodmFsID0+IE51bWJlcih2YWwpKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuIHNDb2xvcjtcclxuXHR9XHJcbn07XHJcblxyXG4vLyDlsIZyZ2LooajnpLrmlrnlvI/ovazmjaLkuLpoZXjooajnpLrmlrnlvI9cclxuZnVuY3Rpb24gcmdiVG9IZXgocmdiKSB7XHJcblx0bGV0IF90aGlzID0gcmdiO1xyXG5cdGxldCByZWcgPSAvXiMoWzAtOWEtZkEtZl17M318WzAtOWEtZkEtZl17Nn0pJC87XHJcblx0aWYgKC9eKHJnYnxSR0IpLy50ZXN0KF90aGlzKSkge1xyXG5cdFx0bGV0IGFDb2xvciA9IF90aGlzLnJlcGxhY2UoLyg/OlxcKHxcXCl8cmdifFJHQikqL2csIFwiXCIpLnNwbGl0KFwiLFwiKTtcclxuXHRcdGxldCBzdHJIZXggPSBcIiNcIjtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYUNvbG9yLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGxldCBoZXggPSBOdW1iZXIoYUNvbG9yW2ldKS50b1N0cmluZygxNik7XHJcblx0XHRcdGhleCA9IFN0cmluZyhoZXgpLmxlbmd0aCA9PSAxID8gMCArICcnICsgaGV4IDogaGV4OyAvLyDkv53or4Hmr4/kuKpyZ2LnmoTlgLzkuLoy5L2NXHJcblx0XHRcdGlmIChoZXggPT09IFwiMFwiKSB7XHJcblx0XHRcdFx0aGV4ICs9IGhleDtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHJIZXggKz0gaGV4O1xyXG5cdFx0fVxyXG5cdFx0aWYgKHN0ckhleC5sZW5ndGggIT09IDcpIHtcclxuXHRcdFx0c3RySGV4ID0gX3RoaXM7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3RySGV4O1xyXG5cdH0gZWxzZSBpZiAocmVnLnRlc3QoX3RoaXMpKSB7XHJcblx0XHRsZXQgYU51bSA9IF90aGlzLnJlcGxhY2UoLyMvLCBcIlwiKS5zcGxpdChcIlwiKTtcclxuXHRcdGlmIChhTnVtLmxlbmd0aCA9PT0gNikge1xyXG5cdFx0XHRyZXR1cm4gX3RoaXM7XHJcblx0XHR9IGVsc2UgaWYgKGFOdW0ubGVuZ3RoID09PSAzKSB7XHJcblx0XHRcdGxldCBudW1IZXggPSBcIiNcIjtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhTnVtLmxlbmd0aDsgaSArPSAxKSB7XHJcblx0XHRcdFx0bnVtSGV4ICs9IChhTnVtW2ldICsgYU51bVtpXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG51bUhleDtcclxuXHRcdH1cclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuIF90aGlzO1xyXG5cdH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4qIEpT6aKc6Imy5Y2B5YWt6L+b5Yi26L2s5o2i5Li6cmdi5oiWcmdiYSzov5Tlm57nmoTmoLzlvI/kuLogcmdiYe+8iDI1Ne+8jDI1Ne+8jDI1Ne+8jDAuNe+8ieWtl+espuS4slxyXG4qIHNIZXjkuLrkvKDlhaXnmoTljYHlha3ov5vliLbnmoToibLlgLxcclxuKiBhbHBoYeS4unJnYmHnmoTpgI/mmI7luqZcclxuKi9cclxuZnVuY3Rpb24gY29sb3JUb1JnYmEoY29sb3IsIGFscGhhID0gMC4zKSB7XHJcblx0Y29sb3IgPSByZ2JUb0hleChjb2xvcilcclxuXHQvLyDljYHlha3ov5vliLbpopzoibLlgLznmoTmraPliJnooajovr7lvI9cclxuXHR2YXIgcmVnID0gL14jKFswLTlhLWZBLWZdezN9fFswLTlhLWZBLWZdezZ9KSQvXHJcblx0LyogMTbov5vliLbpopzoibLovazkuLpSR0LmoLzlvI8gKi9cclxuXHRsZXQgc0NvbG9yID0gY29sb3IudG9Mb3dlckNhc2UoKVxyXG5cdGlmIChzQ29sb3IgJiYgcmVnLnRlc3Qoc0NvbG9yKSkge1xyXG5cdFx0aWYgKHNDb2xvci5sZW5ndGggPT09IDQpIHtcclxuXHRcdFx0dmFyIHNDb2xvck5ldyA9ICcjJ1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8IDQ7IGkgKz0gMSkge1xyXG5cdFx0XHRcdHNDb2xvck5ldyArPSBzQ29sb3Iuc2xpY2UoaSwgaSArIDEpLmNvbmNhdChzQ29sb3Iuc2xpY2UoaSwgaSArIDEpKVxyXG5cdFx0XHR9XHJcblx0XHRcdHNDb2xvciA9IHNDb2xvck5ld1xyXG5cdFx0fVxyXG5cdFx0Ly8g5aSE55CG5YWt5L2N55qE6aKc6Imy5YC8XHJcblx0XHR2YXIgc0NvbG9yQ2hhbmdlID0gW11cclxuXHRcdGZvciAobGV0IGkgPSAxOyBpIDwgNzsgaSArPSAyKSB7XHJcblx0XHRcdHNDb2xvckNoYW5nZS5wdXNoKHBhcnNlSW50KCcweCcgKyBzQ29sb3Iuc2xpY2UoaSwgaSArIDIpKSlcclxuXHRcdH1cclxuXHRcdC8vIHJldHVybiBzQ29sb3JDaGFuZ2Uuam9pbignLCcpXHJcblx0XHRyZXR1cm4gJ3JnYmEoJyArIHNDb2xvckNoYW5nZS5qb2luKCcsJykgKyAnLCcgKyBhbHBoYSArICcpJ1xyXG5cdH0gXHJcblx0ZWxzZSB7XHJcblx0XHRyZXR1cm4gc0NvbG9yXHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcblx0Y29sb3JHcmFkaWVudCxcclxuXHRoZXhUb1JnYixcclxuXHRyZ2JUb0hleCxcclxuXHRjb2xvclRvUmdiYVxyXG59IiwiLyoqXHJcbiAqIOacrOeul+azleadpea6kOS6jueugOS5puW8gOa6kOS7o+egge+8jOivpuinge+8mmh0dHBzOi8vd3d3LmppYW5zaHUuY29tL3AvZmRiZjI5M2QwYTg1XHJcbiAqIOWFqOWxgOWUr+S4gOagh+ivhuespu+8iHV1aWTvvIxHbG9iYWxseSBVbmlxdWUgSWRlbnRpZmllcu+8iSzkuZ/np7DkvZwgdXVpZChVbml2ZXJzYWxseSBVbmlxdWUgSURlbnRpZmllcikgXHJcbiAqIOS4gOiIrOeUqOS6juWkmuS4que7hOS7tuS5i+mXtCznu5nlroPkuIDkuKrllK/kuIDnmoTmoIfor4bnrKYs5oiW6ICFdi1mb3Llvqrnjq/nmoTml7blgJks5aaC5p6c5L2/55So5pWw57uE55qEaW5kZXjlj6/og73kvJrlr7zoh7Tmm7TmlrDliJfooajlh7rnjrDpl67pophcclxuICog5pyA5Y+v6IO955qE5oOF5Ya15piv5bem5ruR5Yig6ZmkaXRlbeaIluiAheWvueafkOadoeS/oeaBr+a1gVwi5LiN5Zac5qyiXCLlubbljrvmjonlroPnmoTml7blgJks5Lya5a+86Ie057uE5Lu25YaF55qE5pWw5o2u5Y+v6IO95Ye6546w6ZSZ5LmxXHJcbiAqIHYtZm9y55qE5pe25YCZLOaOqOiNkOS9v+eUqOWQjuerr+i/lOWbnueahGlk6ICM5LiN5piv5b6q546v55qEaW5kZXhcclxuICogQHBhcmFtIHtOdW1iZXJ9IGxlbiB1dWlk55qE6ZW/5bqmXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZmlyc3RVIOWwhui/lOWbnueahOmmluWtl+avjee9ruS4ulwidVwiXHJcbiAqIEBwYXJhbSB7TnVibWVyfSByYWRpeCDnlJ/miJB1dWlk55qE5Z+65pWwKOaEj+WRs+edgOi/lOWbnueahOWtl+espuS4sumDveaYr+i/meS4quWfuuaVsCksMi3kuozov5vliLYsOC3lhavov5vliLYsMTAt5Y2B6L+b5Yi2LDE2LeWNgeWFrei/m+WItlxyXG4gKi9cclxuZnVuY3Rpb24gZ3VpZChsZW4gPSAzMiwgZmlyc3RVID0gdHJ1ZSwgcmFkaXggPSBudWxsKSB7XHJcblx0bGV0IGNoYXJzID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Jy5zcGxpdCgnJyk7XHJcblx0bGV0IHV1aWQgPSBbXTtcclxuXHRyYWRpeCA9IHJhZGl4IHx8IGNoYXJzLmxlbmd0aDtcclxuXHJcblx0aWYgKGxlbikge1xyXG5cdFx0Ly8g5aaC5p6c5oyH5a6adXVpZOmVv+W6pizlj6rmmK/lj5bpmo/mnLrnmoTlrZfnrKYsMHx45Li65L2N6L+Q566XLOiDveWOu+aOiXjnmoTlsI/mlbDkvY0s6L+U5Zue5pW05pWw5L2NXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB1dWlkW2ldID0gY2hhcnNbMCB8IE1hdGgucmFuZG9tKCkgKiByYWRpeF07XHJcblx0fSBlbHNlIHtcclxuXHRcdGxldCByO1xyXG5cdFx0Ly8gcmZjNDEyMuagh+WHhuimgeaxgui/lOWbnueahHV1aWTkuK0s5p+Q5Lqb5L2N5Li65Zu65a6a55qE5a2X56ymXHJcblx0XHR1dWlkWzhdID0gdXVpZFsxM10gPSB1dWlkWzE4XSA9IHV1aWRbMjNdID0gJy0nO1xyXG5cdFx0dXVpZFsxNF0gPSAnNCc7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCAzNjsgaSsrKSB7XHJcblx0XHRcdGlmICghdXVpZFtpXSkge1xyXG5cdFx0XHRcdHIgPSAwIHwgTWF0aC5yYW5kb20oKSAqIDE2O1xyXG5cdFx0XHRcdHV1aWRbaV0gPSBjaGFyc1soaSA9PSAxOSkgPyAociAmIDB4MykgfCAweDggOiByXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHQvLyDnp7vpmaTnrKzkuIDkuKrlrZfnrKYs5bm255Sodeabv+S7oyzlm6DkuLrnrKzkuIDkuKrlrZfnrKbkuLrmlbDlgLzml7Ys6K+lZ3V1aWTkuI3og73nlKjkvZxpZOaIluiAhWNsYXNzXHJcblx0aWYgKGZpcnN0VSkge1xyXG5cdFx0dXVpZC5zaGlmdCgpO1xyXG5cdFx0cmV0dXJuICd1JyArIHV1aWQuam9pbignJyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiB1dWlkLmpvaW4oJycpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ3VpZDtcclxuIiwiLy8g5Li65LqG6K6p55So5oi36IO95aSf6Ieq5a6a5LmJ5Li76aKY77yM5Lya6YCQ5q2l5byD55So5q2k5paH5Lu277yM5ZCE6aKc6Imy6YCa6L+HY3Nz5o+Q5L6bXHJcbi8vIOS4uuS6hue7meafkOS6m+eJueauiuWcuuaZr+S9v+eUqOWSjOWQkeWQjuWFvOWuue+8jOaXoOmcgOWIoOmZpOatpOaWh+S7tigyMDIwLTA2LTIwKVxyXG5sZXQgY29sb3IgPSB7XHJcblx0cHJpbWFyeTogXCIjMjk3OWZmXCIsXHJcblx0cHJpbWFyeURhcms6IFwiIzJiODVlNFwiLFxyXG5cdHByaW1hcnlEaXNhYmxlZDogXCIjYTBjZmZmXCIsXHJcblx0cHJpbWFyeUxpZ2h0OiBcIiNlY2Y1ZmZcIixcclxuXHRiZ0NvbG9yOiBcIiNmM2Y0ZjZcIixcclxuXHRcclxuXHRpbmZvOiBcIiM5MDkzOTlcIixcclxuXHRpbmZvRGFyazogXCIjODI4NDhhXCIsXHJcblx0aW5mb0Rpc2FibGVkOiBcIiNjOGM5Y2NcIixcclxuXHRpbmZvTGlnaHQ6IFwiI2Y0ZjRmNVwiLFxyXG5cdFxyXG5cdHdhcm5pbmc6IFwiI2ZmOTkwMFwiLFxyXG5cdHdhcm5pbmdEYXJrOiBcIiNmMjkxMDBcIixcclxuXHR3YXJuaW5nRGlzYWJsZWQ6IFwiI2ZjYmQ3MVwiLFxyXG5cdHdhcm5pbmdMaWdodDogXCIjZmRmNmVjXCIsXHJcblx0XHJcblx0ZXJyb3I6IFwiI2ZhMzUzNFwiLFxyXG5cdGVycm9yRGFyazogXCIjZGQ2MTYxXCIsXHJcblx0ZXJyb3JEaXNhYmxlZDogXCIjZmFiNmI2XCIsXHJcblx0ZXJyb3JMaWdodDogXCIjZmVmMGYwXCIsXHJcblx0XHJcblx0c3VjY2VzczogXCIjMTliZTZiXCIsXHJcblx0c3VjY2Vzc0Rhcms6IFwiIzE4YjU2NlwiLFxyXG5cdHN1Y2Nlc3NEaXNhYmxlZDogXCIjNzFkNWExXCIsXHJcblx0c3VjY2Vzc0xpZ2h0OiBcIiNkYmYxZTFcIixcclxuXHRcclxuXHRtYWluQ29sb3I6IFwiIzMwMzEzM1wiLFxyXG5cdGNvbnRlbnRDb2xvcjogXCIjNjA2MjY2XCIsXHJcblx0dGlwc0NvbG9yOiBcIiM5MDkzOTlcIixcclxuXHRsaWdodENvbG9yOiBcIiNjMGM0Y2NcIixcclxuXHRib3JkZXJDb2xvcjogXCIjZTRlN2VkXCJcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29sb3I7IiwiLyoqXHJcbiAqIOagueaNruS4u+mimHR5cGXlgLws6I635Y+W5a+55bqU55qE5Zu+5qCHXHJcbiAqIEBwYXJhbSBTdHJpbmcgdHlwZSDkuLvpopjlkI3np7AscHJpbWFyeXxpbmZvfGVycm9yfHdhcm5pbmd8c3VjY2Vzc1xyXG4gKiBAcGFyYW0gU3RyaW5nIGZpbGwg5piv5ZCm5L2/55SoZmlsbOWhq+WFheWunuS9k+eahOWbvuaghyAgXHJcbiAqL1xyXG5mdW5jdGlvbiB0eXBlMmljb24odHlwZSA9ICdzdWNjZXNzJywgZmlsbCA9IGZhbHNlKSB7XHJcblx0Ly8g5aaC5p6c6Z2e6aKE572u5YC8LOm7mOiupOS4unN1Y2Nlc3NcclxuXHRpZiAoWydwcmltYXJ5JywgJ2luZm8nLCAnZXJyb3InLCAnd2FybmluZycsICdzdWNjZXNzJ10uaW5kZXhPZih0eXBlKSA9PSAtMSkgdHlwZSA9ICdzdWNjZXNzJztcclxuXHRsZXQgaWNvbk5hbWUgPSAnJztcclxuXHQvLyDnm67liY0oMjAxOS0xMi0xMiksaW5mb+WSjHByaW1hcnnkvb/nlKjlkIzkuIDkuKrlm77moIdcclxuXHRzd2l0Y2ggKHR5cGUpIHtcclxuXHRcdGNhc2UgJ3ByaW1hcnknOlxyXG5cdFx0XHRpY29uTmFtZSA9ICdpbmZvLWNpcmNsZSc7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnaW5mbyc6XHJcblx0XHRcdGljb25OYW1lID0gJ2luZm8tY2lyY2xlJztcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdlcnJvcic6XHJcblx0XHRcdGljb25OYW1lID0gJ2Nsb3NlLWNpcmNsZSc7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnd2FybmluZyc6XHJcblx0XHRcdGljb25OYW1lID0gJ2Vycm9yLWNpcmNsZSc7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnc3VjY2Vzcyc6XHJcblx0XHRcdGljb25OYW1lID0gJ2NoZWNrbWFyay1jaXJjbGUnO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGRlZmF1bHQ6XHJcblx0XHRcdGljb25OYW1lID0gJ2NoZWNrbWFyay1jaXJjbGUnO1xyXG5cdH1cclxuXHQvLyDmmK/lkKbmmK/lrp7kvZPnsbvlnoss5Yqg5LiKLWZpbGws5ZyoaWNvbue7hOS7tuW6k+S4rSzlrp7kvZPnmoTnsbvlkI3mmK/lkI7pnaLliqAtZmlsbOeahFxyXG5cdGlmIChmaWxsKSBpY29uTmFtZSArPSAnLWZpbGwnO1xyXG5cdHJldHVybiBpY29uTmFtZTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdHlwZTJpY29uXHJcbiIsIi8vIOaJk+S5seaVsOe7hFxyXG5mdW5jdGlvbiByYW5kb21BcnJheShhcnJheSA9IFtdKSB7XHJcblx0Ly8g5Y6f55CG5pivc29ydOaOkuW6jyxNYXRoLnJhbmRvbSgp5Lqn55SfMDw9IHggPCAx5LmL6Ze055qE5pWwLOS8muWvvOiHtHgtMC4wNeWkp+S6juaIluiAheWwj+S6jjBcclxuXHRyZXR1cm4gYXJyYXkuc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcmFuZG9tQXJyYXlcclxuIiwiaW1wb3J0IHZhbGlkYXRpb24gZnJvbSAnLi90ZXN0LmpzJztcclxuXHJcbi8vIOa3u+WKoOWNleS9je+8jOWmguaenOaciXJweO+8jCXvvIxweOetieWNleS9jee7k+WwvuaIluiAheWAvOS4umF1dG/vvIznm7TmjqXov5Tlm57vvIzlkKbliJnliqDkuIpycHjljZXkvY3nu5PlsL5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkVW5pdCh2YWx1ZSA9ICdhdXRvJywgdW5pdCA9ICdycHgnKSB7XHJcbiAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7XHJcblx0Ly8g55SodVZpZXflhoXnva7pqozor4Hop4TliJnkuK3nmoRudW1iZXLliKTmlq3mmK/lkKbkuLrmlbDlgLxcclxuICAgIHJldHVybiB2YWxpZGF0aW9uLm51bWJlcih2YWx1ZSkgPyBgJHt2YWx1ZX0ke3VuaXR9YCA6IHZhbHVlO1xyXG59IiwiZnVuY3Rpb24gcmFuZG9tKG1pbiwgbWF4KSB7XHJcblx0aWYgKG1pbiA+PSAwICYmIG1heCA+IDAgJiYgbWF4ID49IG1pbikge1xyXG5cdFx0bGV0IGdhYiA9IG1heCAtIG1pbiArIDE7XHJcblx0XHRyZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZ2FiICsgbWluKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuIDA7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCByYW5kb207XHJcbiIsImZ1bmN0aW9uIHRyaW0oc3RyLCBwb3MgPSAnYm90aCcpIHtcclxuXHRpZiAocG9zID09ICdib3RoJykge1xyXG5cdFx0cmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCBcIlwiKTtcclxuXHR9IGVsc2UgaWYgKHBvcyA9PSBcImxlZnRcIikge1xyXG5cdFx0cmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKi8sICcnKTtcclxuXHR9IGVsc2UgaWYgKHBvcyA9PSAncmlnaHQnKSB7XHJcblx0XHRyZXR1cm4gc3RyLnJlcGxhY2UoLyhcXHMqJCkvZywgXCJcIik7XHJcblx0fSBlbHNlIGlmIChwb3MgPT0gJ2FsbCcpIHtcclxuXHRcdHJldHVybiBzdHIucmVwbGFjZSgvXFxzKy9nLCBcIlwiKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuIHN0cjtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHRyaW1cclxuIiwiZnVuY3Rpb24gdG9hc3QodGl0bGUsIGR1cmF0aW9uID0gMTUwMCkge1xyXG5cdHVuaS5zaG93VG9hc3Qoe1xyXG5cdFx0dGl0bGU6IHRpdGxlLFxyXG5cdFx0aWNvbjogJ25vbmUnLFxyXG5cdFx0ZHVyYXRpb246IGR1cmF0aW9uXHJcblx0fSlcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdG9hc3RcclxuIiwiLy8g6I635Y+W54i257uE5Lu255qE5Y+C5pWw77yM5Zug5Li65pSv5LuY5a6d5bCP56iL5bqP5LiN5pSv5oyBcHJvdmlkZS9pbmplY3TnmoTlhpnms5VcclxuLy8gdGhpcy4kcGFyZW505Zyo6Z2eSDXkuK3vvIzlj6/ku6Xlh4bnoa7ojrflj5bliLDniLbnu4Tku7bvvIzkvYbmmK/lnKhINeS4re+8jOmcgOimgeWkmuasoXRoaXMuJHBhcmVudC4kcGFyZW50Lnh4eFxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRQYXJlbnQobmFtZSwga2V5cykge1xyXG5cdGxldCBwYXJlbnQgPSB0aGlzLiRwYXJlbnQ7XHJcblx0Ly8g6YCa6L+Hd2hpbGXljobpgY3vvIzov5nph4zkuLvopoHmmK/kuLrkuoZINemcgOimgeWkmuWxguino+aekOeahOmXrumimFxyXG5cdHdoaWxlIChwYXJlbnQpIHtcclxuXHRcdC8vIOeItue7hOS7tlxyXG5cdFx0aWYgKHBhcmVudC4kb3B0aW9ucy5uYW1lICE9PSBuYW1lKSB7XHJcblx0XHRcdC8vIOWmguaenOe7hOS7tueahG5hbWXkuI3nm7jnrYnvvIznu6fnu63kuIrkuIDnuqflr7vmib5cclxuXHRcdFx0cGFyZW50ID0gcGFyZW50LiRwYXJlbnQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRsZXQgZGF0YSA9IHt9O1xyXG5cdFx0XHQvLyDliKTmlq1rZXlz5piv5ZCm5pWw57uE77yM5aaC5p6c5Lyg6L+H5p2l55qE5piv5LiA5Liq5pWw57uE77yM6YKj5LmI55u05o6l5L2/55So5pWw57uE5YWD57Sg5YC85b2T5YGa6ZSu5YC85Y6754i257uE5Lu25a+75om+XHJcblx0XHRcdGlmKEFycmF5LmlzQXJyYXkoa2V5cykpIHtcclxuXHRcdFx0XHRrZXlzLm1hcCh2YWwgPT4ge1xyXG5cdFx0XHRcdFx0ZGF0YVt2YWxdID0gcGFyZW50W3ZhbF0gPyBwYXJlbnRbdmFsXSA6ICcnO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8g5Y6G6YGN5Lyg6L+H5p2l55qE5a+56LGh5Y+C5pWwXHJcblx0XHRcdFx0Zm9yKGxldCBpIGluIGtleXMpIHtcclxuXHRcdFx0XHRcdC8vIOWmguaenOWtkOe7hOS7tuacieatpOWAvOWImeeUqO+8jOaXoOatpOWAvOWImeeUqOeItue7hOS7tueahOWAvFxyXG5cdFx0XHRcdFx0Ly8g5Yik5pat5piv5ZCm56m65pWw57uE77yM5aaC5p6c5piv77yM5YiZ55So54i257uE5Lu255qE5YC877yM5ZCm5YiZ55So5a2Q57uE5Lu255qE5YC8XHJcblx0XHRcdFx0XHRpZihBcnJheS5pc0FycmF5KGtleXNbaV0pKSB7XHJcblx0XHRcdFx0XHRcdGlmKGtleXNbaV0ubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdFx0ZGF0YVtpXSA9IGtleXNbaV07XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZGF0YVtpXSA9IHBhcmVudFtpXTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIGlmKGtleXNbaV0uY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xyXG5cdFx0XHRcdFx0XHQvLyDliKTmlq3mmK/lkKblr7nosaHvvIzlpoLmnpzmmK/lr7nosaHvvIzkuJTmnInlsZ7mgKfvvIzpgqPkuYjkvb/nlKjlrZDnu4Tku7bnmoTlgLzvvIzlkKbliJnkvb/nlKjniLbnu4Tku7bnmoTlgLxcclxuXHRcdFx0XHRcdFx0aWYoT2JqZWN0LmtleXMoa2V5c1tpXSkubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdFx0ZGF0YVtpXSA9IGtleXNbaV07XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZGF0YVtpXSA9IHBhcmVudFtpXTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Ly8g5Y+q6KaB5a2Q57uE5Lu25pyJ5Lyg5YC877yM5Y2z5L2/5pivZmFsc2XlgLzvvIzkuZ/mmK/igJzkvKDlgLzigJ3kuobvvIzkuZ/pnIDopoHopobnm5bniLbnu4Tku7bnmoTlkIzlkI3lj4LmlbBcclxuXHRcdFx0XHRcdFx0ZGF0YVtpXSA9IChrZXlzW2ldIHx8IGtleXNbaV0gPT09IGZhbHNlKSA/IGtleXNbaV0gOiBwYXJlbnRbaV07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHt9O1xyXG59IiwiLy8g6I635Y+W54i257uE5Lu255qE5Y+C5pWw77yM5Zug5Li65pSv5LuY5a6d5bCP56iL5bqP5LiN5pSv5oyBcHJvdmlkZS9pbmplY3TnmoTlhpnms5VcclxuLy8gdGhpcy4kcGFyZW505Zyo6Z2eSDXkuK3vvIzlj6/ku6Xlh4bnoa7ojrflj5bliLDniLbnu4Tku7bvvIzkvYbmmK/lnKhINeS4re+8jOmcgOimgeWkmuasoXRoaXMuJHBhcmVudC4kcGFyZW50Lnh4eFxyXG4vLyDov5nph4zpu5jorqTlgLznrYnkuo51bmRlZmluZWTmnInlroPnmoTlkKvkuYnvvIzlm6DkuLrmnIDpobblsYLlhYPntKAo57uE5Lu2KeeahCRwYXJlbnTlsLHmmK91bmRlZmluZWTvvIzmhI/lkbPnnYDkuI3kvKBuYW1lXHJcbi8vIOWAvCjpu5jorqTkuLp1bmRlZmluZWQp77yM5bCx5piv5p+l5om+5pyA6aG25bGC55qEJHBhcmVudFxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAkcGFyZW50KG5hbWUgPSB1bmRlZmluZWQpIHtcclxuXHRsZXQgcGFyZW50ID0gdGhpcy4kcGFyZW50O1xyXG5cdC8vIOmAmui/h3doaWxl5Y6G6YGN77yM6L+Z6YeM5Li76KaB5piv5Li65LqGSDXpnIDopoHlpJrlsYLop6PmnpDnmoTpl67pophcclxuXHR3aGlsZSAocGFyZW50KSB7XHJcblx0XHQvLyDniLbnu4Tku7ZcclxuXHRcdGlmIChwYXJlbnQuJG9wdGlvbnMgJiYgcGFyZW50LiRvcHRpb25zLm5hbWUgIT09IG5hbWUpIHtcclxuXHRcdFx0Ly8g5aaC5p6c57uE5Lu255qEbmFtZeS4jeebuOetie+8jOe7p+e7reS4iuS4gOe6p+Wvu+aJvlxyXG5cdFx0XHRwYXJlbnQgPSBwYXJlbnQuJHBhcmVudDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBwYXJlbnQ7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBmYWxzZTtcclxufSIsImV4cG9ydCBmdW5jdGlvbiBvcygpIHtcclxuXHRyZXR1cm4gdW5pLmdldFN5c3RlbUluZm9TeW5jKCkucGxhdGZvcm07XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3lzKCkge1xyXG5cdHJldHVybiB1bmkuZ2V0U3lzdGVtSW5mb1N5bmMoKTtcclxufVxyXG5cclxuXHJcbiIsImxldCB0aW1lb3V0ID0gbnVsbDtcclxuXHJcbi8qKlxyXG4gKiDpmLLmipbljp/nkIbvvJrkuIDlrprml7bpl7TlhoXvvIzlj6rmnInmnIDlkI7kuIDmrKHmk43kvZzvvIzlho3ov4d3YWl05q+r56eS5ZCO5omN5omn6KGM5Ye95pWwXHJcbiAqIFxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOimgeaJp+ihjOeahOWbnuiwg+WHveaVsCBcclxuICogQHBhcmFtIHtOdW1iZXJ9IHdhaXQg5bu25pe255qE5pe26Ze0XHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaW1tZWRpYXRlIOaYr+WQpueri+WNs+aJp+ihjCBcclxuICogQHJldHVybiBudWxsXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0ID0gNTAwLCBpbW1lZGlhdGUgPSBmYWxzZSkge1xyXG5cdC8vIOa4hemZpOWumuaXtuWZqFxyXG5cdGlmICh0aW1lb3V0ICE9PSBudWxsKSBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcblx0Ly8g56uL5Y2z5omn6KGM77yM5q2k57G75oOF5Ya15LiA6Iis55So5LiN5YiwXHJcblx0aWYgKGltbWVkaWF0ZSkge1xyXG5cdFx0dmFyIGNhbGxOb3cgPSAhdGltZW91dDtcclxuXHRcdHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aW1lb3V0ID0gbnVsbDtcclxuXHRcdH0sIHdhaXQpO1xyXG5cdFx0aWYgKGNhbGxOb3cpIHR5cGVvZiBmdW5jID09PSAnZnVuY3Rpb24nICYmIGZ1bmMoKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly8g6K6+572u5a6a5pe25Zmo77yM5b2T5pyA5ZCO5LiA5qyh5pON5L2c5ZCO77yMdGltZW91dOS4jeS8muWGjeiiq+a4hemZpO+8jOaJgOS7peWcqOW7tuaXtndhaXTmr6vnp5LlkI7miafooYxmdW5j5Zue6LCD5pa55rOVXHJcblx0XHR0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0dHlwZW9mIGZ1bmMgPT09ICdmdW5jdGlvbicgJiYgZnVuYygpO1xyXG5cdFx0fSwgd2FpdCk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkZWJvdW5jZVxyXG4iLCJsZXQgdGltZW91dEFyciA9IFtdO1xyXG5sZXQgZmxhZ0FyciA9IFtdO1xyXG4vKipcclxuICog6IqC5rWB5Ye95pWwXHJcbiAqIOiKgua1geWOn+eQhu+8muWcqOS4gOWumuaXtumXtOWGhe+8jOWPquiDveinpuWPkeS4gOasoVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiDopoHmiafooYznmoTlm57osIPlh73mlbAgXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lIOW7tuaXtueahOaXtumXtFxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzSW1tZWRpYXRlIOaYr+WQpueri+WNs+aJp+ihjFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdGltZW91dE5hbWUg5a6a5pe25ZmoSURcclxuICogQHJldHVybiBudWxsXHJcbiAqL1xyXG5mdW5jdGlvbiB0aHJvdHRsZShmbiwgdGltZSA9IDUwMCwgaXNJbW1lZGlhdGUgPSB0cnVlLCB0aW1lb3V0TmFtZSA9IFwiZGVmYXVsdFwiKSB7XHJcblx0aWYoIXRpbWVvdXRBcnJbdGltZW91dE5hbWVdKSB0aW1lb3V0QXJyW3RpbWVvdXROYW1lXSA9IG51bGw7XHJcblx0aWYgKGlzSW1tZWRpYXRlKSB7XHJcblx0XHRpZiAoIWZsYWdBcnJbdGltZW91dE5hbWVdKSB7XHJcblx0XHRcdGZsYWdBcnJbdGltZW91dE5hbWVdID0gdHJ1ZTtcclxuXHRcdFx0Ly8g5aaC5p6c5piv56uL5Y2z5omn6KGM77yM5YiZ5ZyodGltZeavq+enkuWGheW8gOWni+aXtuaJp+ihjFxyXG5cdFx0XHRpZih0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIGZuKCk7XHJcblx0XHRcdHRpbWVvdXRBcnJbdGltZW91dE5hbWVdID0gc2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0ZmxhZ0Fyclt0aW1lb3V0TmFtZV0gPSBmYWxzZTtcclxuXHRcdFx0fSwgdGltZSk7XHJcblx0XHR9XHJcblx0fSBlbHNlIHtcclxuXHRcdGlmICghZmxhZ0Fyclt0aW1lb3V0TmFtZV0pIHtcclxuXHRcdFx0ZmxhZ0Fyclt0aW1lb3V0TmFtZV0gPSB0cnVlO1xyXG5cdFx0XHQvLyDlpoLmnpzmmK/pnZ7nq4vljbPmiafooYzvvIzliJnlnKh0aW1l5q+r56eS5YaF55qE57uT5p2f5aSE5omn6KGMXHJcblx0XHRcdHRpbWVvdXRBcnJbdGltZW91dE5hbWVdID0gc2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0ZmxhZ0Fyclt0aW1lb3V0TmFtZV0gPSBmYWxzZTtcclxuXHRcdFx0XHRpZih0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIGZuKCk7XHJcblx0XHRcdH0sIHRpbWUpO1xyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuZXhwb3J0IGRlZmF1bHQgdGhyb3R0bGUiLCIvLyDnrKzkuIDniYggMS4xMC4xIOeJiOacrOWPkeW4g+S6jjIwMjEtMTEtMThcclxubGV0IHZlcnNpb24gPSAnMS4xMC4xJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuXHR2OiB2ZXJzaW9uLFxyXG5cdHZlcnNpb246IHZlcnNpb24sXHJcblx0Ly8g5Li76aKY5ZCN56ewXHJcblx0dHlwZTogW1xyXG5cdFx0J3ByaW1hcnknLFxyXG5cdFx0J3N1Y2Nlc3MnLFxyXG5cdFx0J2luZm8nLFxyXG5cdFx0J2Vycm9yJyxcclxuXHRcdCd3YXJuaW5nJ1xyXG5cdF1cclxufSIsIi8vIHVuaWFwcOWcqEg15Lit5ZCEQVBJ55qEei1pbmRleOWAvOWmguS4i++8mlxyXG4vKipcclxuICogYWN0aW9uc2hlZXQ6IDk5OVxyXG4gKiBtb2RhbDogOTk5XHJcbiAqIG5hdmlnYXRlOiA5OThcclxuICogdGFiYmFyOiA5OThcclxuICogdG9hc3Q6IDk5OVxyXG4gKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuXHR0b2FzdDogMTAwOTAsXHJcblx0bm9OZXR3b3JrOiAxMDA4MCxcclxuXHQvLyBwb3B1cOWMheWQq3BvcHVw77yMYWN0aW9uc2hlZXTvvIxrZXlib2FyZO+8jHBpY2tlcueahOWAvFxyXG5cdHBvcHVwOiAxMDA3NSxcclxuXHRtYXNrOiAxMDA3MCxcclxuXHRuYXZiYXI6IDk4MCxcclxuXHR0b3BUaXBzOiA5NzUsXHJcblx0c3RpY2t5OiA5NzAsXHJcblx0aW5kZXhMaXN0U3RpY2t5OiA5NjUsXHJcbn0iLCIvLyDlvJXlhaXlhajlsYBtaXhpblxyXG5pbXBvcnQgbWl4aW4gZnJvbSAnLi9saWJzL21peGluL21peGluLmpzJ1xyXG4vLyDlvJXlhaXlhbPkuo7mmK/lkKZtaXhpbumbhuaIkOWwj+eoi+W6j+WIhuS6q+eahOmFjee9rlxyXG4vLyBpbXBvcnQgd3hzaGFyZSBmcm9tICcuL2xpYnMvbWl4aW4vbXBTaGFyZS5qcydcclxuLy8g5YWo5bGA5oyC6L295byV5YWlaHR0cOebuOWFs+ivt+axguaLpuaIquaPkuS7tlxyXG5pbXBvcnQgaHR0cCBmcm9tICcuL2xpYnMvcmVxdWVzdCdcclxuXHJcbmZ1bmN0aW9uIHdyYW5uaW5nKHN0cikge1xyXG5cdC8vIOW8gOWPkeeOr+Wig+i/m+ihjOS/oeaBr+i+k+WHuizkuLvopoHmmK/kuIDkupvmiqXplJnkv6Hmga9cclxuXHQvLyDov5nkuKrnjq/looPnmoTmnaXnlLHmmK/lnKjnqIvluo/nvJblhpnml7blgJks54K55Ye7aHjnvJbovpHlmajov5DooYzosIPor5Xku6PnoIHnmoTml7blgJks6K+m6KeBOlxyXG5cdC8vIFx0aHR0cHM6Ly91bmlhcHAuZGNsb3VkLmlvL2ZyYW1lP2lkPSVlNSViYyU4MCVlNSU4ZiU5MSVlNyU4ZSVhZiVlNSVhMiU4MyVlNSU5MiU4YyVlNyU5NCU5ZiVlNCViYSVhNyVlNyU4ZSVhZiVlNSVhMiU4M1xyXG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xyXG5cdFx0Y29uc29sZS53YXJuKHN0cilcclxuXHR9XHJcbn1cclxuXHJcbi8vIOWwneivleWIpOaWreWcqOagueebruW9leeahC9zdG9yZeS4reaYr+WQpuaciSR1Lm1peGluLmpz77yM5q2k5paH5Lu2dVZpZXfpu5jorqTkuLrpnIDopoHmjILlnKjliLDlhajlsYDnmoR2dWV455qEc3RhdGXlj5jph49cclxuLy8gSFgyLjYuMTHniYjmnKws5pS+5YiwdHJ55LitLOaOp+WItuWPsOS+neeEtuS8muitpuWRiizmmoLml7bkuI3nlKjmraTmlrnlvI/vvIxcclxuLy8gbGV0IHZ1ZXhTdG9yZSA9IHt9O1xyXG4vLyB0cnkge1xyXG4vLyBcdHZ1ZXhTdG9yZSA9IHJlcXVpcmUoXCJAL3N0b3JlLyR1Lm1peGluLmpzXCIpO1xyXG4vLyB9IGNhdGNoIChlKSB7XHJcbi8vIFx0Ly9UT0RPIGhhbmRsZSB0aGUgZXhjZXB0aW9uXHJcbi8vIH1cclxuXHJcbi8vIHBvc3Tnsbvlnovlr7nosaHlj4LmlbDovazkuLpnZXTnsbvlnot1cmzlj4LmlbBcclxuaW1wb3J0IHF1ZXJ5UGFyYW1zIGZyb20gJy4vbGlicy9mdW5jdGlvbi9xdWVyeVBhcmFtcy5qcydcclxuLy8g6Lev55Sx5bCB6KOFXHJcbmltcG9ydCByb3V0ZSBmcm9tICcuL2xpYnMvZnVuY3Rpb24vcm91dGUuanMnXHJcbi8vIOaXtumXtOagvOW8j+WMllxyXG5pbXBvcnQgdGltZUZvcm1hdCBmcm9tICcuL2xpYnMvZnVuY3Rpb24vdGltZUZvcm1hdC5qcydcclxuLy8g5pe26Ze05oiz5qC85byP5YyWLOi/lOWbnuWkmuS5heS5i+WJjVxyXG5pbXBvcnQgdGltZUZyb20gZnJvbSAnLi9saWJzL2Z1bmN0aW9uL3RpbWVGcm9tLmpzJ1xyXG4vLyDpopzoibLmuJDlj5jnm7jlhbMsY29sb3JHcmFkaWVudC3popzoibLmuJDlj5gsaGV4VG9SZ2It5Y2B5YWt6L+b5Yi26aKc6Imy6L2scmdi6aKc6ImyLHJnYlRvSGV4LXJnYui9rOWNgeWFrei/m+WItlxyXG5pbXBvcnQgY29sb3JHcmFkaWVudCBmcm9tICcuL2xpYnMvZnVuY3Rpb24vY29sb3JHcmFkaWVudC5qcydcclxuLy8g55Sf5oiQ5YWo5bGA5ZSv5LiAZ3VpZOWtl+espuS4slxyXG5pbXBvcnQgZ3VpZCBmcm9tICcuL2xpYnMvZnVuY3Rpb24vZ3VpZC5qcydcclxuLy8g5Li76aKY55u45YWz6aKc6ImyLGluZm98c3VjY2Vzc3x3YXJuaW5nfHByaW1hcnl8ZGVmYXVsdHxlcnJvcizmraTpopzoibLlt7LlnKh1dmlldy5zY3Nz5Lit5a6a5LmJLOS9huaYr+S4umpz5Lit5Lmf6IO95L2/55SoLOaVheS5n+WumuS5ieS4gOS7vVxyXG5pbXBvcnQgY29sb3IgZnJvbSAnLi9saWJzL2Z1bmN0aW9uL2NvbG9yLmpzJ1xyXG4vLyDmoLnmja50eXBl6I635Y+W5Zu+5qCH5ZCN56ewXHJcbmltcG9ydCB0eXBlMmljb24gZnJvbSAnLi9saWJzL2Z1bmN0aW9uL3R5cGUyaWNvbi5qcydcclxuLy8g5omT5Lmx5pWw57uE55qE6aG65bqPXHJcbmltcG9ydCByYW5kb21BcnJheSBmcm9tICcuL2xpYnMvZnVuY3Rpb24vcmFuZG9tQXJyYXkuanMnXHJcbi8vIOWvueixoeWSjOaVsOe7hOeahOa3seW6puWFi+mahlxyXG5pbXBvcnQgZGVlcENsb25lIGZyb20gJy4vbGlicy9mdW5jdGlvbi9kZWVwQ2xvbmUuanMnXHJcbi8vIOWvueixoea3seW6puaLt+i0nVxyXG5pbXBvcnQgZGVlcE1lcmdlIGZyb20gJy4vbGlicy9mdW5jdGlvbi9kZWVwTWVyZ2UuanMnXHJcbi8vIOa3u+WKoOWNleS9jVxyXG5pbXBvcnQgYWRkVW5pdCBmcm9tICcuL2xpYnMvZnVuY3Rpb24vYWRkVW5pdC5qcydcclxuXHJcbi8vIOinhOWImeajgOmqjFxyXG5pbXBvcnQgdGVzdCBmcm9tICcuL2xpYnMvZnVuY3Rpb24vdGVzdC5qcydcclxuLy8g6ZqP5py65pWwXHJcbmltcG9ydCByYW5kb20gZnJvbSAnLi9saWJzL2Z1bmN0aW9uL3JhbmRvbS5qcydcclxuLy8g5Y676Zmk56m65qC8XHJcbmltcG9ydCB0cmltIGZyb20gJy4vbGlicy9mdW5jdGlvbi90cmltLmpzJ1xyXG4vLyB0b2FzdOaPkOekuu+8jOWvuXVuaS5zaG93VG9hc3TnmoTlsIHoo4VcclxuaW1wb3J0IHRvYXN0IGZyb20gJy4vbGlicy9mdW5jdGlvbi90b2FzdC5qcydcclxuLy8g6I635Y+W54i257uE5Lu25Y+C5pWwXHJcbmltcG9ydCBnZXRQYXJlbnQgZnJvbSAnLi9saWJzL2Z1bmN0aW9uL2dldFBhcmVudC5qcydcclxuLy8g6I635Y+W5pW05Liq54i257uE5Lu2XHJcbmltcG9ydCAkcGFyZW50IGZyb20gJy4vbGlicy9mdW5jdGlvbi8kcGFyZW50LmpzJ1xyXG4vLyDojrflj5ZzeXMoKeWSjG9zKCnlt6Xlhbfmlrnms5VcclxuLy8g6I635Y+W6K6+5aSH5L+h5oGv77yM5oyC6L295YiwJHXnmoRzeXMoKShzeXN0ZW3nmoTnvKnlhpkp5bGe5oCn5Lit77yMXHJcbi8vIOWQjOaXtuaKiuWuieWNk+WSjGlvc+W5s+WPsOeahOWQjeensFwiaW9zXCLlkoxcImFuZHJvaWRcIuaMguWIsCR1Lm9zKCnkuK3vvIzmlrnkvr/lj5bnlKhcclxuaW1wb3J0IHtzeXMsIG9zfSBmcm9tICcuL2xpYnMvZnVuY3Rpb24vc3lzLmpzJ1xyXG4vLyDpmLLmipbmlrnms5VcclxuaW1wb3J0IGRlYm91bmNlIGZyb20gJy4vbGlicy9mdW5jdGlvbi9kZWJvdW5jZS5qcydcclxuLy8g6IqC5rWB5pa55rOVXHJcbmltcG9ydCB0aHJvdHRsZSBmcm9tICcuL2xpYnMvZnVuY3Rpb24vdGhyb3R0bGUuanMnXHJcblxyXG5cclxuLy8g6YWN572u5L+h5oGvXHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi9saWJzL2NvbmZpZy9jb25maWcuanMnXHJcbi8vIOWQhOS4qumcgOimgWZpeGVk55qE5Zyw5pa555qEei1pbmRleOmFjee9ruaWh+S7tlxyXG5pbXBvcnQgekluZGV4IGZyb20gJy4vbGlicy9jb25maWcvekluZGV4LmpzJ1xyXG5cclxuY29uc3QgJHUgPSB7XHJcblx0cXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxyXG5cdHJvdXRlOiByb3V0ZSxcclxuXHR0aW1lRm9ybWF0OiB0aW1lRm9ybWF0LFxyXG5cdGRhdGU6IHRpbWVGb3JtYXQsIC8vIOWPpuWQjWRhdGVcclxuXHR0aW1lRnJvbSxcclxuXHRjb2xvckdyYWRpZW50OiBjb2xvckdyYWRpZW50LmNvbG9yR3JhZGllbnQsXHJcblx0Y29sb3JUb1JnYmE6IGNvbG9yR3JhZGllbnQuY29sb3JUb1JnYmEsXHJcblx0Z3VpZCxcclxuXHRjb2xvcixcclxuXHRzeXMsXHJcblx0b3MsXHJcblx0dHlwZTJpY29uLFxyXG5cdHJhbmRvbUFycmF5LFxyXG5cdHdyYW5uaW5nLFxyXG5cdGdldDogaHR0cC5nZXQsXHJcblx0cG9zdDogaHR0cC5wb3N0LFxyXG5cdHB1dDogaHR0cC5wdXQsXHJcblx0J2RlbGV0ZSc6IGh0dHAuZGVsZXRlLFxyXG5cdGhleFRvUmdiOiBjb2xvckdyYWRpZW50LmhleFRvUmdiLFxyXG5cdHJnYlRvSGV4OiBjb2xvckdyYWRpZW50LnJnYlRvSGV4LFxyXG5cdHRlc3QsXHJcblx0cmFuZG9tLFxyXG5cdGRlZXBDbG9uZSxcclxuXHRkZWVwTWVyZ2UsXHJcblx0Z2V0UGFyZW50LFxyXG5cdCRwYXJlbnQsXHJcblx0YWRkVW5pdCxcclxuXHR0cmltLFxyXG5cdHR5cGU6IFsncHJpbWFyeScsICdzdWNjZXNzJywgJ2Vycm9yJywgJ3dhcm5pbmcnLCAnaW5mbyddLFxyXG5cdGh0dHAsXHJcblx0dG9hc3QsXHJcblx0Y29uZmlnLCAvLyB1Vmlld+mFjee9ruS/oeaBr+ebuOWFs++8jOavlOWmgueJiOacrOWPt1xyXG5cdHpJbmRleCxcclxuXHRkZWJvdW5jZSxcclxuXHR0aHJvdHRsZSxcclxufVxyXG5cclxuLy8gJHXmjILovb3liLB1bmnlr7nosaHkuIpcclxudW5pLiR1ID0gJHVcclxuXHJcbmNvbnN0IGluc3RhbGwgPSBWdWUgPT4ge1xyXG5cdFZ1ZS5taXhpbihtaXhpbikgXHJcbiAgLy8gI2lmbmRlZiBWVUUzXHJcblx0aWYgKFZ1ZS5wcm90b3R5cGUub3BlblNoYXJlKSB7XHJcblx0XHRWdWUubWl4aW4obXBTaGFyZSk7XHJcblx0fVxyXG5cdC8vIFZ1ZS5taXhpbih2dWV4U3RvcmUpO1xyXG5cdC8vIOaXtumXtOagvOW8j+WMlu+8jOWQjOaXtuS4pOS4quWQjeensO+8jGRhdGXlkox0aW1lRm9ybWF0XHJcblx0VnVlLmZpbHRlcigndGltZUZvcm1hdCcsICh0aW1lc3RhbXAsIGZvcm1hdCkgPT4ge1xyXG5cdFx0cmV0dXJuIHRpbWVGb3JtYXQodGltZXN0YW1wLCBmb3JtYXQpXHJcblx0fSlcclxuXHRWdWUuZmlsdGVyKCdkYXRlJywgKHRpbWVzdGFtcCwgZm9ybWF0KSA9PiB7XHJcblx0XHRyZXR1cm4gdGltZUZvcm1hdCh0aW1lc3RhbXAsIGZvcm1hdClcclxuXHR9KVxyXG5cdC8vIOWwhuWkmuS5heS7peWJjeeahOaWueazle+8jOazqOWFpeWIsOWFqOWxgOi/h+a7pOWZqFxyXG5cdFZ1ZS5maWx0ZXIoJ3RpbWVGcm9tJywgKHRpbWVzdGFtcCwgZm9ybWF0KSA9PiB7XHJcblx0XHRyZXR1cm4gdGltZUZyb20odGltZXN0YW1wLCBmb3JtYXQpXHJcblx0fSlcclxuXHRWdWUucHJvdG90eXBlLiR1ID0gJHVcclxuICAvLyAjZW5kaWZcclxuICAvLyAjaWZkZWYgVlVFM1xyXG4gIFZ1ZS5jb25maWcuZ2xvYmFsUHJvcGVydGllcy4kdSA9ICR1XHJcbiAgLy8gI2VuZGlmXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuXHRpbnN0YWxsXHJcbn0iLCI8c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxyXG5cdGltcG9ydCB7XHJcblx0XHRvbkxhdW5jaCxcclxuXHRcdG9uU2hvdyxcclxuXHRcdG9uSGlkZSxcclxuXHRcdG9uVGhlbWVDaGFuZ2UsXHJcblx0XHRvblNoYXJlQXBwTWVzc2FnZSxcclxuXHRcdG9uU2hhcmVUaW1lbGluZVxyXG5cdH0gZnJvbSBcIkBkY2xvdWRpby91bmktYXBwXCJcclxuXHQvLyBpbXBvcnQgVW5pIGZyb20gXCIuL3V0aWxzL3VuaVwiXHJcblx0XHJcblx0Y2xhc3MgQXBwU2hhcmVDb250ZW50IGltcGxlbWVudHMgUGFnZS5DdXN0b21TaGFyZUNvbnRlbnQge1xyXG5cdFx0c3RhdGljIGNyZWF0ZSgpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBBcHBTaGFyZUNvbnRlbnQoKVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRvbkxhdW5jaCgoKSA9PiB7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHR9KVxyXG5cdG9uU2hvdygoKSA9PiB7XHJcblx0XHQvLyBfX2ZfXygnbG9nJywnYXQgQXBwLnZ1ZToyNicsXCJBcHAgU2hvd1wiKTtcclxuXHR9KVxyXG5cdG9uSGlkZSgoKSA9PiB7XHJcblx0XHQvLyBfX2ZfXygnbG9nJywnYXQgQXBwLnZ1ZToyOScsXCJBcHAgSGlkZVwiKTtcclxuXHR9KVxyXG5cdG9uVGhlbWVDaGFuZ2Uob3B0aW9ucyA9PiB7XHJcblx0XHRfX2ZfXygnbG9nJywnYXQgQXBwLnZ1ZTozMicsJ+ezu+e7n+S4u+mimOWPmOWMljonICsgb3B0aW9ucy50aGVtZSlcclxuXHR9KVxyXG5cdG9uU2hhcmVBcHBNZXNzYWdlKG9wdGlvbnMgPT4ge1xyXG5cdFx0aWYgKG9wdGlvbnMud2ViVmlld1VybCkge1xyXG5cclxuXHRcdH1cclxuXHRcdHJldHVybiBBcHBTaGFyZUNvbnRlbnQuY3JlYXRlKClcclxuXHR9KVxyXG5cdG9uU2hhcmVUaW1lbGluZSgoKSA9PiAoe1xyXG5cdFx0dGl0bGU6IFwiXCIsXHJcblx0XHRxdWVyeTogXCJmcm9tPWFwcFwiLFxyXG5cdFx0aW1hZ2VVcmw6IFwiXCJcclxuXHR9KSlcclxuPC9zY3JpcHQ+XHJcbjxzdHlsZSBsYW5nPVwic2Nzc1wiPlxyXG4vLyBAaW1wb3J0ICdAL3VuaV9tb2R1bGVzL3VuaS1zY3NzJ1xyXG5AaW1wb3J0IFwidmstdXZpZXctdWkvaW5kZXguc2Nzc1wiO1xyXG5cclxuLmJvbGQge1xyXG5cdGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcbjwvc3R5bGU+XHJcbiJdLCJuYW1lcyI6WyJuYW1lIiwiaXNTdHJpbmciLCJnZXRDdXJyZW50SW5zdGFuY2UiLCJpc0luU1NSQ29tcG9uZW50U2V0dXAiLCJpbmplY3RIb29rIiwiX3NmY19tYWluIiwiX2NyZWF0ZUVsZW1lbnRCbG9jayIsIl9ub3JtYWxpemVTdHlsZSIsIl9yZW5kZXJTbG90IiwiX25vcm1hbGl6ZUNsYXNzIiwiX2NyZWF0ZUNvbW1lbnRWTm9kZSIsIl9jcmVhdGVWTm9kZSIsIl9jcmVhdGVFbGVtZW50Vk5vZGUiLCJfY3JlYXRlQmxvY2siLCJfdG9EaXNwbGF5U3RyaW5nIiwiX29wZW5CbG9jayIsIl9GcmFnbWVudCIsIl9yZW5kZXJMaXN0IiwiaW5qZWN0IiwiaXNPYmplY3QiLCJzdG9yZSIsImVmZmVjdFNjb3BlIiwiY29tcHV0ZWQiLCJyZWFjdGl2ZSIsIm1vZHVsZU5hbWUiLCJ3YXRjaCIsInN0YXRlIiwiTW9kdWxlIiwidXBkYXRlIiwiTW9kdWxlQ29sbGVjdGlvbiIsIlN0b3JlIiwiZGV2dG9vbHMiLCJvcHRpb25zIiwiaW5zdGFsbCIsImxvY2FsZSIsImhhc093blByb3BlcnR5IiwiaGFzT3duIiwiaXNBcnJheSIsImNvZGUiLCJwcm9wcyIsIm1lc3NhZ2VzIiwiZXJyb3JNZXNzYWdlcyIsImkxOG4iLCJ2ZXJzaW9uIiwid2Fybk1lc3NhZ2VzIiwiZ2V0V2Fybk1lc3NhZ2UiLCJWRVJTSU9OIiwiZm9ybWF0IiwibXNnIiwic291cmNlIiwibnVtYmVyIiwicmVmIiwiY3JlYXRlVk5vZGUiLCJUZXh0IiwiX2NvbnRleHQiLCJoIiwiRnJhZ21lbnQiLCJnbG9iYWwiLCJsb2NhbGVzIiwiY29tcG9zZXIiLCJvbk1vdW50ZWQiLCJvblVubW91bnRlZCIsImlzUmVmIiwiY3J5cHRvIiwidW5pLnJlcXVpcmVOYXRpdmVQbHVnaW4iLCJSZWZsZWN0IiwiTWFwSXRlcmF0b3IiLCJNYXAiLCJTZXQiLCJXZWFrTWFwIiwidXJsIiwiX19kZWZhdWx0X18iLCJfX2ZfXyIsImNvbmZpZyIsIl9fZGVjb3JhdGVDbGFzcyIsIk5TQ2hhdCIsIlByb3ZpZGVyIiwiUm9vbVR5cGUiLCJyb29tIiwidXNlciIsInZhbGlkYXRlIiwiZGF0ZSIsImNvbG9yIiwiYXJyYXkiLCJ2YWxpZGF0aW9uIiwiY29sb3JHcmFkaWVudCIsIlZ1ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBNE9BLFFBQU0sVUFBVTtBQUNoQixRQUFNLFVBQVU7QUFFaEIsUUFBTSxZQUFZO0FBRWxCLFFBQU0sa0JBQWtCO0FBbUJ4QixRQUFNLG9CQUFvQjtBQUUxQixRQUFNLHVCQUF1QjtBQ25ON0IsV0FBQSxvQkFBQUEsT0FBQTtBQUNBLFdBQUEsS0FBQSxjQUFBQSxLQUFBO0FBQUEsRUFDQTtBQUVBLFdBQUEs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LElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQ25HO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFDN0Y7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUMzRjtBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSTtB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QUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBLE1BQU0sQ0FBQyxXQUFXLFdBQVcsU0FBUyxXQUFXLE1BQU07QUFBQSxJQUN2RDtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUE7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNEO0FBR0EsTUFBSSxLQUFLO0FBRVQsUUFBTSxVQUFVLENBQUFDLFNBQU87QUFDdEIsSUFBQUEsS0FBSSxNQUFNLEtBQUs7QUFvQmQsSUFBQUEsS0FBSSxPQUFPLGlCQUFpQixLQUFLO0FBQUEsRUFFbkM7QUFFZSxRQUFBLFFBQUE7QUFBQSxJQUNkO0FBQUEsRUFDRDs7OztBQ3RJQyxZQUFNLGdCQUFtRDtBQUFBLFFBQ3hELE9BQU8sU0FBUztBQUNmLGlCQUFPLElBQUksZ0JBQWdCO0FBQUEsUUFDNUI7QUFBQSxNQUNEO0FBRUEsZUFBUyxNQUFNO0FBQUEsTUFBQSxDQU1kO0FBQ0QsYUFBTyxNQUFNO0FBQUEsTUFBQSxDQUVaO0FBQ0QsYUFBTyxNQUFNO0FBQUEsTUFBQSxDQUVaO0FBQ0Qsb0JBQWMsQ0FBVyxZQUFBO0FBQ3hCZCxxQkFBTSxPQUFNLGlCQUFnQixZQUFZLFFBQVEsS0FBSztBQUFBLE1BQUEsQ0FDckQ7QUFDRCx3QkFBa0IsQ0FBVyxZQUFBO0FBQzVCLFlBQUksUUFBUTtBQUFZO0FBR3hCLGVBQU8sZ0JBQWdCO01BQU8sQ0FDOUI7QUFDRCxzQkFBZ0IsT0FBTztBQUFBLFFBQ3RCLE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxRQUNQLFVBQVU7QUFBQSxNQUNULEVBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwzMSwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSw2Miw2Myw2NF19
