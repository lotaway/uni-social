{"version":3,"sources":["uni_modules/lotaway-getbatteryinfo/utssdk/app-android/index.uts","uni_modules/lotaway-getbatteryinfo/utssdk/interface.uts"],"sourcesContent":["import Context from 'android.content.Context';\nimport UTSAndroid from 'io.dcloud.uts.UTSAndroid';\nimport BatteryManager from 'android.os.BatteryManager';\nimport AppWidgetProvider from 'android.appwidget.AppWidgetProvider';\nimport {ResponseInfo, SuccessResponseInfo, ErrorResponseInfo} from \"../interface.uts\"\nimport AppWidgetManager from 'android.appwidget.AppWidgetManager';\n\nexport function getBatteryCapacity(): ResponseInfo {\n\tconst context = UTSAndroid.getAppContext()\n\tif (context == null)\n\t\treturn ErrorResponseInfo.ContextMissing\n\tconst manager = context.getSystemService(\n\t\tContext.BATTERY_SERVICE\n\t) as BatteryManager\n\tconst currentLevel = manager.getIntProperty(\n\t\tBatteryManager.BATTERY_PROPERTY_CAPACITY\n\t)\n\treturn new SuccessResponseInfo(currentLevel, manager.isCharging())\n}\n\nexport class DoAppWidget extends AppWidgetProvider {\n\t\n\tconstructor() {\n\t\tsuper()\n\t}\n\t\n\toverride onUpdate(context: Context, manager: AppWidgetManager, numbers: IntArray): void {\n\t\tconsole.log(\"onUpdate\")\n\t\treturn super.onUpdate(context, manager, numbers)\n\t}\n}\n","\nexport enum ResultStatus {\n\tCurrent,\n\tContextMissing,\n}\n\nexport interface ResponseInfo {\n\tstatus: ResultStatus\n\tlevel: number\n\tisCharging: boolean\n}\n\nexport class SuccessResponseInfo implements ResponseInfo {\n\tstatus: ResultStatus = ResultStatus.Current\n\tconstructor(public level: number, public isCharging: boolean) {}\n}\n\nexport class ErrorResponseInfo implements ResponseInfo {\n\tstatic readonly ContextMissing = new ErrorResponseInfo(ResultStatus.ContextMissing)\n\tpublic level: number = 0\n\tpublic isCharging: boolean = false\n\tconstructor(public status: ResultStatus) {\n\t\t\n\t}\n\t\n}\n"],"names":[],"mappings":";;;;;;;AAAA,OAAoB,uBAAyB,CAAC;AAC9C,OAAuB,wBAA0B,CAAC;AAClD,OAA2B,yBAA2B,CAAC;AACvD,OAA8B,mCAAqC,CAAC;AAEpE,OAA6B,kCAAoC,CAAC;WCJtD;IACX;IACA;;UAGgB;QAChB,QAAQ;QACR,OAAO,MAAM;QACb,YAAY,OAAO;;AAGb,WAAM,sBAA+B;IAE/B,aAAO,OAAO,MAAM,CAAA;IAAE,aAAO,YAAY,OAAO,CAAA;IAD5D,aAAA,QAAQ,eAAe,aAAa,OAAO,CAAA;IAC3C,YAAY,AAAO,OAAO,MAAM,EAAE,AAAO,YAAY,OAAO,CAAE;aAA3C,QAAA;aAAsB,aAAA;IAAsB;AAChE;AAEO,WAAM,oBAA6B;IAI7B,aAAO,QAAQ,aAAY;IAFvC,aAAO,OAAO,MAAM,GAAG,CAAC,CAAA;IACxB,aAAO,YAAY,OAAO,GAAG,KAAK,CAAA;IAClC,YAAY,AAAO,QAAQ,YAAY,CAAE;aAAtB,SAAA;IAEnB;;QALA,IAAgB,iBAAiB,AAAI,kBAAkB,aAAa,cAAc,EAAC;;AAOpF;ADlBO,IAAS,mCAAmC;IAClD,IAAM,UAAU,WAAW,aAAa;IACxC,IAAI,WAAW,IAAI,EAClB,OAAO,kBAAkB,cAAc;IACxC,IAAM,UAAU,QAAQ,gBAAgB,CACvC,QAAQ,eAAe,KACnB;IACL,IAAM,eAAe,QAAQ,cAAc,CAC1C,eAAe,yBAAyB;IAEzC,OAAO,oBAAwB,cAAc,QAAQ,UAAU;AAChE;AAEO,WAAM,cAAoB;IAEhC,gBACC,KAAK,GADQ,CAEd;IAEA,aAAS,SAAS,SAAS,OAAO,EAAE,SAAS,gBAAgB,EAAE,SAAS,QAAQ,GAAG,IAAI,CAAC;QACvF,QAAQ,GAAG,CAAC;QACZ,OAAO,KAAK,CAAC,QAAQ,CAAC,SAAS,SAAS;IACzC;AACD;;;;;;;;;;;;0BAJmB,SAAS,OAAO,EAAE,SAAS,gBAAgB,EAAE,SAAS,QAAQ,GAAG,IAAI;wBAArE,SAAkB,SAA2B;;;;;;;;qBCnBvD;;;;;;;oBACD,MAAM;;;;;;;yBACD,OAAO"}